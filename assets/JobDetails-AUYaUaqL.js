import{j as r}from"./index-Bw-tYXn7.js";import{L as n}from"./Loading-jXIZqK6W.js";import{f as b,J as x}from"./JobStatusScreen-B_vo42Sc.js";import{G as h}from"./GetAPI-C0R9K2iB.js";import{i as v,h as S,r as e}from"./react-vendor-C96nFidc.js";import{y as i}from"./ui-vendor-CrwEJxT6.js";import{S as w}from"./Sidebar-DN2GuJsa.js";import"./react-lifecycles-compat.es-Bz2kNPGS.js";import"./ProfileSharing-BR7QcLRf.js";import"./config-BbshSSl6.js";import"./index-D2Il0tAB.js";import"./icons-vendor-D-G97rvP.js";import"./ButtonMini-DMn_uocF.js";import"./PostAPI-Dm7qi3aC.js";import"./rtsApi-Dl_EsLra.js";import"./moment-bKu5bFg9.js";import"./memoize-one.esm-DQq2xVVF.js";import"./react-select.esm-DvMdT6fL.js";import"./proxy-ot6-3UVK.js";import"./useEventCallback-BYEKJFSl.js";import"./chart-vendor-BxnJ_ABw.js";import"./inheritsLoose-MEHl_3-6.js";const T=()=>{const{uuid:s}=v(),t=S(),[m,y]=e.useState(b),[f,c]=e.useState({}),[d,a]=e.useState(!0),[l,u]=e.useState(null),p=(o,C)=>{o==="logout"?(localStorage.clear(),t("/rts/login")):t("/rts/"+o)};e.useEffect(()=>{if(!localStorage.getItem("rts_user_uuid")){i.error("Please login to view job details"),t("/rts/login");return}s&&j()},[s,t]);const j=async()=>{a(!0);try{const o=await h(`rts/jobs/uuid/${s}`);o.code===200&&o.job?(c(o.job),u(o.job.job_id)):(i.error("Failed to load job details"),t("/rts/jobs"))}catch(o){console.error("Error fetching job details:",o),i.error("Error loading job details"),t("/rts/jobs")}finally{a(!1)}},g=()=>{t("/rts/jobs")};return d?r.jsx(n,{}):l?r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 w-full",children:[r.jsx(w,{activeComponent:"jobs",onMenuClick:p}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden w-full",children:r.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50",children:r.jsx("div",{className:"w-full h-full",children:r.jsx(x,{primID:l,onBack:g,formConfig:m,formData:f})})})})]}):r.jsx(n,{})};export{T as default};
