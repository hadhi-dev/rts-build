import{j as e,r as b}from"./index-CTwupIc6.js";import{C as U,I as R,H as A,V as F,R as E,T,a as W,b as Q,c as J}from"./TableView-BfJ1TjXl.js";import{B as d}from"./ButtonMini-DG-9Z1QU.js";import{P as H}from"./PostAPI-Dm7qi3aC.js";import{y as k}from"./CONSTANTS-DAkaMczv.js";import{c as _}from"./config-BbshSSl6.js";import"./with-selector-hCPgY7BA.js";/* empty css                      */const S={UserRegIDPK:0,FullName:"",Email:"",Qualification:"",Designation:"",ContactNumber:"",WhatsappNumber:"",InternshipDomain:"",JoinedLinkedIn:!1,JoinedWhatsapp:!1,Queries:"",IsVerified:!1,CreatedAt:"",UpdatedAt:""},O=[{fieldName:"FullName",type:"text",label:"Name",IsVisible:!0,className:"w-full"},{fieldName:"Email",type:"text",label:"Email",IsVisible:!0,className:"w-full"},{fieldName:"ContactNumber",type:"text",label:"Contact",IsVisible:!0,className:"w-1/2"},{fieldName:"InternshipDomain",type:"text",label:"Domain",IsVisible:!0,className:"w-1/2"},{fieldName:"IsVerified",type:"boolean",label:"Onboarded",IsVisible:!0,className:"w-1/2"}],K=[{fieldName:"FullName",type:"text",label:"Full Name",IsVisible:!0,className:"w-1/6"},{fieldName:"Email",type:"text",label:"Email",IsVisible:!0,className:"w-1/6"},{fieldName:"PasswordHash",type:"text",label:"Password Hash",IsVisible:!1},{fieldName:"Qualification",type:"text",label:"Qualification",IsVisible:!0,className:"w-1/6"},{fieldName:"Designation",type:"text",label:"Designation",IsVisible:!0,className:"w-1/6"},{fieldName:"ContactNumber",type:"text",label:"Contact Number",IsVisible:!0,className:"w-1/6"},{fieldName:"WhatsappNumber",type:"text",label:"WhatsApp Number",IsVisible:!0,className:"w-1/6"},{fieldName:"InternshipDomain",type:"text",label:"Internship Domain",IsVisible:!0,className:"w-1/6"},{fieldName:"JoinedLinkedIn",type:"boolean",label:"Joined LinkedIn",IsVisible:!0,className:"w-1/6"},{fieldName:"JoinedWhatsapp",type:"boolean",label:"Joined WhatsApp",IsVisible:!0,className:"w-1/6"},{fieldName:"Queries",type:"text",label:"Queries",IsVisible:!0,className:"w-1/6"},{fieldName:"VerificationToken",type:"text",label:"Verification Token",IsVisible:!1},{fieldName:"IsVerified",type:"boolean",label:"Is Verified",IsVisible:!0,className:"w-1/6"},{fieldName:"UserRole",type:"text",label:"User Role",IsVisible:!0,className:"w-1/6"},{fieldName:"CreatedAt",type:"text",label:"Created At",IsVisible:!0,className:"w-1/6"},{fieldName:"UpdatedAt",type:"text",label:"Updated At",IsVisible:!0,className:"w-1/6"}],M=[{label:"Full Name",fieldName:"FullName",type:"text",className:"w-full md:w-1/2",IsMandatory:1,IsVisible:1,IsDisable:0},{label:"Email",fieldName:"Email",type:"email",className:"w-full md:w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Qualification",fieldName:"Qualification",type:"text",className:"w-full md:w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Designation",fieldName:"Designation",type:"text",className:"w-full md:w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Contact Number",fieldName:"ContactNumber",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Whatsapp Number",fieldName:"WhatsappNumber",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Internship Domain",fieldName:"InternshipDomain",fieldID:"InternshipDomainID",info:"Space",type:"text",className:"w-full md:w-1/3",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"LinkedIn",fieldName:"JoinedLinkedIn",type:"checkbox",className:"w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Whatsapp",fieldName:"JoinedWhatsapp",type:"checkbox",className:"w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Queries",fieldName:"Queries",type:"text",className:"w-full",IsMandatory:0,IsVisible:1,IsDisable:0},{label:"Onboarded",fieldName:"IsVerified",type:"checkbox",className:"w-1/2",IsMandatory:0,IsVisible:1,IsDisable:0}],$=({handleSubmit:u,clearForm:c,primID:l,formConfig:n,formData:o,handleChange:m,onBack:t,title:f})=>e.jsxs("form",{onSubmit:u,className:"w-full",children:[e.jsxs("div",{className:"w-full flex gap-2 items-center justify-between",children:[e.jsxs("button",{className:"py-2 text-gray-700 flex items-center hover:bg-gray-200 focus:outline-none rounded-full",onClick:()=>t("table"),children:[e.jsx("i",{className:"material-icons",children:"arrow_back"}),e.jsx("span",{className:"ml-2 text-md font-bold text-blue-600 pr-2",children:f})]}),e.jsxs("div",{className:"w-full flex gap-2 items-center justify-end pr-2",children:[l?e.jsx(d,{className:"hidden md:flex",name:"Close",onClick:t,color:"blue",icon:"close"}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"hidden md:flex",name:"Close",onClick:t,color:"red",icon:"close"}),e.jsx(d,{className:"hidden md:flex",name:"Clear",onClick:c,color:"red",icon:"cancel"})]}),e.jsx(d,{className:"hidden md:flex",name:l>0?"Update":"Save",icon:"save",type:"submit",color:"green"})]})]}),e.jsx("div",{className:"w-full flex p-2 gap-2 items-center justify-end",children:n.map(i=>i.type==="checkbox"&&i.IsVisible?e.jsx(U,{field:i,formData:o,handleChange:m},i.fieldName):"")}),e.jsx("div",{className:"w-full flex flex-wrap gap-y-2 mt-4",children:n.map(i=>i.type!=="checkbox"&&i.IsVisible?e.jsx(R,{field:i,formData:o,handleChange:m},i.fieldName):null)}),e.jsx("div",{className:"w-full fixed bottom-0 bg-white p-4 md:hidden",children:e.jsxs("div",{className:"flex justify-end gap-1 pr-2",children:[l?e.jsx(d,{name:"Close",className:"text-lg",onClick:t,color:"red",icon:"close"}):e.jsxs(e.Fragment,{children:[e.jsx(d,{name:"Close",className:"text-lg",onClick:t,color:"red",icon:"close"}),e.jsx(d,{name:"Clear",className:"text-lg",onClick:c,color:"red",icon:"cancel"})]}),e.jsx(d,{name:l>0?"Update":"Save",icon:"save",type:"submit",color:"blue"})]})})]}),B=({formConfig:u,formData:c,primID:l,onBack:n,handleEdit:o,handleAdd:m,title:t})=>e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsxs("div",{className:"bg-white w-full",children:[e.jsx(A,{title:t,onBack:n,handleEdit:o,handleAdd:m,primID:l}),e.jsx(F,{formConfig:u,formData:c}),e.jsx(E,{onBack:n,handleAdd:m,handleEdit:o,primID:l})]})}),q=({handleAdd:u,title:c,refresh:l,TotalCount:n})=>e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"border border-0 border-l-2 border-blue-600 pl-2 text-md font-bold text-blue-600",children:[c," (",n||0,")"]}),e.jsx("i",{title:"Refresh",onClick:l,className:"bi bi-arrow-clockwise ml-2 cursor-pointer text-blue-700"})]}),e.jsx("div",{children:e.jsx(d,{className:"hidden md:flex",name:"Add",onClick:u,color:"blue",icon:"add"})})]}),z=({tableFields:u,cardViewFields:c,dataList:l,handleEdit:n,handleView:o,title:m,isCardView:t,setCardView:f,IDPK:i})=>{const[I,C]=b.useState(""),[p,h]=b.useState(0),[N,V]=b.useState(20),x=(a,j)=>{j(a.target.value),h(0)},w=()=>{f(!t),h(0)},v=({selected:a})=>{h(a)},y=a=>{x(a,V)},g=l.filter(a=>Object.values(a).join(" ").toLowerCase().includes(I.toLowerCase())),s=g.slice(p*N,(p+1)*N),r=Math.ceil(g.length/N);return e.jsxs("div",{className:"p-1",children:[e.jsx(T,{handleSearchChange:a=>x(a,C),searchInput:I,toggleView:w,isCardView:t,handleItemsPerPageChange:y,itemsPerPage:N}),t?e.jsx(W,{data:s,cardViewFields:c,handleEdit:n,handleView:o,title:m,IDPK:i}):e.jsx(Q,{tableFields:u,dataList:s,handleEdit:n,handleView:o,IDPK:i}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"mb-16"}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white p-2 flex items-center justify-center space-x-2",children:e.jsx(J,{pageCount:r,pageRangeDisplayed:2,marginPagesDisplayed:1,onPageChange:v,containerClassName:"pagination ml-2",activeClassName:"active",breakClassName:"break-me",breakLinkClassName:"break-link",pageClassName:"page",pageLinkClassName:"page-link",previousClassName:"previous ",previousLinkClassName:"previous-link",nextClassName:"next",nextLinkClassName:"next-link",disabledClassName:"disabled",onDoubleClick:a=>a.preventDefault()})})]})]})},P="UserRegIDPK",le=u=>{const[c,l]=b.useState(S),[n,o]=b.useState([]),[m,t]=b.useState("table"),[f,i]=b.useState(0),[I,C]=b.useState(!1);b.useEffect(()=>{p()},[]);const p=async()=>{try{const s=await fetch(`${_.API_URL}userregistrations`);if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);const r=await s.json();o(r.data)}catch(s){console.error("Error fetching data:",s)}},h=s=>{const{name:r,checked:a,type:j}=s.target;if(j==="checkbox")l(D=>({...D,[r]:a}));else{const D=s.target.value;l(L=>({...L,[r]:D}))}},N=async s=>{try{const{status:r,data:a}=await H("userregistration_save",{data:s});r===200&&a.code===200?(k.success(a.message),x(),t("table"),p()):k.warning(a.message)}catch(r){console.error("ðŸš€ ~ file: Main.js:71 ~ saveData ~ error:",r),k.error("something went wrong!")}},V=s=>{s.preventDefault(),N(c)},x=()=>{l(S),i(0)},w=s=>{const r=n.find(a=>a[P]===s);i(s),l(r),t("entry")},v=s=>{const r=n.find(a=>a[P]===s);i(s),l(r),t("view")},y=()=>{x(),t("entry")},g=()=>{switch(m){case"entry":return e.jsx($,{title:"Registered_User",primID:f,formData:c,formConfig:M,handleChange:h,handleSubmit:V,clearForm:x,onBack:()=>t("table")});case"view":return e.jsx(B,{title:"Registered_User",primID:f,formConfig:M,formData:c,onBack:()=>t("table"),handleEdit:w,handleAdd:y});case"table":default:return e.jsx(z,{IDPK:P,cardViewFields:O,tableFields:K,dataList:n,handleEdit:w,handleView:v,isCardView:I,setCardView:C})}};return e.jsxs("div",{className:"w-screen md:w-full p-2",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("div",{className:"flex space-x-2 justify-between w-full",children:m==="table"&&e.jsx(q,{title:"Registered_Users",handleAdd:y,refresh:p})})}),g()]})};export{le as default};
