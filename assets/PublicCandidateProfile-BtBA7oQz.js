import{j as e,L as k}from"./index-CZKKA0SR.js";import{c as p}from"./config-BbshSSl6.js";import{G as g}from"./GetAPI-C0R9K2iB.js";import{f as S,r as i}from"./react-vendor-DWPARcIf.js";import{w as F,x as P,b as E,y as A,z as I,A as C,B as R,q as f,C as $,p as u,e as L}from"./index-DucPhvMM.js";import"./ui-vendor-TdGwSbkz.js";import"./icons-vendor-iI49wpkt.js";const B=()=>{const{job_app_uuid:l}=S(),[j,x]=i.useState(!0),[t,b]=i.useState(null),[d,v]=i.useState(null),[h,o]=i.useState(null),[s,N]=i.useState(null);i.useEffect(()=>{l&&y()},[l]);const y=async()=>{try{x(!0);const a=await g(`rts/job_applications/${l}/candidateDetails`);if(a&&a.data){const{job:r,candidate:c}=a.data;v(r),b(c),o(null)}else o("Profile not found");try{const r=await g(`public/job_applications/${l}/interview-data`);if(r&&r.code===200&&r.data){const{code:c,access_token:_,interviewed_data:n}=r.data;if(n)try{const m=typeof n=="string"?JSON.parse(n):n;N({code:c,access_token:_,data:m})}catch(m){console.error("Error parsing interview data:",m)}}}catch(r){console.log("No interview data available:",r)}}catch(a){console.error("Error fetching candidate profile:",a),o("Failed to load profile. Please check the link and try again.")}finally{x(!1)}},w=a=>a?a.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2):"?";return j?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center",children:e.jsx(k,{})}):h||!t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:"⚠️"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:h||"The candidate profile you are looking for does not exist or has been removed."}),e.jsx("a",{href:"https://raahtechservices.com",className:"inline-block px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Visit Our Website"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Raah Tech Services"}),e.jsx("p",{className:"text-gray-600",children:"Candidate Profile"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-8 py-12 text-white",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[t.photo_url?e.jsx("img",{src:`${p.API_URL}rts/file/get-file?file=${t.photo_url}`,alt:t.name,className:"w-32 h-32 rounded-full border-4 border-white shadow-lg object-cover",onError:a=>{a.target.style.display="none",a.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:`w-32 h-32 rounded-full border-4 border-white shadow-lg bg-white text-indigo-600 flex items-center justify-center text-4xl font-bold ${t.photo_url?"hidden":"flex"}`,children:w(t.name)})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:t.name}),e.jsxs("p",{className:"text-indigo-100 text-lg mb-4",children:["Applied for: ",(d==null?void 0:d.title)||"N/A"]}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start text-sm",children:[t.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"opacity-80"}),e.jsx("span",{children:t.email})]}),t.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"opacity-80"}),e.jsx("span",{children:t.phone})]})]})]})]})}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.location&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(E,{className:"text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Location"}),e.jsx("p",{className:"text-gray-900 font-medium",children:t.location})]})]}),t.experience&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(A,{className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Experience"}),e.jsx("p",{className:"text-gray-900 font-medium",children:t.experience})]})]}),t.education&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(I,{className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Education"}),e.jsx("p",{className:"text-gray-900 font-medium",children:t.education})]})]}),t.linkedin_url&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(C,{className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"LinkedIn"}),e.jsx("a",{href:t.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium hover:underline",children:"View Profile"})]})]})]}),t.skills&&e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.split(",").map((a,r)=>e.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:a.trim()},r))})]}),t.summary&&e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Professional Summary"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.summary})]}),t.resume_url&&e.jsx("div",{className:"pt-6 border-t border-gray-200",children:e.jsxs("a",{href:`${p.API_URL}rts/file/get-file?file=${t.resume_url}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium",children:[e.jsx(R,{}),"Download Resume"]})})]})]}),s&&s.data&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 px-8 py-6 text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{className:"text-3xl"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Video Interview Assessment"}),e.jsx("p",{className:"text-purple-100 mt-1",children:"AI-powered interview evaluation by Flowmingo"})]})]})}),e.jsxs("div",{className:"p-8 space-y-6",children:[s.data.scores&&e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx($,{className:"text-yellow-500"}),"Overall Performance Score"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-4xl font-bold text-green-600",children:s.data.scores.overall_score||"N/A"}),e.jsx("span",{className:"text-gray-500",children:"/100"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mt-4",children:[s.data.scores.communication_score!==void 0&&e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Communication"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[s.data.scores.communication_score,"/100"]})]}),s.data.scores.technical_score!==void 0&&e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Technical Skills"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[s.data.scores.technical_score,"/100"]})]}),s.data.scores.problem_solving_score!==void 0&&e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Problem Solving"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[s.data.scores.problem_solving_score,"/100"]})]})]})]}),s.data.answers&&s.data.answers.length>0&&e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Interview Responses"}),e.jsx("div",{className:"space-y-4",children:s.data.answers.map((a,r)=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center text-white font-bold",children:r+1}),e.jsx("h4",{className:"font-semibold text-gray-900",children:a.question||`Question ${r+1}`})]}),a.score&&e.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:["Score: ",a.score]})]}),a.answer&&e.jsx("p",{className:"text-gray-700 ml-10 mb-3",children:a.answer}),a.video_url&&e.jsxs("a",{href:a.video_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 ml-10 text-indigo-600 hover:text-indigo-700 font-medium text-sm",children:[e.jsx(f,{}),"Watch Video Response",e.jsx(u,{className:"text-xs"})]}),a.feedback&&e.jsx("div",{className:"ml-10 mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold text-blue-700",children:"Feedback: "}),a.feedback]})})]},r))})]}),s.data.evaluation&&e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"AI Evaluation Summary"}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-indigo-200",children:[s.data.evaluation.summary&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.data.evaluation.summary})}),s.data.evaluation.strengths&&s.data.evaluation.strengths.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"font-semibold text-green-700 mb-2 flex items-center gap-2",children:[e.jsx(L,{}),"Strengths"]}),e.jsx("ul",{className:"space-y-1 ml-6",children:s.data.evaluation.strengths.map((a,r)=>e.jsx("li",{className:"text-gray-700 list-disc",children:a},r))})]}),s.data.evaluation.improvements&&s.data.evaluation.improvements.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-orange-700 mb-2",children:"Areas for Improvement"}),e.jsx("ul",{className:"space-y-1 ml-6",children:s.data.evaluation.improvements.map((a,r)=>e.jsx("li",{className:"text-gray-700 list-disc",children:a},r))})]}),s.data.evaluation.recommendation&&e.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Hiring Recommendation:"}),e.jsx("p",{className:"text-gray-900 font-medium",children:s.data.evaluation.recommendation})]})]})]}),s.code&&s.access_token&&e.jsx("div",{className:"pt-6 border-t border-gray-200",children:e.jsxs("a",{href:`https://apis.flowmingo.ai/company/interview/submission/c/${s.code}?access_token=${s.access_token}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-medium",children:[e.jsx(u,{}),"View Complete Interview on Flowmingo"]})})]})]}),e.jsxs("div",{className:"text-center text-gray-600 text-sm",children:[e.jsx("p",{className:"mb-2",children:"This profile is shared by Raah Tech Services"}),e.jsx("a",{href:"https://raahtechservices.com",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-700 font-medium hover:underline",children:"www.raahtechservices.com"})]})]})})};export{B as default};
