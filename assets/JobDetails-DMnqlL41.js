import{j as o}from"./index-BRtCjCOM.js";import{L as c}from"./Loading-PFELjOwu.js";import{f as x,J as w}from"./JobStatusScreen-WgF9GM0k.js";import{G as v}from"./GetAPI-C0R9K2iB.js";import{i as S,h as k,r as t}from"./react-vendor-C96nFidc.js";import{y as i}from"./ui-vendor-CrwEJxT6.js";import{S as y}from"./Sidebar-B0G0OkUM.js";import"./react-lifecycles-compat.es-Bz2kNPGS.js";import"./ProfileSharing-scZIdks-.js";import"./config-BbshSSl6.js";import"./index-Dhm8vqgr.js";import"./icons-vendor-D-G97rvP.js";import"./ButtonMini-CKiJ8p9B.js";import"./PostAPI-Dm7qi3aC.js";import"./rtsApi-Dl_EsLra.js";import"./moment-bKu5bFg9.js";import"./memoize-one.esm-DQq2xVVF.js";import"./react-select.esm-DvMdT6fL.js";import"./proxy-Dfj6t8uf.js";import"./useEventCallback-BhPxZPio.js";import"./chart-vendor-BxnJ_ABw.js";import"./inheritsLoose-MEHl_3-6.js";const U=()=>{const{uuid:s}=S(),r=k(),[m,C]=t.useState(x),[f,u]=t.useState({}),[p,a]=t.useState(!0),[l,j]=t.useState(null),h=(e,M)=>{e==="logout"?(localStorage.clear(),r("/rts/login")):r("/rts/"+e)};t.useEffect(()=>{if(!localStorage.getItem("rts_user_uuid")){i.error("Please login to view job details"),r("/rts/login");return}s&&b()},[s,r]);const b=async()=>{a(!0);try{const e=await v(`rts/jobs/uuid/${s}`);e.code===200&&e.job?(u(e.job),j(e.job.job_id)):(i.error("Failed to load job details"),r("/rts/jobs"))}catch(e){console.error("Error fetching job details:",e),i.error("Error loading job details"),r("/rts/jobs")}finally{a(!1)}},g=()=>{r("/rts/jobs")},[n,d]=t.useState(!1);return p?o.jsx(c,{}):l?o.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 w-full",children:[o.jsx("div",{className:"sm:hidden",children:o.jsx("button",{className:"fixed top-4 left-4 z-50 bg-white/80 rounded-full p-2 shadow-md focus:outline-none",onClick:()=>d(!n),"aria-label":"Open sidebar",children:o.jsx("svg",{className:"h-7 w-7 text-gray-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),o.jsx(y,{activeComponent:"jobs",onMenuClick:h,mobileMenu:n,setMobileMenu:d}),o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden w-full",children:o.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50",children:o.jsx("div",{className:"w-full h-full",children:o.jsx(w,{primID:l,onBack:g,formConfig:m,formData:f})})})})]}):o.jsx(c,{})};export{U as default};
