var cb=Object.defineProperty;var ub=(n,t,e)=>t in n?cb(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var B=(n,t,e)=>ub(n,typeof t!="symbol"?t+"":t,e);import{j as vt}from"./index-BRtCjCOM.js";import{r as $,g as Ht,R as D,k as tv}from"./react-vendor-C96nFidc.js";import{n as fb,l as bu,j as hb,m as lt,_ as dc,q as db,r as pb,s as gb,t as vb,a as ft,c as xt,h as It,b as ht,o as Xt,g as et,d as sn,i as Ur,f as pc,p as ev}from"./memoize-one.esm-DQq2xVVF.js";import{_ as mb}from"./inheritsLoose-MEHl_3-6.js";import{p as bb,r as yb}from"./react-lifecycles-compat.es-Bz2kNPGS.js";import{P as I,y as Gi}from"./ui-vendor-CrwEJxT6.js";import{h as _b}from"./moment-bKu5bFg9.js";import{d as yu}from"./index-Dhm8vqgr.js";import{P as xb}from"./PostAPI-Dm7qi3aC.js";import{L as wb}from"./Loading-PFELjOwu.js";function wt(n,t,e){return t=bu(t),fb(n,hb()?Reflect.construct(t,e||[],bu(n).constructor):t.apply(n,e))}function Sb(n,t){return n.classList?n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function Mb(n,t){n.classList?n.classList.add(t):Sb(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function _u(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Db(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=_u(n.className,t):n.setAttribute("class",_u(n.className&&n.className.baseVal||"",t))}var Ot="top",Ft="bottom",qt="right",Et="left",gc="auto",pr=[Ot,Ft,qt,Et],un="start",Yn="end",Ob="clippingParents",nv="viewport",On="popper",Eb="reference",xu=pr.reduce(function(n,t){return n.concat([t+"-"+un,t+"-"+Yn])},[]),vc=[].concat(pr,[gc]).reduce(function(n,t){return n.concat([t,t+"-"+un,t+"-"+Yn])},[]),Rb="beforeRead",Tb="read",Ab="afterRead",Cb="beforeMain",kb="main",Pb="afterMain",Ib="beforeWrite",Lb="write",Fb="afterWrite",qb=[Rb,Tb,Ab,Cb,kb,Pb,Ib,Lb,Fb];function Se(n){return n?(n.nodeName||"").toLowerCase():null}function Ct(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function We(n){var t=Ct(n).Element;return n instanceof t||n instanceof Element}function Ut(n){var t=Ct(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function mc(n){if(typeof ShadowRoot>"u")return!1;var t=Ct(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function Kt(n){return n.split("-")[0]}var Be=Math.max,li=Math.min,fn=Math.round;function Yl(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function rv(){return!/^((?!chrome|android).)*safari/i.test(Yl())}function hn(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var r=n.getBoundingClientRect(),i=1,s=1;t&&Ut(n)&&(i=n.offsetWidth>0&&fn(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&fn(r.height)/n.offsetHeight||1);var a=We(n)?Ct(n):window,o=a.visualViewport,l=!rv()&&e,c=(r.left+(l&&o?o.offsetLeft:0))/i,u=(r.top+(l&&o?o.offsetTop:0))/s,f=r.width/i,h=r.height/s;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function bc(n){var t=hn(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}function iv(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&mc(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ce(n){return Ct(n).getComputedStyle(n)}function Nb(n){return["table","td","th"].indexOf(Se(n))>=0}function Oe(n){return((We(n)?n.ownerDocument:n.document)||window.document).documentElement}function xi(n){return Se(n)==="html"?n:n.assignedSlot||n.parentNode||(mc(n)?n.host:null)||Oe(n)}function wu(n){return!Ut(n)||ce(n).position==="fixed"?null:n.offsetParent}function zb(n){var t=/firefox/i.test(Yl()),e=/Trident/i.test(Yl());if(e&&Ut(n)){var r=ce(n);if(r.position==="fixed")return null}var i=xi(n);for(mc(i)&&(i=i.host);Ut(i)&&["html","body"].indexOf(Se(i))<0;){var s=ce(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function gr(n){for(var t=Ct(n),e=wu(n);e&&Nb(e)&&ce(e).position==="static";)e=wu(e);return e&&(Se(e)==="html"||Se(e)==="body"&&ce(e).position==="static")?t:e||zb(n)||t}function yc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Bn(n,t,e){return Be(n,li(t,e))}function Bb(n,t,e){var r=Bn(n,t,e);return r>e?e:r}function sv(){return{top:0,right:0,bottom:0,left:0}}function av(n){return Object.assign({},sv(),n)}function ov(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}var $b=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,av(typeof t!="number"?t:ov(t,pr))};function Hb(n){var t,e=n.state,r=n.name,i=n.options,s=e.elements.arrow,a=e.modifiersData.popperOffsets,o=Kt(e.placement),l=yc(o),c=[Et,qt].indexOf(o)>=0,u=c?"height":"width";if(!(!s||!a)){var f=$b(i.padding,e),h=bc(s),d=l==="y"?Ot:Et,g=l==="y"?Ft:qt,p=e.rects.reference[u]+e.rects.reference[l]-a[l]-e.rects.popper[u],v=a[l]-e.rects.reference[l],m=gr(s),b=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,x=p/2-v/2,y=f[d],_=b-h[u]-f[g],w=b/2-h[u]/2+x,S=Bn(y,w,_),M=l;e.modifiersData[r]=(t={},t[M]=S,t.centerOffset=S-w,t)}}function jb(n){var t=n.state,e=n.options,r=e.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||iv(t.elements.popper,i)&&(t.elements.arrow=i))}const Wb={name:"arrow",enabled:!0,phase:"main",fn:Hb,effect:jb,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dn(n){return n.split("-")[1]}var Vb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yb(n,t){var e=n.x,r=n.y,i=t.devicePixelRatio||1;return{x:fn(e*i)/i||0,y:fn(r*i)/i||0}}function Su(n){var t,e=n.popper,r=n.popperRect,i=n.placement,s=n.variation,a=n.offsets,o=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,f=n.isFixed,h=a.x,d=h===void 0?0:h,g=a.y,p=g===void 0?0:g,v=typeof u=="function"?u({x:d,y:p}):{x:d,y:p};d=v.x,p=v.y;var m=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),x=Et,y=Ot,_=window;if(c){var w=gr(e),S="clientHeight",M="clientWidth";if(w===Ct(e)&&(w=Oe(e),ce(w).position!=="static"&&o==="absolute"&&(S="scrollHeight",M="scrollWidth")),w=w,i===Ot||(i===Et||i===qt)&&s===Yn){y=Ft;var O=f&&w===_&&_.visualViewport?_.visualViewport.height:w[S];p-=O-r.height,p*=l?1:-1}if(i===Et||(i===Ot||i===Ft)&&s===Yn){x=qt;var R=f&&w===_&&_.visualViewport?_.visualViewport.width:w[M];d-=R-r.width,d*=l?1:-1}}var E=Object.assign({position:o},c&&Vb),T=u===!0?Yb({x:d,y:p},Ct(e)):{x:d,y:p};if(d=T.x,p=T.y,l){var A;return Object.assign({},E,(A={},A[y]=b?"0":"",A[x]=m?"0":"",A.transform=(_.devicePixelRatio||1)<=1?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",A))}return Object.assign({},E,(t={},t[y]=b?p+"px":"",t[x]=m?d+"px":"",t.transform="",t))}function Ub(n){var t=n.state,e=n.options,r=e.gpuAcceleration,i=r===void 0?!0:r,s=e.adaptive,a=s===void 0?!0:s,o=e.roundOffsets,l=o===void 0?!0:o,c={placement:Kt(t.placement),variation:dn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Su(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Su(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Kb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ub,data:{}};var Rr={passive:!0};function Gb(n){var t=n.state,e=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,o=a===void 0?!0:a,l=Ct(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",e.update,Rr)}),o&&l.addEventListener("resize",e.update,Rr),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",e.update,Rr)}),o&&l.removeEventListener("resize",e.update,Rr)}}const Xb={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Gb,data:{}};var Zb={left:"right",right:"left",bottom:"top",top:"bottom"};function Kr(n){return n.replace(/left|right|bottom|top/g,function(t){return Zb[t]})}var Jb={start:"end",end:"start"};function Mu(n){return n.replace(/start|end/g,function(t){return Jb[t]})}function _c(n){var t=Ct(n),e=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:e,scrollTop:r}}function xc(n){return hn(Oe(n)).left+_c(n).scrollLeft}function Qb(n,t){var e=Ct(n),r=Oe(n),i=e.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var c=rv();(c||!c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+xc(n),y:l}}function ty(n){var t,e=Oe(n),r=_c(n),i=(t=n.ownerDocument)==null?void 0:t.body,s=Be(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Be(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+xc(n),l=-r.scrollTop;return ce(i||e).direction==="rtl"&&(o+=Be(e.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function wc(n){var t=ce(n),e=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+r)}function lv(n){return["html","body","#document"].indexOf(Se(n))>=0?n.ownerDocument.body:Ut(n)&&wc(n)?n:lv(xi(n))}function $n(n,t){var e;t===void 0&&(t=[]);var r=lv(n),i=r===((e=n.ownerDocument)==null?void 0:e.body),s=Ct(r),a=i?[s].concat(s.visualViewport||[],wc(r)?r:[]):r,o=t.concat(a);return i?o:o.concat($n(xi(a)))}function Ul(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function ey(n,t){var e=hn(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function Du(n,t,e){return t===nv?Ul(Qb(n,e)):We(t)?ey(t,e):Ul(ty(Oe(n)))}function ny(n){var t=$n(xi(n)),e=["absolute","fixed"].indexOf(ce(n).position)>=0,r=e&&Ut(n)?gr(n):n;return We(r)?t.filter(function(i){return We(i)&&iv(i,r)&&Se(i)!=="body"}):[]}function ry(n,t,e,r){var i=t==="clippingParents"?ny(n):[].concat(t),s=[].concat(i,[e]),a=s[0],o=s.reduce(function(l,c){var u=Du(n,c,r);return l.top=Be(u.top,l.top),l.right=li(u.right,l.right),l.bottom=li(u.bottom,l.bottom),l.left=Be(u.left,l.left),l},Du(n,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function cv(n){var t=n.reference,e=n.element,r=n.placement,i=r?Kt(r):null,s=r?dn(r):null,a=t.x+t.width/2-e.width/2,o=t.y+t.height/2-e.height/2,l;switch(i){case Ot:l={x:a,y:t.y-e.height};break;case Ft:l={x:a,y:t.y+t.height};break;case qt:l={x:t.x+t.width,y:o};break;case Et:l={x:t.x-e.width,y:o};break;default:l={x:t.x,y:t.y}}var c=i?yc(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case un:l[c]=l[c]-(t[u]/2-e[u]/2);break;case Yn:l[c]=l[c]+(t[u]/2-e[u]/2);break}}return l}function Un(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=r===void 0?n.placement:r,s=e.strategy,a=s===void 0?n.strategy:s,o=e.boundary,l=o===void 0?Ob:o,c=e.rootBoundary,u=c===void 0?nv:c,f=e.elementContext,h=f===void 0?On:f,d=e.altBoundary,g=d===void 0?!1:d,p=e.padding,v=p===void 0?0:p,m=av(typeof v!="number"?v:ov(v,pr)),b=h===On?Eb:On,x=n.rects.popper,y=n.elements[g?b:h],_=ry(We(y)?y:y.contextElement||Oe(n.elements.popper),l,u,a),w=hn(n.elements.reference),S=cv({reference:w,element:x,placement:i}),M=Ul(Object.assign({},x,S)),O=h===On?M:w,R={top:_.top-O.top+m.top,bottom:O.bottom-_.bottom+m.bottom,left:_.left-O.left+m.left,right:O.right-_.right+m.right},E=n.modifiersData.offset;if(h===On&&E){var T=E[i];Object.keys(R).forEach(function(A){var N=[qt,Ft].indexOf(A)>=0?1:-1,q=[Ot,Ft].indexOf(A)>=0?"y":"x";R[A]+=T[q]*N})}return R}function iy(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=e.boundary,s=e.rootBoundary,a=e.padding,o=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?vc:l,u=dn(r),f=u?o?xu:xu.filter(function(g){return dn(g)===u}):pr,h=f.filter(function(g){return c.indexOf(g)>=0});h.length===0&&(h=f);var d=h.reduce(function(g,p){return g[p]=Un(n,{placement:p,boundary:i,rootBoundary:s,padding:a})[Kt(p)],g},{});return Object.keys(d).sort(function(g,p){return d[g]-d[p]})}function sy(n){if(Kt(n)===gc)return[];var t=Kr(n);return[Mu(n),t,Mu(t)]}function ay(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var i=e.mainAxis,s=i===void 0?!0:i,a=e.altAxis,o=a===void 0?!0:a,l=e.fallbackPlacements,c=e.padding,u=e.boundary,f=e.rootBoundary,h=e.altBoundary,d=e.flipVariations,g=d===void 0?!0:d,p=e.allowedAutoPlacements,v=t.options.placement,m=Kt(v),b=m===v,x=l||(b||!g?[Kr(v)]:sy(v)),y=[v].concat(x).reduce(function(F,z){return F.concat(Kt(z)===gc?iy(t,{placement:z,boundary:u,rootBoundary:f,padding:c,flipVariations:g,allowedAutoPlacements:p}):z)},[]),_=t.rects.reference,w=t.rects.popper,S=new Map,M=!0,O=y[0],R=0;R<y.length;R++){var E=y[R],T=Kt(E),A=dn(E)===un,N=[Ot,Ft].indexOf(T)>=0,q=N?"width":"height",L=Un(t,{placement:E,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),H=N?A?qt:Et:A?Ft:Ot;_[q]>w[q]&&(H=Kr(H));var Y=Kr(H),W=[];if(s&&W.push(L[T]<=0),o&&W.push(L[H]<=0,L[Y]<=0),W.every(function(F){return F})){O=E,M=!1;break}S.set(E,W)}if(M)for(var nt=g?3:1,C=function(z){var j=y.find(function(tt){var X=S.get(tt);if(X)return X.slice(0,z).every(function(Tt){return Tt})});if(j)return O=j,"break"},k=nt;k>0;k--){var P=C(k);if(P==="break")break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}const oy={name:"flip",enabled:!0,phase:"main",fn:ay,requiresIfExists:["offset"],data:{_skip:!1}};function Ou(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function Eu(n){return[Ot,qt,Ft,Et].some(function(t){return n[t]>=0})}function ly(n){var t=n.state,e=n.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,a=Un(t,{elementContext:"reference"}),o=Un(t,{altBoundary:!0}),l=Ou(a,r),c=Ou(o,i,s),u=Eu(l),f=Eu(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const cy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ly};function uy(n,t,e){var r=Kt(n),i=[Et,Ot].indexOf(r)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[Et,qt].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function fy(n){var t=n.state,e=n.options,r=n.name,i=e.offset,s=i===void 0?[0,0]:i,a=vc.reduce(function(u,f){return u[f]=uy(f,t.rects,s),u},{}),o=a[t.placement],l=o.x,c=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}const hy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fy};function dy(n){var t=n.state,e=n.name;t.modifiersData[e]=cv({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const py={name:"popperOffsets",enabled:!0,phase:"read",fn:dy,data:{}};function gy(n){return n==="x"?"y":"x"}function vy(n){var t=n.state,e=n.options,r=n.name,i=e.mainAxis,s=i===void 0?!0:i,a=e.altAxis,o=a===void 0?!1:a,l=e.boundary,c=e.rootBoundary,u=e.altBoundary,f=e.padding,h=e.tether,d=h===void 0?!0:h,g=e.tetherOffset,p=g===void 0?0:g,v=Un(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),m=Kt(t.placement),b=dn(t.placement),x=!b,y=yc(m),_=gy(y),w=t.modifiersData.popperOffsets,S=t.rects.reference,M=t.rects.popper,O=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,R=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(w){if(s){var A,N=y==="y"?Ot:Et,q=y==="y"?Ft:qt,L=y==="y"?"height":"width",H=w[y],Y=H+v[N],W=H-v[q],nt=d?-M[L]/2:0,C=b===un?S[L]:M[L],k=b===un?-M[L]:-S[L],P=t.elements.arrow,F=d&&P?bc(P):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:sv(),j=z[N],tt=z[q],X=Bn(0,S[L],F[L]),Tt=x?S[L]/2-nt-X-j-R.mainAxis:C-X-j-R.mainAxis,he=x?-S[L]/2+nt+X+tt+R.mainAxis:k+X+tt+R.mainAxis,Jt=t.elements.arrow&&gr(t.elements.arrow),Te=Jt?y==="y"?Jt.clientTop||0:Jt.clientLeft||0:0,en=(A=E==null?void 0:E[y])!=null?A:0,Mn=H+Tt-en-Te,Q=H+he-en,Ae=Bn(d?li(Y,Mn):Y,H,d?Be(W,Q):W);w[y]=Ae,T[y]=Ae-H}if(o){var K,de=y==="x"?Ot:Et,pe=y==="x"?Ft:qt,Qt=w[_],te=_==="y"?"height":"width",Bt=Qt+v[de],dt=Qt-v[pe],ge=[Ot,Et].indexOf(m)!==-1,Ce=(K=E==null?void 0:E[_])!=null?K:0,Er=ge?Bt:Qt-S[te]-M[te]-Ce+R.altAxis,Dn=ge?Qt+S[te]+M[te]-Ce-R.altAxis:dt,ee=d&&ge?Bb(Er,Qt,Dn):Bn(d?Er:Bt,Qt,d?Dn:dt);w[_]=ee,T[_]=ee-Qt}t.modifiersData[r]=T}}const my={name:"preventOverflow",enabled:!0,phase:"main",fn:vy,requiresIfExists:["offset"]};function by(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function yy(n){return n===Ct(n)||!Ut(n)?_c(n):by(n)}function _y(n){var t=n.getBoundingClientRect(),e=fn(t.width)/n.offsetWidth||1,r=fn(t.height)/n.offsetHeight||1;return e!==1||r!==1}function xy(n,t,e){e===void 0&&(e=!1);var r=Ut(t),i=Ut(t)&&_y(t),s=Oe(t),a=hn(n,i,e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!e)&&((Se(t)!=="body"||wc(s))&&(o=yy(t)),Ut(t)?(l=hn(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=xc(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function wy(n){var t=new Map,e=new Set,r=[];n.forEach(function(s){t.set(s.name,s)});function i(s){e.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!e.has(o)){var l=t.get(o);l&&i(l)}}),r.push(s)}return n.forEach(function(s){e.has(s.name)||i(s)}),r}function Sy(n){var t=wy(n);return qb.reduce(function(e,r){return e.concat(t.filter(function(i){return i.phase===r}))},[])}function My(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function Dy(n){var t=n.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}var Ru={placement:"bottom",modifiers:[],strategy:"absolute"};function Tu(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Oy(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,r=e===void 0?[]:e,i=t.defaultOptions,s=i===void 0?Ru:i;return function(o,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ru,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],h=!1,d={state:u,setOptions:function(m){var b=typeof m=="function"?m(u.options):m;p(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:We(o)?$n(o):o.contextElement?$n(o.contextElement):[],popper:$n(l)};var x=Sy(Dy([].concat(r,u.options.modifiers)));return u.orderedModifiers=x.filter(function(y){return y.enabled}),g(),d.update()},forceUpdate:function(){if(!h){var m=u.elements,b=m.reference,x=m.popper;if(Tu(b,x)){u.rects={reference:xy(b,gr(x),u.options.strategy==="fixed"),popper:bc(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var _=u.orderedModifiers[y],w=_.fn,S=_.options,M=S===void 0?{}:S,O=_.name;typeof w=="function"&&(u=w({state:u,options:M,name:O,instance:d})||u)}}}},update:My(function(){return new Promise(function(v){d.forceUpdate(),v(u)})}),destroy:function(){p(),h=!0}};if(!Tu(o,l))return d;d.setOptions(c).then(function(v){!h&&c.onFirstUpdate&&c.onFirstUpdate(v)});function g(){u.orderedModifiers.forEach(function(v){var m=v.name,b=v.options,x=b===void 0?{}:b,y=v.effect;if(typeof y=="function"){var _=y({state:u,name:m,instance:d,options:x}),w=function(){};f.push(_||w)}})}function p(){f.forEach(function(v){return v()}),f=[]}return d}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vr(n){return n+.5|0}const ye=(n,t,e)=>Math.max(Math.min(n,e),t);function Pn(n){return ye(vr(n*2.55),0,255)}function we(n){return ye(vr(n*255),0,255)}function ae(n){return ye(vr(n/2.55)/100,0,1)}function Au(n){return ye(vr(n*100),0,100)}const kt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Kl=[..."0123456789ABCDEF"],Ey=n=>Kl[n&15],Ry=n=>Kl[(n&240)>>4]+Kl[n&15],Tr=n=>(n&240)>>4===(n&15),Ty=n=>Tr(n.r)&&Tr(n.g)&&Tr(n.b)&&Tr(n.a);function Ay(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&kt[n[1]]*17,g:255&kt[n[2]]*17,b:255&kt[n[3]]*17,a:t===5?kt[n[4]]*17:255}:(t===7||t===9)&&(e={r:kt[n[1]]<<4|kt[n[2]],g:kt[n[3]]<<4|kt[n[4]],b:kt[n[5]]<<4|kt[n[6]],a:t===9?kt[n[7]]<<4|kt[n[8]]:255})),e}const Cy=(n,t)=>n<255?t(n):"";function ky(n){var t=Ty(n)?Ey:Ry;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Cy(n.a,t):void 0}const Py=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function uv(n,t,e){const r=t*Math.min(e,1-e),i=(s,a=(s+n/30)%12)=>e-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Iy(n,t,e){const r=(i,s=(i+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Ly(n,t,e){const r=uv(n,1,.5);let i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)r[i]*=1-t-e,r[i]+=t;return r}function Fy(n,t,e,r,i){return n===i?(t-e)/r+(t<e?6:0):t===i?(e-n)/r+2:(n-t)/r+4}function Sc(n){const e=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(e,r,i),a=Math.min(e,r,i),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=Fy(e,r,i,u,s),l=l*60+.5),[l|0,c||0,o]}function Mc(n,t,e,r){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,r)).map(we)}function Dc(n,t,e){return Mc(uv,n,t,e)}function qy(n,t,e){return Mc(Ly,n,t,e)}function Ny(n,t,e){return Mc(Iy,n,t,e)}function fv(n){return(n%360+360)%360}function zy(n){const t=Py.exec(n);let e=255,r;if(!t)return;t[5]!==r&&(e=t[6]?Pn(+t[5]):we(+t[5]));const i=fv(+t[2]),s=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?r=qy(i,s,a):t[1]==="hsv"?r=Ny(i,s,a):r=Dc(i,s,a),{r:r[0],g:r[1],b:r[2],a:e}}function By(n,t){var e=Sc(n);e[0]=fv(e[0]+t),e=Dc(e),n.r=e[0],n.g=e[1],n.b=e[2]}function $y(n){if(!n)return;const t=Sc(n),e=t[0],r=Au(t[1]),i=Au(t[2]);return n.a<255?`hsla(${e}, ${r}%, ${i}%, ${ae(n.a)})`:`hsl(${e}, ${r}%, ${i}%)`}const Cu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ku={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Hy(){const n={},t=Object.keys(ku),e=Object.keys(Cu);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<e.length;i++)s=e[i],o=o.replace(s,Cu[s]);s=parseInt(ku[a],16),n[o]=[s>>16&255,s>>8&255,s&255]}return n}let Ar;function jy(n){Ar||(Ar=Hy(),Ar.transparent=[0,0,0,0]);const t=Ar[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Wy=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Vy(n){const t=Wy.exec(n);let e=255,r,i,s;if(t){if(t[7]!==r){const a=+t[7];e=t[8]?Pn(a):ye(a*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?Pn(r):ye(r,0,255)),i=255&(t[4]?Pn(i):ye(i,0,255)),s=255&(t[6]?Pn(s):ye(s,0,255)),{r,g:i,b:s,a:e}}}function Yy(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ae(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Xi=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,nn=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Uy(n,t,e){const r=nn(ae(n.r)),i=nn(ae(n.g)),s=nn(ae(n.b));return{r:we(Xi(r+e*(nn(ae(t.r))-r))),g:we(Xi(i+e*(nn(ae(t.g))-i))),b:we(Xi(s+e*(nn(ae(t.b))-s))),a:n.a+e*(t.a-n.a)}}function Cr(n,t,e){if(n){let r=Sc(n);r[t]=Math.max(0,Math.min(r[t]+r[t]*e,t===0?360:1)),r=Dc(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function hv(n,t){return n&&Object.assign(t||{},n)}function Pu(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=we(n[3]))):(t=hv(n,{r:0,g:0,b:0,a:1}),t.a=we(t.a)),t}function Ky(n){return n.charAt(0)==="r"?Vy(n):zy(n)}class Kn{constructor(t){if(t instanceof Kn)return t;const e=typeof t;let r;e==="object"?r=Pu(t):e==="string"&&(r=Ay(t)||jy(t)||Ky(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=hv(this._rgb);return t&&(t.a=ae(t.a)),t}set rgb(t){this._rgb=Pu(t)}rgbString(){return this._valid?Yy(this._rgb):void 0}hexString(){return this._valid?ky(this._rgb):void 0}hslString(){return this._valid?$y(this._rgb):void 0}mix(t,e){if(t){const r=this.rgb,i=t.rgb;let s;const a=e===s?.5:e,o=2*a-1,l=r.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(t,e){return t&&(this._rgb=Uy(this._rgb,t._rgb,e)),this}clone(){return new Kn(this.rgb)}alpha(t){return this._rgb.a=we(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=vr(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Cr(this._rgb,2,t),this}darken(t){return Cr(this._rgb,2,-t),this}saturate(t){return Cr(this._rgb,1,t),this}desaturate(t){return Cr(this._rgb,1,-t),this}rotate(t){return By(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ne(){}const Gy=(()=>{let n=0;return()=>n++})();function G(n){return n==null}function ct(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function U(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function _t(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function jt(n,t){return _t(n)?n:t}function V(n,t){return typeof n>"u"?t:n}const Xy=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,dv=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function rt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Z(n,t,e,r){let i,s,a;if(ct(n))for(s=n.length,i=0;i<s;i++)t.call(e,n[i],i);else if(U(n))for(a=Object.keys(n),s=a.length,i=0;i<s;i++)t.call(e,n[a[i]],a[i])}function ci(n,t){let e,r,i,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,r=n.length;e<r;++e)if(i=n[e],s=t[e],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ui(n){if(ct(n))return n.map(ui);if(U(n)){const t=Object.create(null),e=Object.keys(n),r=e.length;let i=0;for(;i<r;++i)t[e[i]]=ui(n[e[i]]);return t}return n}function pv(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Zy(n,t,e,r){if(!pv(n))return;const i=t[n],s=e[n];U(i)&&U(s)?Gn(i,s,r):t[n]=ui(s)}function Gn(n,t,e){const r=ct(t)?t:[t],i=r.length;if(!U(n))return n;e=e||{};const s=e.merger||Zy;let a;for(let o=0;o<i;++o){if(a=r[o],!U(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],n,a,e)}return n}function Hn(n,t){return Gn(n,t,{merger:Jy})}function Jy(n,t,e){if(!pv(n))return;const r=t[n],i=e[n];U(r)&&U(i)?Hn(r,i):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=ui(i))}const Iu={"":n=>n,x:n=>n.x,y:n=>n.y};function Qy(n){const t=n.split("."),e=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(e.push(r),r="");return e}function t_(n){const t=Qy(n);return e=>{for(const r of t){if(r==="")break;e=e&&e[r]}return e}}function Ve(n,t){return(Iu[t]||(Iu[t]=t_(t)))(n)}function Oc(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Xn=n=>typeof n<"u",Me=n=>typeof n=="function",Lu=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function e_(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const J=Math.PI,st=2*J,n_=st+J,fi=Number.POSITIVE_INFINITY,r_=J/180,ut=J/2,Pe=J/4,Fu=J*2/3,gv=Math.log10,Gt=Math.sign;function jn(n,t,e){return Math.abs(n-t)<e}function qu(n){const t=Math.round(n);n=jn(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(gv(n))),r=n/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function i_(n){const t=[],e=Math.sqrt(n);let r;for(r=1;r<e;r++)n%r===0&&(t.push(r),t.push(n/r));return e===(e|0)&&t.push(e),t.sort((i,s)=>i-s).pop(),t}function s_(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Zn(n){return!s_(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function a_(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function o_(n,t,e){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function oe(n){return n*(J/180)}function l_(n){return n*(180/J)}function Nu(n){if(!_t(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function vv(n,t){const e=t.x-n.x,r=t.y-n.y,i=Math.sqrt(e*e+r*r);let s=Math.atan2(r,e);return s<-.5*J&&(s+=st),{angle:s,distance:i}}function Gl(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function c_(n,t){return(n-t+n_)%st-J}function At(n){return(n%st+st)%st}function Jn(n,t,e,r){const i=At(n),s=At(t),a=At(e),o=At(s-i),l=At(a-i),c=At(i-s),u=At(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function bt(n,t,e){return Math.max(t,Math.min(e,n))}function u_(n){return bt(n,-32768,32767)}function le(n,t,e,r=1e-6){return n>=Math.min(t,e)-r&&n<=Math.max(t,e)+r}function Ec(n,t,e){e=e||(a=>n[a]<t);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,e(s)?i=s:r=s;return{lo:i,hi:r}}const Ne=(n,t,e,r)=>Ec(n,e,r?i=>{const s=n[i][t];return s<e||s===e&&n[i+1][t]===e}:i=>n[i][t]<e),f_=(n,t,e)=>Ec(n,e,r=>n[r][t]>=e);function h_(n,t,e){let r=0,i=n.length;for(;r<i&&n[r]<t;)r++;for(;i>r&&n[i-1]>e;)i--;return r>0||i<n.length?n.slice(r,i):n}const mv=["push","pop","shift","splice","unshift"];function d_(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),mv.forEach(e=>{const r="_onData"+Oc(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return n._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function zu(n,t){const e=n._chartjs;if(!e)return;const r=e.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(mv.forEach(s=>{delete n[s]}),delete n._chartjs)}function bv(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const yv=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function _v(n,t){let e=[],r=!1;return function(...i){e=i,r||(r=!0,yv.call(window,()=>{r=!1,n.apply(t,e)}))}}function p_(n,t){let e;return function(...r){return t?(clearTimeout(e),e=setTimeout(n,t,r)):n.apply(this,r),t}}const Rc=n=>n==="start"?"left":n==="end"?"right":"center",mt=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,g_=(n,t,e,r)=>n===(r?"left":"right")?e:n==="center"?(t+e)/2:t;function v_(n,t,e){const r=t.length;let i=0,s=r;if(n._sorted){const{iScale:a,vScale:o,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=a.axis,{min:f,max:h,minDefined:d,maxDefined:g}=a.getUserBounds();if(d){if(i=Math.min(Ne(l,u,f).lo,e?r:Ne(t,u,a.getPixelForValue(f)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(v=>!G(v[o.axis]));i-=Math.max(0,p)}i=bt(i,0,r-1)}if(g){let p=Math.max(Ne(l,a.axis,h,!0).hi+1,e?0:Ne(t,u,a.getPixelForValue(h),!0).hi+1);if(c){const v=l.slice(p-1).findIndex(m=>!G(m[o.axis]));p+=Math.max(0,v)}s=bt(p,i,r)-i}else s=r-i}return{start:i,count:s}}function m_(n){const{xScale:t,yScale:e,_scaleRanges:r}=n,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==e.min||r.ymax!==e.max;return Object.assign(r,i),s}const kr=n=>n===0||n===1,Bu=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*st/e)),$u=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*st/e)+1,Wn={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ut)+1,easeOutSine:n=>Math.sin(n*ut),easeInOutSine:n=>-.5*(Math.cos(J*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>kr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>kr(n)?n:Bu(n,.075,.3),easeOutElastic:n=>kr(n)?n:$u(n,.075,.3),easeInOutElastic(n){return kr(n)?n:n<.5?.5*Bu(n*2,.1125,.45):.5+.5*$u(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Wn.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Wn.easeInBounce(n*2)*.5:Wn.easeOutBounce(n*2-1)*.5+.5};function Tc(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Hu(n){return Tc(n)?n:new Kn(n)}function Zi(n){return Tc(n)?n:new Kn(n).saturate(.5).darken(.1).hexString()}const b_=["x","y","borderWidth","radius","tension"],y_=["color","borderColor","backgroundColor"];function __(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:y_},numbers:{type:"number",properties:b_}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function x_(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ju=new Map;function w_(n,t){t=t||{};const e=n+JSON.stringify(t);let r=ju.get(e);return r||(r=new Intl.NumberFormat(n,t),ju.set(e,r)),r}function Ac(n,t,e){return w_(t,e).format(n)}const S_={values(n){return ct(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=M_(n,e)}const a=gv(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Ac(n,r,l)}};function M_(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var xv={formatters:S_};function D_(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ye=Object.create(null),Xl=Object.create(null);function Vn(n,t){if(!t)return n;const e=t.split(".");for(let r=0,i=e.length;r<i;++r){const s=e[r];n=n[s]||(n[s]=Object.create(null))}return n}function Ji(n,t,e){return typeof t=="string"?Gn(Vn(n,t),e):Gn(Vn(n,""),t)}class O_{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Zi(i.backgroundColor),this.hoverBorderColor=(r,i)=>Zi(i.borderColor),this.hoverColor=(r,i)=>Zi(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Ji(this,t,e)}get(t){return Vn(this,t)}describe(t,e){return Ji(Xl,t,e)}override(t,e){return Ji(Ye,t,e)}route(t,e,r,i){const s=Vn(this,t),a=Vn(this,r),o="_"+e;Object.defineProperties(s,{[o]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[o],c=a[i];return U(l)?Object.assign({},c,l):V(l,c)},set(l){this[o]=l}}})}apply(t){t.forEach(e=>e(this))}}var ot=new O_({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[__,x_,D_]);function E_(n){return!n||G(n.size)||G(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Wu(n,t,e,r,i){let s=t[i];return s||(s=t[i]=n.measureText(i).width,e.push(i)),s>r&&(r=s),r}function Ie(n,t,e){const r=n.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((t-i)*r)/r+i}function Vu(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Zl(n,t,e,r){wv(n,t,e,r,null)}function wv(n,t,e,r,i){let s,a,o,l,c,u,f,h;const d=t.pointStyle,g=t.rotation,p=t.radius;let v=(g||0)*r_;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(e,r),n.rotate(v),n.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),d){default:i?n.ellipse(e,r,i/2,p,0,0,st):n.arc(e,r,p,0,st),n.closePath();break;case"triangle":u=i?i/2:p,n.moveTo(e+Math.sin(v)*u,r-Math.cos(v)*p),v+=Fu,n.lineTo(e+Math.sin(v)*u,r-Math.cos(v)*p),v+=Fu,n.lineTo(e+Math.sin(v)*u,r-Math.cos(v)*p),n.closePath();break;case"rectRounded":c=p*.516,l=p-c,a=Math.cos(v+Pe)*l,f=Math.cos(v+Pe)*(i?i/2-c:l),o=Math.sin(v+Pe)*l,h=Math.sin(v+Pe)*(i?i/2-c:l),n.arc(e-f,r-o,c,v-J,v-ut),n.arc(e+h,r-a,c,v-ut,v),n.arc(e+f,r+o,c,v,v+ut),n.arc(e-h,r+a,c,v+ut,v+J),n.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,n.rect(e-u,r-l,2*u,2*l);break}v+=Pe;case"rectRot":f=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(e-f,r-o),n.lineTo(e+h,r-a),n.lineTo(e+f,r+o),n.lineTo(e-h,r+a),n.closePath();break;case"crossRot":v+=Pe;case"cross":f=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(e-f,r-o),n.lineTo(e+f,r+o),n.moveTo(e+h,r-a),n.lineTo(e-h,r+a);break;case"star":f=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(e-f,r-o),n.lineTo(e+f,r+o),n.moveTo(e+h,r-a),n.lineTo(e-h,r+a),v+=Pe,f=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),n.moveTo(e-f,r-o),n.lineTo(e+f,r+o),n.moveTo(e+h,r-a),n.lineTo(e-h,r+a);break;case"line":a=i?i/2:Math.cos(v)*p,o=Math.sin(v)*p,n.moveTo(e-a,r-o),n.lineTo(e+a,r+o);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(v)*(i?i/2:p),r+Math.sin(v)*p);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Qn(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function wi(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Si(n){n.restore()}function R_(n,t,e,r,i){if(!t)return n.lineTo(e.x,e.y);if(i==="middle"){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else i==="after"!=!!r?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function T_(n,t,e,r){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?e.cp2x:e.cp1x,r?e.cp2y:e.cp1y,e.x,e.y)}function A_(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),G(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function C_(n,t,e,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=e-s.actualBoundingBoxAscent,c=e+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(a,u),n.lineTo(o,u),n.stroke()}}function k_(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function tr(n,t,e,r,i,s={}){const a=ct(t)?t:[t],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(n.save(),n.font=i.string,A_(n,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&k_(n,s.backdrop),o&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),G(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,e,r,s.maxWidth)),n.fillText(c,e,r,s.maxWidth),C_(n,e,r,c,s),r+=Number(i.lineHeight);n.restore()}function hi(n,t){const{x:e,y:r,w:i,h:s,radius:a}=t;n.arc(e+a.topLeft,r+a.topLeft,a.topLeft,1.5*J,J,!0),n.lineTo(e,r+s-a.bottomLeft),n.arc(e+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,J,ut,!0),n.lineTo(e+i-a.bottomRight,r+s),n.arc(e+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,ut,0,!0),n.lineTo(e+i,r+a.topRight),n.arc(e+i-a.topRight,r+a.topRight,a.topRight,0,-ut,!0),n.lineTo(e+a.topLeft,r)}const P_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,I_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function L_(n,t){const e=(""+n).match(P_);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const F_=n=>+n||0;function Cc(n,t){const e={},r=U(t),i=r?Object.keys(t):t,s=U(n)?r?a=>V(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of i)e[a]=F_(s(a));return e}function Sv(n){return Cc(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ln(n){return Cc(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Nt(n){const t=Sv(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function yt(n,t){n=n||{},t=t||ot.font;let e=V(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let r=V(n.style,t.style);r&&!(""+r).match(I_)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:V(n.family,t.family),lineHeight:L_(V(n.lineHeight,t.lineHeight),e),size:e,style:r,weight:V(n.weight,t.weight),string:""};return i.string=E_(i),i}function Pr(n,t,e,r){let i,s,a;for(i=0,s=n.length;i<s;++i)if(a=n[i],a!==void 0&&a!==void 0)return a}function q_(n,t,e){const{min:r,max:i}=n,s=dv(t,(i-r)/2),a=(o,l)=>e&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Qe(n,t){return Object.assign(Object.create(n),t)}function kc(n,t=[""],e,r,i=()=>n[0]){const s=e||n;typeof r>"u"&&(r=Ev("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>kc([o,...n],t,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete n[0][l],!0},get(o,l){return Dv(o,l,()=>V_(l,t,n,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(o,l){return Uu(o).includes(l)},ownKeys(o){return Uu(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function pn(n,t,e,r){const i={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Mv(n,r),setContext:s=>pn(n,s,e,r),override:s=>pn(n.override(s),t,e,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,o){return Dv(s,a,()=>z_(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,o){return n[a]=o,delete s[a],!0}})}function Mv(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=n;return{allKeys:i,scriptable:e,indexable:r,isScriptable:Me(e)?e:()=>e,isIndexable:Me(r)?r:()=>r}}const N_=(n,t)=>n?n+Oc(t):t,Pc=(n,t)=>U(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Dv(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const r=e();return n[t]=r,r}function z_(n,t,e){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;let o=r[t];return Me(o)&&a.isScriptable(t)&&(o=B_(t,o,n,e)),ct(o)&&o.length&&(o=$_(t,o,n,a.isIndexable)),Pc(t,o)&&(o=pn(o,i,s&&s[t],a)),o}function B_(n,t,e,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=e;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);o.add(n);let l=t(s,a||r);return o.delete(n),Pc(n,l)&&(l=Ic(i._scopes,i,n,l)),l}function $_(n,t,e,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=e;if(typeof s.index<"u"&&r(n))return t[s.index%t.length];if(U(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const f=Ic(c,i,n,u);t.push(pn(f,s,a&&a[n],o))}}return t}function Ov(n,t,e){return Me(n)?n(t,e):n}const H_=(n,t)=>n===!0?t:typeof n=="string"?Ve(t,n):void 0;function j_(n,t,e,r,i){for(const s of t){const a=H_(e,s);if(a){n.add(a);const o=Ov(a._fallback,e,i);if(typeof o<"u"&&o!==e&&o!==r)return o}else if(a===!1&&typeof r<"u"&&e!==r)return null}return!1}function Ic(n,t,e,r){const i=t._rootScopes,s=Ov(t._fallback,e,r),a=[...n,...i],o=new Set;o.add(r);let l=Yu(o,a,e,s||e,r);return l===null||typeof s<"u"&&s!==e&&(l=Yu(o,a,s,l,r),l===null)?!1:kc(Array.from(o),[""],i,s,()=>W_(t,e,r))}function Yu(n,t,e,r,i){for(;e;)e=j_(n,t,e,r,i);return e}function W_(n,t,e){const r=n._getTarget();t in r||(r[t]={});const i=r[t];return ct(i)&&U(e)?e:i||{}}function V_(n,t,e,r){let i;for(const s of t)if(i=Ev(N_(s,n),e),typeof i<"u")return Pc(n,i)?Ic(e,r,n,i):i}function Ev(n,t){for(const e of t){if(!e)continue;const r=e[n];if(typeof r<"u")return r}}function Uu(n){let t=n._keys;return t||(t=n._keys=Y_(n._scopes)),t}function Y_(n){const t=new Set;for(const e of n)for(const r of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const U_=Number.EPSILON||1e-14,gn=(n,t)=>t<n.length&&!n[t].skip&&n[t],Rv=n=>n==="x"?"y":"x";function K_(n,t,e,r){const i=n.skip?t:n,s=t,a=e.skip?t:e,o=Gl(s,i),l=Gl(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=r*c,h=r*u;return{previous:{x:s.x-f*(a.x-i.x),y:s.y-f*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function G_(n,t,e){const r=n.length;let i,s,a,o,l,c=gn(n,0);for(let u=0;u<r-1;++u)if(l=c,c=gn(n,u+1),!(!l||!c)){if(jn(t[u],0,U_)){e[u]=e[u+1]=0;continue}i=e[u]/t[u],s=e[u+1]/t[u],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),e[u]=i*a*t[u],e[u+1]=s*a*t[u])}}function X_(n,t,e="x"){const r=Rv(e),i=n.length;let s,a,o,l=gn(n,0);for(let c=0;c<i;++c){if(a=o,o=l,l=gn(n,c+1),!o)continue;const u=o[e],f=o[r];a&&(s=(u-a[e])/3,o[`cp1${e}`]=u-s,o[`cp1${r}`]=f-s*t[c]),l&&(s=(l[e]-u)/3,o[`cp2${e}`]=u+s,o[`cp2${r}`]=f+s*t[c])}}function Z_(n,t="x"){const e=Rv(t),r=n.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=gn(n,0);for(a=0;a<r;++a)if(o=l,l=c,c=gn(n,a+1),!!l){if(c){const u=c[t]-l[t];i[a]=u!==0?(c[e]-l[e])/u:0}s[a]=o?c?Gt(i[a-1])!==Gt(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}G_(n,i,s),X_(n,s,t)}function Ir(n,t,e){return Math.max(Math.min(n,e),t)}function J_(n,t){let e,r,i,s,a,o=Qn(n[0],t);for(e=0,r=n.length;e<r;++e)a=s,s=o,o=e<r-1&&Qn(n[e+1],t),s&&(i=n[e],a&&(i.cp1x=Ir(i.cp1x,t.left,t.right),i.cp1y=Ir(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=Ir(i.cp2x,t.left,t.right),i.cp2y=Ir(i.cp2y,t.top,t.bottom)))}function Q_(n,t,e,r,i){let s,a,o,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Z_(n,i);else{let c=r?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)o=n[s],l=K_(c,o,n[Math.min(s+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}t.capBezierPoints&&J_(n,e)}function Lc(){return typeof window<"u"&&typeof document<"u"}function Fc(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function di(n,t,e){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*t.parentNode[e])):r=n,r}const Mi=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function t0(n,t){return Mi(n).getPropertyValue(t)}const e0=["top","right","bottom","left"];function $e(n,t,e){const r={};e=e?"-"+e:"";for(let i=0;i<4;i++){const s=e0[i];r[s]=parseFloat(n[t+"-"+s+e])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const n0=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function r0(n,t){const e=n.touches,r=e&&e.length?e[0]:n,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if(n0(i,s,n.target))o=i,l=s;else{const c=t.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Fe(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:r}=t,i=Mi(e),s=i.boxSizing==="border-box",a=$e(i,"padding"),o=$e(i,"border","width"),{x:l,y:c,box:u}=r0(n,e),f=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:d,height:g}=t;return s&&(d-=a.width+o.width,g-=a.height+o.height),{x:Math.round((l-f)/d*e.width/r),y:Math.round((c-h)/g*e.height/r)}}function i0(n,t,e){let r,i;if(t===void 0||e===void 0){const s=n&&Fc(n);if(!s)t=n.clientWidth,e=n.clientHeight;else{const a=s.getBoundingClientRect(),o=Mi(s),l=$e(o,"border","width"),c=$e(o,"padding");t=a.width-c.width-l.width,e=a.height-c.height-l.height,r=di(o.maxWidth,s,"clientWidth"),i=di(o.maxHeight,s,"clientHeight")}}return{width:t,height:e,maxWidth:r||fi,maxHeight:i||fi}}const _e=n=>Math.round(n*10)/10;function s0(n,t,e,r){const i=Mi(n),s=$e(i,"margin"),a=di(i.maxWidth,n,"clientWidth")||fi,o=di(i.maxHeight,n,"clientHeight")||fi,l=i0(n,t,e);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=$e(i,"border","width"),d=$e(i,"padding");c-=d.width+h.width,u-=d.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=_e(Math.min(c,a,l.maxWidth)),u=_e(Math.min(u,o,l.maxHeight)),c&&!u&&(u=_e(c/2)),(t!==void 0||e!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=_e(Math.floor(u*r))),{width:c,height:u}}function Ku(n,t,e){const r=t||1,i=_e(n.height*r),s=_e(n.width*r);n.height=_e(n.height),n.width=_e(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(n.currentDevicePixelRatio=r,a.height=i,a.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const a0=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Lc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Gu(n,t){const e=t0(n,t),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function qe(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function o0(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:r==="middle"?e<.5?n.y:t.y:r==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function l0(n,t,e,r){const i={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=qe(n,i,e),o=qe(i,s,e),l=qe(s,t,e),c=qe(a,o,e),u=qe(o,l,e);return qe(c,u,e)}const c0=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,r){return e-r},leftForLtr(e,r){return e-r}}},u0=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function cn(n,t,e){return n?c0(t,e):u0()}function Tv(n,t){let e,r;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,r=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=r)}function Av(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Cv(n){return n==="angle"?{between:Jn,compare:c_,normalize:At}:{between:le,compare:(t,e)=>t-e,normalize:t=>t}}function Xu({start:n,end:t,count:e,loop:r,style:i}){return{start:n%e,end:t%e,loop:r&&(t-n+1)%e===0,style:i}}function f0(n,t,e){const{property:r,start:i,end:s}=e,{between:a,normalize:o}=Cv(r),l=t.length;let{start:c,end:u,loop:f}=n,h,d;if(f){for(c+=l,u+=l,h=0,d=l;h<d&&a(o(t[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:n.style}}function kv(n,t,e){if(!e)return[n];const{property:r,start:i,end:s}=e,a=t.length,{compare:o,between:l,normalize:c}=Cv(r),{start:u,end:f,loop:h,style:d}=f0(n,t,e),g=[];let p=!1,v=null,m,b,x;const y=()=>l(i,x,m)&&o(i,x)!==0,_=()=>o(s,m)===0||l(s,x,m),w=()=>p||y(),S=()=>!p||_();for(let M=u,O=u;M<=f;++M)b=t[M%a],!b.skip&&(m=c(b[r]),m!==x&&(p=l(m,i,s),v===null&&w()&&(v=o(m,i)===0?M:O),v!==null&&S()&&(g.push(Xu({start:v,end:M,loop:h,count:a,style:d})),v=null),O=M,x=m));return v!==null&&g.push(Xu({start:v,end:f,loop:h,count:a,style:d})),g}function Pv(n,t){const e=[],r=n.segments;for(let i=0;i<r.length;i++){const s=kv(r[i],n.points,t);s.length&&e.push(...s)}return e}function h0(n,t,e,r){let i=0,s=t-1;if(e&&!r)for(;i<t&&!n[i].skip;)i++;for(;i<t&&n[i].skip;)i++;for(i%=t,e&&(s+=i);s>i&&n[s%t].skip;)s--;return s%=t,{start:i,end:s}}function d0(n,t,e,r){const i=n.length,s=[];let a=t,o=n[t],l;for(l=t+1;l<=e;++l){const c=n[l%i];c.skip||c.stop?o.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=a=c.stop?l:null):(a=l,o.skip&&(t=l)),o=c}return a!==null&&s.push({start:t%i,end:a%i,loop:r}),s}function p0(n,t){const e=n.points,r=n.options.spanGaps,i=e.length;if(!i)return[];const s=!!n._loop,{start:a,end:o}=h0(e,i,s,r);if(r===!0)return Zu(n,[{start:a,end:o,loop:s}],e,t);const l=o<a?o+i:o,c=!!n._fullLoop&&a===0&&o===i-1;return Zu(n,d0(e,a,l,c),e,t)}function Zu(n,t,e,r){return!r||!r.setContext||!e?t:g0(n,t,e,r)}function g0(n,t,e,r){const i=n._chart.getContext(),s=Ju(n.options),{_datasetIndex:a,options:{spanGaps:o}}=n,l=e.length,c=[];let u=s,f=t[0].start,h=f;function d(g,p,v,m){const b=o?-1:1;if(g!==p){for(g+=l;e[g%l].skip;)g-=b;for(;e[p%l].skip;)p+=b;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:v,style:m}),u=m,f=p%l)}}for(const g of t){f=o?f:g.start;let p=e[f%l],v;for(h=f+1;h<=g.end;h++){const m=e[h%l];v=Ju(r.setContext(Qe(i,{type:"segment",p0:p,p1:m,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),v0(v,u)&&d(f,h-1,g.loop,u),p=m,u=v}f<h-1&&d(f,h-1,g.loop,u)}return c}function Ju(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function v0(n,t){if(!t)return!1;const e=[],r=function(i,s){return Tc(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(t,r)}function Lr(n,t,e){return n.options.clip?n[e]:t[e]}function m0(n,t){const{xScale:e,yScale:r}=n;return e&&r?{left:Lr(e,t,"left"),right:Lr(e,t,"right"),top:Lr(r,t,"top"),bottom:Lr(r,t,"bottom")}:t}function Iv(n,t){const e=t._clip;if(e.disabled)return!1;const r=m0(t,n.chartArea);return{left:e.left===!1?0:r.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:r.right+(e.right===!0?0:e.right),top:e.top===!1?0:r.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:r.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class b0{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,r,i){const s=e.listeners[i],a=e.duration;s.forEach(o=>o({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(r-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=yv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),e+=s.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let r=e.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,r)),r}listen(t,e,r){this._getAnims(t).listeners[e].push(r)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const r=e.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ie=new b0;const Qu="transparent",y0={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const r=Hu(n||Qu),i=r.valid&&Hu(t||Qu);return i&&i.valid?i.mix(r,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class _0{constructor(t,e,r,i){const s=e[r];i=Pr([t.to,i,s,t.from]);const a=Pr([t.from,s,i]);this._active=!0,this._fn=t.fn||y0[t.type||typeof a],this._easing=Wn[t.easing]||Wn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Pr([t.to,e,i,t.from]),this._from=Pr([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||e<r),!this._active){this._target[i]=o,this._notify(!0);return}if(e<0){this._target[i]=s;return}l=e/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,r)=>{t.push({res:e,rej:r})})}_notify(t){const e=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][e]()}}class Lv{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!U(t))return;const e=Object.keys(ot.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!U(s))return;const a={};for(const o of e)a[o]=s[o];(ct(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(t,e){const r=e.options,i=w0(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&x0(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,e){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,e));continue}const u=e[c];let f=s[c];const h=r.get(c);if(f)if(h&&f.active()){f.update(h,u,o);continue}else f.cancel();if(!h||!h.duration){t[c]=u;continue}s[c]=f=new _0(h,t,c,u),i.push(f)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const r=this._createAnimations(t,e);if(r.length)return ie.add(this._chart,r),!0}}function x0(n,t){const e=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}function w0(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function tf(n,t){const e=n&&n.options||{},r=e.reverse,i=e.min===void 0?t:0,s=e.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function S0(n,t,e){if(e===!1)return!1;const r=tf(n,e),i=tf(t,e);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function M0(n){let t,e,r,i;return U(n)?(t=n.top,e=n.right,r=n.bottom,i=n.left):t=e=r=i=n,{top:t,right:e,bottom:r,left:i,disabled:n===!1}}function Fv(n,t){const e=[],r=n._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)e.push(r[i].index);return e}function ef(n,t,e,r={}){const i=n.keys,s=r.mode==="single";let a,o,l,c;if(t===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===e){if(u=!0,r.all)continue;break}c=n.values[l],_t(c)&&(s||t===0||Gt(t)===Gt(c))&&(t+=c)}return!u&&!r.all?0:t}function D0(n,t){const{iScale:e,vScale:r}=t,i=e.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(n),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:n[u]};return o}function Qi(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function O0(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function E0(n){const{min:t,max:e,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function R0(n,t,e){const r=n[t]||(n[t]={});return r[e]||(r[e]={})}function nf(n,t,e,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(e&&s>0||!e&&s<0)return i.index}return null}function rf(n,t){const{chart:e,_cachedMeta:r}=n,i=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=O0(s,a,r),f=t.length;let h;for(let d=0;d<f;++d){const g=t[d],{[l]:p,[c]:v}=g,m=g._stacks||(g._stacks={});h=m[c]=R0(i,u,p),h[o]=v,h._top=nf(h,a,!0,r.type),h._bottom=nf(h,a,!1,r.type);const b=h._visualValues||(h._visualValues={});b[o]=v}}function ts(n,t){const e=n.scales;return Object.keys(e).filter(r=>e[r].axis===t).shift()}function T0(n,t){return Qe(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function A0(n,t,e){return Qe(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function En(n,t){const e=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){t=t||n._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][e]===void 0)return;delete s[r][e],s[r]._visualValues!==void 0&&s[r]._visualValues[e]!==void 0&&delete s[r]._visualValues[e]}}}const es=n=>n==="reset"||n==="none",sf=(n,t)=>t?n:Object.assign({},n),C0=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Fv(e,!0),values:null};class He{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Qi(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&En(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,r=this.getDataset(),i=(f,h,d,g)=>f==="x"?h:f==="r"?g:d,s=e.xAxisID=V(r.xAxisID,ts(t,"x")),a=e.yAxisID=V(r.yAxisID,ts(t,"y")),o=e.rAxisID=V(r.rAxisID,ts(t,"r")),l=e.indexAxis,c=e.iAxisID=i(l,s,a,o),u=e.vAxisID=i(l,a,s,o);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&zu(this._data,this),t._stacked&&En(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),r=this._data;if(U(e)){const i=this._cachedMeta;this._data=D0(e,i)}else if(r!==e){if(r){zu(r,this);const i=this._cachedMeta;En(i),i._parsed=[]}e&&Object.isExtensible(e)&&d_(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=e._stacked;e._stacked=Qi(e.vScale,e),e.stack!==r.stack&&(i=!0,En(e),e.stack=r.stack),this._resyncElements(t),(i||s!==e._stacked)&&(rf(this,e._parsed),e._stacked=Qi(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=t===0&&e===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],u,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{ct(i[t])?h=this.parseArrayData(r,i,t,e):U(i[t])?h=this.parseObjectData(r,i,t,e):h=this.parsePrimitiveData(r,i,t,e);const d=()=>f[o]===null||c&&f[o]<c[o];for(u=0;u<e;++u)r._parsed[u+t]=f=h[u],l&&(d()&&(l=!1),c=f);r._sorted=l}a&&rf(this,h)}parsePrimitiveData(t,e,r,i){const{iScale:s,vScale:a}=t,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,f=new Array(i);let h,d,g;for(h=0,d=i;h<d;++h)g=h+r,f[h]={[o]:u||s.parse(c[g],g),[l]:a.parse(e[g],g)};return f}parseArrayData(t,e,r,i){const{xScale:s,yScale:a}=t,o=new Array(i);let l,c,u,f;for(l=0,c=i;l<c;++l)u=l+r,f=e[u],o[l]={x:s.parse(f[0],u),y:a.parse(f[1],u)};return o}parseObjectData(t,e,r,i){const{xScale:s,yScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,f,h,d;for(u=0,f=i;u<f;++u)h=u+r,d=e[h],c[u]={x:s.parse(Ve(d,o),h),y:a.parse(Ve(d,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,r){const i=this.chart,s=this._cachedMeta,a=e[t.axis],o={keys:Fv(i,!0),values:e._stacks[t.axis]._visualValues};return ef(o,a,s.index,{mode:r})}updateRangeFromParsed(t,e,r,i){const s=r[e.axis];let a=s===null?NaN:s;const o=i&&r._stacks[e.axis];i&&o&&(i.values=o,a=ef(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,a=i.length,o=this._getOtherScale(t),l=C0(e,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=E0(o);let h,d;function g(){d=i[h];const p=d[o.axis];return!_t(d[t.axis])||u>p||f<p}for(h=0;h<a&&!(!g()&&(this.updateRangeFromParsed(c,t,d,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,t,d,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=e.length;i<s;++i)a=e[i][t.axis],_t(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,r=e.iScale,i=e.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=M0(V(this.options.clip,S0(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,r=this._cachedMeta,i=r.data||[],s=e.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(t,s,o,l),u=o;u<o+l;++u){const f=i[u];f.hidden||(f.active&&c?a.push(f):f.draw(t,s))}for(u=0;u<a.length;++u)a[u].draw(t,s)}getStyle(t,e){const r=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,e,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=A0(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=T0(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",r){const i=e==="active",s=this._cachedDataOpts,a=t+"-"+e,o=s[a],l=this.enableOptionSharing&&Xn(r);if(o)return sf(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),f=i?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),u),d=Object.keys(ot.elements[t]),g=()=>this.getContext(r,i,e),p=c.resolveNamedOptions(h,d,g,f);return p.$shared&&(p.$shared=l,s[a]=Object.freeze(sf(p,l))),p}_resolveAnimations(t,e,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${e}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,e),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(t,r,e))}const c=new Lv(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||es(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const r=this.resolveDataElementOptions(t,e),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(e,s)||s!==i;return this.updateSharedOptions(s,e,r),{sharedOptions:s,includeOptions:a}}updateElement(t,e,r,i){es(i)?Object.assign(t,r):this._resolveAnimations(e,i).update(t,r)}updateSharedOptions(t,e,r){t&&!es(e)&&this._resolveAnimations(void 0,e).update(t,r)}_setStyle(t,e,r,i){t.active=i;const s=this.getStyle(e,i);this._resolveAnimations(e,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,e,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=r.length,s=e.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,e,r=!0){const i=this._cachedMeta,s=i.data,a=t+e;let o;const l=c=>{for(c.length+=e,o=c.length-1;o>=a;o--)c[o]=c[o-e]};for(l(s),o=t;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,e),r&&this.updateElements(s,t,e,"reset")}updateElements(t,e,r,i){}_removeElements(t,e){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,e);r._stacked&&En(r,i)}r.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,r,i]=t;this[e](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B(He,"defaults",{}),B(He,"datasetElementType",null),B(He,"dataElementType",null);function k0(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=e.length;i<s;i++)r=r.concat(e[i].controller.getAllParsedValues(n));n._cache.$bar=bv(r.sort((i,s)=>i-s))}return n._cache.$bar}function P0(n){const t=n.iScale,e=k0(t,n.type);let r=t._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(Xn(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(i=0,s=e.length;i<s;++i)a=t.getPixelForValue(e[i]),l();for(o=void 0,i=0,s=t.ticks.length;i<s;++i)a=t.getPixelForTick(i),l();return r}function I0(n,t,e,r){const i=e.barThickness;let s,a;return G(i)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:t.pixels[n]-s/2}}function L0(n,t,e,r){const i=t.pixels,s=i[n];let a=n>0?i[n-1]:null,o=n<i.length-1?i[n+1]:null;const l=e.categoryPercentage;a===null&&(a=s-(o===null?t.end-t.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:e.barPercentage,start:c}}function F0(n,t,e,r){const i=e.parse(n[0],r),s=e.parse(n[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}function qv(n,t,e,r){return ct(n)?F0(n,t,e,r):t[e.axis]=e.parse(n,r),t}function af(n,t,e,r){const i=n.iScale,s=n.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,f,h;for(c=e,u=e+r;c<u;++c)h=t[c],f={},f[i.axis]=o||i.parse(a[c],c),l.push(qv(h,f,s,c));return l}function ns(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function q0(n,t,e){return n!==0?Gt(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function N0(n){let t,e,r,i,s;return n.horizontal?(t=n.base>n.x,e="left",r="right"):(t=n.base<n.y,e="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:e,end:r,reverse:t,top:i,bottom:s}}function z0(n,t,e,r){let i=t.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:u}=N0(n);i==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===r?i=c:(e._bottom||0)===r?i=u:(s[of(u,a,o,l)]=!0,i=c)),s[of(i,a,o,l)]=!0,n.borderSkipped=s}function of(n,t,e,r){return r?(n=B0(n,t,e),n=lf(n,e,t)):n=lf(n,t,e),n}function B0(n,t,e){return n===t?e:n===e?t:n}function lf(n,t,e){return n==="start"?t:n==="end"?e:n}function $0(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Gr extends He{parsePrimitiveData(t,e,r,i){return af(t,e,r,i)}parseArrayData(t,e,r,i){return af(t,e,r,i)}parseObjectData(t,e,r,i){const{iScale:s,vScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,u=a.axis==="x"?o:l,f=[];let h,d,g,p;for(h=r,d=r+i;h<d;++h)p=e[h],g={},g[s.axis]=s.parse(Ve(p,c),h),f.push(qv(Ve(p,u),g,a,h));return f}updateRangeFromParsed(t,e,r,i){super.updateRangeFromParsed(t,e,r,i);const s=r._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:r,vScale:i}=e,s=this.getParsed(t),a=s._custom,o=ns(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+r;d++){const g=this.getParsed(d),p=s||G(g[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),v=this._calculateBarIndexPixels(d,u),m=(g._stacks||{})[o.axis],b={horizontal:c,base:p.base,enableBorderRadius:!m||ns(g._custom)||a===m._top||a===m._bottom,x:c?p.head:v.center,y:c?v.center:p.head,height:c?v.size:Math.abs(p.size),width:c?Math.abs(p.size):v.size};h&&(b.options=f||this.resolveDataElementOptions(d,t[d].active?"active":i));const x=b.options||t[d].options;z0(b,x,m,a),$0(b,x,u.ratio),this.updateElement(t[d],d,b,i)}}_getStacks(t,e){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(e),l=o&&o[r.axis],c=u=>{const f=u._parsed.find(d=>d[r.axis]===l),h=f&&f[u.vScale.axis];if(G(h)||isNaN(h))return!0};for(const u of i)if(!(e!==void 0&&c(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[V(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,r){const i=this._getStacks(t,r),s=e!==void 0?i.indexOf(e):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,r=e.iScale,i=[];let s,a;for(s=0,a=e.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=t.barThickness;return{min:o||P0(e),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(t),c=l._custom,u=ns(c);let f=l[e.axis],h=0,d=r?this.applyStack(e,l,r):f,g,p;d!==f&&(h=d-f,d=f),u&&(f=c.barStart,d=c.barEnd-c.barStart,f!==0&&Gt(f)!==Gt(c.barEnd)&&(h=0),h+=f);const v=!G(s)&&!u?s:h;let m=e.getPixelForValue(v);if(this.chart.getDataVisibility(t)?g=e.getPixelForValue(h+d):g=m,p=g-m,Math.abs(p)<a){p=q0(p,e,o)*a,f===o&&(m-=p/2);const b=e.getPixelForDecimal(0),x=e.getPixelForDecimal(1),y=Math.min(b,x),_=Math.max(b,x);m=Math.max(Math.min(m,_),y),g=m+p,r&&!u&&(l._stacks[e.axis]._visualValues[i]=e.getValueForPixel(g)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const b=Gt(p)*e.getLineWidthForValue(o)/2;m+=b,p-=b}return{size:p,base:m,head:g,center:g+p/2}}_calculateBarIndexPixels(t,e){const r=e.scale,i=this.options,s=i.skipNull,a=V(i.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(e.grouped){const u=s?this._getStackCount(t):e.stackCount,f=i.barThickness==="flex"?L0(t,e,i,u*c):I0(t,e,i,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(V(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+d;o=f.start+f.chunk*g+f.chunk/2,l=Math.min(a,f.chunk*f.ratio)}else o=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(a,e.min*e.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[e.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}B(Gr,"id","bar"),B(Gr,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),B(Gr,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function H0(n,t,e){let r=1,i=1,s=0,a=0;if(t<st){const o=n,l=o+t,c=Math.cos(o),u=Math.sin(o),f=Math.cos(l),h=Math.sin(l),d=(x,y,_)=>Jn(x,o,l,!0)?1:Math.max(y,y*e,_,_*e),g=(x,y,_)=>Jn(x,o,l,!0)?-1:Math.min(y,y*e,_,_*e),p=d(0,c,f),v=d(ut,u,h),m=g(J,c,f),b=g(J+ut,u,h);r=(p-m)/2,i=(v-b)/2,s=-(p+m)/2,a=-(v+b)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class on extends He{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(U(r[t])){const{key:l="value"}=this._parsing;s=c=>+Ve(r[c],l)}let a,o;for(a=t,o=t+e;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return oe(this.options.rotation-90)}_getCircumference(){return oe(this.options.circumference)}_getRotationExtents(){let t=st,e=-st;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();t=Math.min(t,s),e=Math.max(e,s+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:r}=e,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(Xy(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:d,offsetX:g,offsetY:p}=H0(f,u,l),v=(r.width-a)/h,m=(r.height-a)/d,b=Math.max(Math.min(v,m)/2,0),x=dv(this.options.radius,b),y=Math.max(x*l,0),_=(x-y)/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=p*x,i.total=this.calculateTotal(),this.outerRadius=x-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return e&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/st)}updateElements(t,e,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,u=(o.left+o.right)/2,f=(o.top+o.bottom)/2,h=s&&c.animateScale,d=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(e,i);let m=this._getRotation(),b;for(b=0;b<e;++b)m+=this._circumference(b,s);for(b=e;b<e+r;++b){const x=this._circumference(b,s),y=t[b],_={x:u+this.offsetX,y:f+this.offsetY,startAngle:m,endAngle:m+x,circumference:x,outerRadius:g,innerRadius:d};v&&(_.options=p||this.resolveDataElementOptions(b,y.active?"active":i)),m+=x,this.updateElement(y,b,_,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let r=0,i;for(i=0;i<e.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?st*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Ac(e._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const r=this.chart;let i,s,a,o,l;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),t=a.data,o=a.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(e+=this._getRingWeight(r));return e}_getRingWeight(t){return Math.max(V(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}B(on,"id","doughnut"),B(on,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),B(on,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),B(on,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((l,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:f.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(c),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:i,pointStyle:r,borderRadius:a&&(o||f.borderRadius),index:c}}):[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}}}});class Xr extends He{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=e,a=this.chart._animationsDisabled;let{start:o,count:l}=v_(e,i,a);this._drawStart=o,this._drawCount=l,m_(e)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},t),this.updateElements(i,o,l,t)}updateElements(t,e,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(e,i),h=a.axis,d=o.axis,{spanGaps:g,segment:p}=this.options,v=Zn(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||i==="none",b=e+r,x=t.length;let y=e>0&&this.getParsed(e-1);for(let _=0;_<x;++_){const w=t[_],S=m?w:{};if(_<e||_>=b){S.skip=!0;continue}const M=this.getParsed(_),O=G(M[d]),R=S[h]=a.getPixelForValue(M[h],_),E=S[d]=s||O?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,M,l):M[d],_);S.skip=isNaN(R)||isNaN(E)||O,S.stop=_>0&&Math.abs(M[h]-y[h])>v,p&&(S.parsed=M,S.raw=c.data[_]),f&&(S.options=u||this.resolveDataElementOptions(_,w.active?"active":i)),m||this.updateElement(w,_,S,i),y=M}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,r=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}B(Xr,"id","line"),B(Xr,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),B(Xr,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Jl extends on{}B(Jl,"id","pie"),B(Jl,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Le(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qc{constructor(t){B(this,"options");this.options=t||{}}static override(t){Object.assign(qc.prototype,t)}init(){}formats(){return Le()}parse(){return Le()}format(){return Le()}add(){return Le()}diff(){return Le()}startOf(){return Le()}endOf(){return Le()}}var j0={_date:qc};function W0(n,t,e,r){const{controller:i,data:s,_sorted:a}=n,o=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&a&&s.length){const c=o._reversePixels?f_:Ne;if(r){if(i._sharedOptions){const u=s[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const h=c(s,t,e-f),d=c(s,t,e+f);return{lo:h.lo,hi:d.hi}}}}else{const u=c(s,t,e);if(l){const{vScale:f}=i._cachedMeta,{_parsed:h}=n,d=h.slice(0,u.lo+1).reverse().findIndex(p=>!G(p[f.axis]));u.lo-=Math.max(0,d);const g=h.slice(u.hi).findIndex(p=>!G(p[f.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function Di(n,t,e,r,i){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:f,hi:h}=W0(s[o],t,a,i);for(let d=f;d<=h;++d){const g=u[d];g.skip||r(g,c,d)}}}function V0(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,a=e?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function rs(n,t,e,r,i){const s=[];return!i&&!n.isPointInArea(t)||Di(n,e,t,function(o,l,c){!i&&!Qn(o,n.chartArea,0)||o.inRange(t.x,t.y,r)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function Y0(n,t,e,r){let i=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],r),{angle:f}=vv(a,{x:t.x,y:t.y});Jn(f,c,u)&&i.push({element:a,datasetIndex:o,index:l})}return Di(n,e,t,s),i}function U0(n,t,e,r,i,s){let a=[];const o=V0(e);let l=Number.POSITIVE_INFINITY;function c(u,f,h){const d=u.inRange(t.x,t.y,i);if(r&&!d)return;const g=u.getCenterPoint(i);if(!(!!s||n.isPointInArea(g))&&!d)return;const v=o(t,g);v<l?(a=[{element:u,datasetIndex:f,index:h}],l=v):v===l&&a.push({element:u,datasetIndex:f,index:h})}return Di(n,e,t,c),a}function is(n,t,e,r,i,s){return!s&&!n.isPointInArea(t)?[]:e==="r"&&!r?Y0(n,t,e,i):U0(n,t,e,r,i,s)}function cf(n,t,e,r,i){const s=[],a=e==="x"?"inXRange":"inYRange";let o=!1;return Di(n,e,t,(l,c,u)=>{l[a]&&l[a](t[e],i)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(t.x,t.y,i))}),r&&!o?[]:s}var K0={modes:{index(n,t,e,r){const i=Fe(t,n),s=e.axis||"x",a=e.includeInvisible||!1,o=e.intersect?rs(n,i,s,r,a):is(n,i,s,!1,r,a),l=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(n,t,e,r){const i=Fe(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let o=e.intersect?rs(n,i,s,r,a):is(n,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,c=n.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(n,t,e,r){const i=Fe(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;return rs(n,i,s,r,a)},nearest(n,t,e,r){const i=Fe(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;return is(n,i,s,e.intersect,r,a)},x(n,t,e,r){const i=Fe(t,n);return cf(n,i,"x",e.intersect,r)},y(n,t,e,r){const i=Fe(t,n);return cf(n,i,"y",e.intersect,r)}}};const Nv=["left","top","right","bottom"];function Rn(n,t){return n.filter(e=>e.pos===t)}function uf(n,t){return n.filter(e=>Nv.indexOf(e.pos)===-1&&e.box.axis===t)}function Tn(n,t){return n.sort((e,r)=>{const i=t?r:e,s=t?e:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function G0(n){const t=[];let e,r,i,s,a,o;for(e=0,r=(n||[]).length;e<r;++e)i=n[e],{position:s,options:{stack:a,stackWeight:o=1}}=i,t.push({index:e,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}function X0(n){const t={};for(const e of n){const{stack:r,pos:i,stackWeight:s}=e;if(!r||!Nv.includes(i))continue;const a=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}function Z0(n,t){const e=X0(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=n.length;s<a;++s){o=n[s];const{fullSize:l}=o.box,c=e[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*r:l&&t.availableWidth,o.height=i):(o.width=r,o.height=u?u*i:l&&t.availableHeight)}return e}function J0(n){const t=G0(n),e=Tn(t.filter(c=>c.box.fullSize),!0),r=Tn(Rn(t,"left"),!0),i=Tn(Rn(t,"right")),s=Tn(Rn(t,"top"),!0),a=Tn(Rn(t,"bottom")),o=uf(t,"x"),l=uf(t,"y");return{fullSize:e,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Rn(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function ff(n,t,e,r){return Math.max(n[e],t[e])+Math.max(n[r],t[r])}function zv(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Q0(n,t,e,r){const{pos:i,box:s}=e,a=n.maxPadding;if(!U(i)){e.size&&(n[i]-=e.size);const f=r[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?s.height:s.width),e.size=f.size/f.count,n[i]+=e.size}s.getPadding&&zv(a,s.getPadding());const o=Math.max(0,t.outerWidth-ff(a,n,"left","right")),l=Math.max(0,t.outerHeight-ff(a,n,"top","bottom")),c=o!==n.w,u=l!==n.h;return n.w=o,n.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function tx(n){const t=n.maxPadding;function e(r){const i=Math.max(t[r]-n[r],0);return n[r]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function ex(n,t){const e=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}return r(n?["left","right"]:["top","bottom"])}function In(n,t,e,r){const i=[];let s,a,o,l,c,u;for(s=0,a=n.length,c=0;s<a;++s){o=n[s],l=o.box,l.update(o.width||t.w,o.height||t.h,ex(o.horizontal,t));const{same:f,other:h}=Q0(t,e,o,r);c|=f&&i.length,u=u||h,l.fullSize||i.push(o)}return c&&In(i,t,e,r)||u}function Fr(n,t,e,r,i){n.top=e,n.left=t,n.right=t+r,n.bottom=e+i,n.width=r,n.height=i}function hf(n,t,e,r){const i=e.padding;let{x:s,y:a}=t;for(const o of n){const l=o.box,c=r[o.stack]||{placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const f=t.w*u,h=c.size||l.height;Xn(c.start)&&(a=c.start),l.fullSize?Fr(l,i.left,a,e.outerWidth-i.right-i.left,h):Fr(l,t.left+c.placed,a,f,h),c.start=a,c.placed+=f,a=l.bottom}else{const f=t.h*u,h=c.size||l.width;Xn(c.start)&&(s=c.start),l.fullSize?Fr(l,s,i.top,h,e.outerHeight-i.bottom-i.top):Fr(l,s,t.top+c.placed,h,f),c.start=s,c.placed+=f,s=l.right}}t.x=s,t.y=a}var Lt={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,r){if(!n)return;const i=Nt(n.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(e-i.height,0),o=J0(n.boxes),l=o.vertical,c=o.horizontal;Z(n.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},i);zv(h,Nt(r));const d=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),g=Z0(l.concat(c),f);In(o.fullSize,d,f,g),In(l,d,f,g),In(c,d,f,g)&&In(l,d,f,g),tx(d),hf(o.leftAndTop,d,f,g),d.x+=d.w,d.y+=d.h,hf(o.rightAndBottom,d,f,g),n.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Z(o.chartArea,p=>{const v=p.box;Object.assign(v,n.chartArea),v.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class Bv{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,r){}removeEventListener(t,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,r,i){return e=Math.max(0,e||t.width),r=r||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):r)}}isAttached(t){return!0}updateConfig(t){}}class nx extends Bv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Zr="$chartjs",rx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},df=n=>n===null||n==="";function ix(n,t){const e=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Zr]={initial:{height:r,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",df(i)){const s=Gu(n,"width");s!==void 0&&(n.width=s)}if(df(r))if(n.style.height==="")n.height=n.width/(t||2);else{const s=Gu(n,"height");s!==void 0&&(n.height=s)}return n}const $v=a0?{passive:!0}:!1;function sx(n,t,e){n&&n.addEventListener(t,e,$v)}function ax(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,$v)}function ox(n,t){const e=rx[n.type]||n.type,{x:r,y:i}=Fe(n,t);return{type:e,chart:t,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function pi(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function lx(n,t,e){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||pi(o.addedNodes,r),a=a&&!pi(o.removedNodes,r);a&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function cx(n,t,e){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||pi(o.removedNodes,r),a=a&&!pi(o.addedNodes,r);a&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const er=new Map;let pf=0;function Hv(){const n=window.devicePixelRatio;n!==pf&&(pf=n,er.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function ux(n,t){er.size||window.addEventListener("resize",Hv),er.set(n,t)}function fx(n){er.delete(n),er.size||window.removeEventListener("resize",Hv)}function hx(n,t,e){const r=n.canvas,i=r&&Fc(r);if(!i)return;const s=_v((o,l)=>{const c=i.clientWidth;e(o,l),c<i.clientWidth&&e()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(i),ux(n,s),a}function ss(n,t,e){e&&e.disconnect(),t==="resize"&&fx(n)}function dx(n,t,e){const r=n.canvas,i=_v(s=>{n.ctx!==null&&e(ox(s,n))},n);return sx(r,t,i),i}class px extends Bv{acquireContext(t,e){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(ix(t,e),r):null}releaseContext(t){const e=t.canvas;if(!e[Zr])return!1;const r=e[Zr].initial;["height","width"].forEach(s=>{const a=r[s];G(a)?e.removeAttribute(s):e.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{e.style[s]=i[s]}),e.width=e.width,delete e[Zr],!0}addEventListener(t,e,r){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),a={attach:lx,detach:cx,resize:hx}[e]||dx;i[e]=a(t,e,r)}removeEventListener(t,e){const r=t.$proxies||(t.$proxies={}),i=r[e];if(!i)return;({attach:ss,detach:ss,resize:ss}[e]||ax)(t,e,i),r[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,r,i){return s0(t,e,r,i)}isAttached(t){const e=t&&Fc(t);return!!(e&&e.isConnected)}}function gx(n){return!Lc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?nx:px}var Yr;let ue=(Yr=class{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(t){const{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}hasValue(){return Zn(this.x)&&Zn(this.y)}getProps(t,e){const r=this.$animations;if(!e||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},B(Yr,"defaults",{}),B(Yr,"defaultRoutes"),Yr);function vx(n,t){const e=n.options.ticks,r=mx(n),i=Math.min(e.maxTicksLimit||r,r),s=e.major.enabled?yx(t):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return _x(t,c,s,a/i),c;const u=bx(s,t,i);if(a>0){let f,h;const d=a>1?Math.round((l-o)/(a-1)):null;for(qr(t,c,u,G(d)?0:o-d,o),f=0,h=a-1;f<h;f++)qr(t,c,u,s[f],s[f+1]);return qr(t,c,u,l,G(d)?t.length:l+d),c}return qr(t,c,u),c}function mx(n){const t=n.options.offset,e=n._tickSize(),r=n._length/e+(t?0:1),i=n._maxLength/e;return Math.floor(Math.min(r,i))}function bx(n,t,e){const r=xx(n),i=t.length/e;if(!r)return Math.max(i,1);const s=i_(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function yx(n){const t=[];let e,r;for(e=0,r=n.length;e<r;e++)n[e].major&&t.push(e);return t}function _x(n,t,e,r){let i=0,s=e[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===s&&(t.push(n[a]),i++,s=e[i*r])}function qr(n,t,e,r,i){const s=V(r,0),a=Math.min(V(i,n.length),n.length);let o=0,l,c,u;for(e=Math.ceil(e),i&&(l=i-r,e=l/Math.floor(l/e)),u=s;u<0;)o++,u=Math.round(s+o*e);for(c=Math.max(s,0);c<a;c++)c===u&&(t.push(n[c]),o++,u=Math.round(s+o*e))}function xx(n){const t=n.length;let e,r;if(t<2)return!1;for(r=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==r)return!1;return r}const wx=n=>n==="left"?"right":n==="right"?"left":n,gf=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,vf=(n,t)=>Math.min(t||n,n);function mf(n,t){const e=[],r=n.length/t,i=n.length;let s=0;for(;s<i;s+=r)e.push(n[Math.floor(s)]);return e}function Sx(n,t,e){const r=n.ticks.length,i=Math.min(t,r-1),s=n._startPixel,a=n._endPixel,o=1e-6;let l=n.getPixelForTick(i),c;if(!(e&&(r===1?c=Math.max(l-s,a-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-o||l>a+o)))return l}function Mx(n,t){Z(n,e=>{const r=e.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete e.data[r[s]];r.splice(0,i)}})}function An(n){return n.drawTicks?n.tickLength:0}function bf(n,t){if(!n.display)return 0;const e=yt(n.font,t),r=Nt(n.padding);return(ct(n.text)?n.text.length:1)*e.lineHeight+r.height}function Dx(n,t){return Qe(n,{scale:t,type:"scale"})}function Ox(n,t,e){return Qe(n,{tick:e,index:t,type:"tick"})}function Ex(n,t,e){let r=Rc(n);return(e&&t!=="right"||!e&&t==="right")&&(r=wx(r)),r}function Rx(n,t,e,r){const{top:i,left:s,bottom:a,right:o,chart:l}=n,{chartArea:c,scales:u}=l;let f=0,h,d,g;const p=a-i,v=o-s;if(n.isHorizontal()){if(d=mt(r,s,o),U(e)){const m=Object.keys(e)[0],b=e[m];g=u[m].getPixelForValue(b)+p-t}else e==="center"?g=(c.bottom+c.top)/2+p-t:g=gf(n,e,t);h=o-s}else{if(U(e)){const m=Object.keys(e)[0],b=e[m];d=u[m].getPixelForValue(b)-v+t}else e==="center"?d=(c.left+c.right)/2-v+t:d=gf(n,e,t);g=mt(r,a,i),f=e==="left"?-ut:ut}return{titleX:d,titleY:g,maxWidth:h,rotation:f}}class bn extends ue{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:r,_suggestedMax:i}=this;return t=jt(t,Number.POSITIVE_INFINITY),e=jt(e,Number.NEGATIVE_INFINITY),r=jt(r,Number.POSITIVE_INFINITY),i=jt(i,Number.NEGATIVE_INFINITY),{min:jt(t,r),max:jt(e,i),minDefined:_t(t),maxDefined:_t(e)}}getMinMax(t){let{min:e,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:e,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,t),i||(e=Math.min(e,a.min)),s||(r=Math.max(r,a.max));return e=s&&e>r?r:e,r=i&&e>r?e:r,{min:jt(e,jt(r,e)),max:jt(r,jt(e,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rt(this.options.beforeUpdate,[this])}update(t,e,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=q_(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?mf(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=vx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,r;this.isHorizontal()?(e=this.left,r=this.right):(e=this.top,r=this.bottom,t=!t),this._startPixel=e,this._endPixel=r,this._reversePixels=t,this._length=r-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rt(this.options.afterUpdate,[this])}beforeSetDimensions(){rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),rt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=rt(e.callback,[s.value,r,t],this)}afterTickToLabelConversion(){rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,r=vf(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,s=e.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!e.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,d=bt(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/r:d/(r-1),f+6>o&&(o=d/(r-(t.offset?.5:1)),l=this.maxHeight-An(t.grid)-e.padding-bf(t.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),a=l_(Math.min(Math.asin(bt((u.highest.height+6)/o,-1,1)),Math.asin(bt(l/c,-1,1))-Math.asin(bt(h/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=bf(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=An(s)+l):(t.height=this.maxHeight,t.width=An(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:h}=this._getLabelSizes(),d=r.padding*2,g=oe(this.labelRotation),p=Math.cos(g),v=Math.sin(g);if(o){const m=r.mirror?0:v*f.width+p*h.height;t.height=Math.min(this.maxHeight,t.height+m+d)}else{const m=r.mirror?0:p*f.width+v*h.height;t.width=Math.min(this.maxWidth,t.width+m+d)}this._calculatePadding(c,u,v,p)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;l?c?(h=i*t.width,d=r*e.height):(h=r*t.height,d=i*e.width):s==="start"?d=e.width:s==="end"?h=t.width:s!=="inner"&&(h=t.width/2,d=e.width/2),this.paddingLeft=Math.max((h-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-f+a)*this.width/(this.width-f),0)}else{let u=e.height/2,f=t.height/2;s==="start"?(u=0,f=t.height):s==="end"&&(u=e.height,f=0),this.paddingTop=u+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,r;for(e=0,r=t.length;e<r;e++)G(t[e].label)&&(t.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let r=this.ticks;e<r.length&&(r=mf(r,e)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(e/vf(e,r));let c=0,u=0,f,h,d,g,p,v,m,b,x,y,_;for(f=0;f<e;f+=l){if(g=t[f].label,p=this._resolveTickFontOptions(f),i.font=v=p.string,m=s[v]=s[v]||{data:{},gc:[]},b=p.lineHeight,x=y=0,!G(g)&&!ct(g))x=Wu(i,m.data,m.gc,x,g),y=b;else if(ct(g))for(h=0,d=g.length;h<d;++h)_=g[h],!G(_)&&!ct(_)&&(x=Wu(i,m.data,m.gc,x,_),y+=b);a.push(x),o.push(y),c=Math.max(x,c),u=Math.max(y,u)}Mx(s,e);const w=a.indexOf(c),S=o.indexOf(u),M=O=>({width:a[O]||0,height:o[O]||0});return{first:M(0),last:M(e-1),widest:M(w),highest:M(S),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return u_(this._alignToPixels?Ie(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const r=e[t];return r.$context||(r.$context=Ox(this.getContext(),t,r))}return this.$context||(this.$context=Dx(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=oe(this.labelRotation),r=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=An(s),d=[],g=o.setContext(this.getContext()),p=g.display?g.width:0,v=p/2,m=function(L){return Ie(r,L,p)};let b,x,y,_,w,S,M,O,R,E,T,A;if(a==="top")b=m(this.bottom),S=this.bottom-h,O=b-v,E=m(t.top)+v,A=t.bottom;else if(a==="bottom")b=m(this.top),E=t.top,A=m(t.bottom)-v,S=b+v,O=this.top+h;else if(a==="left")b=m(this.right),w=this.right-h,M=b-v,R=m(t.left)+v,T=t.right;else if(a==="right")b=m(this.left),R=t.left,T=m(t.right)-v,w=b+v,M=this.left+h;else if(e==="x"){if(a==="center")b=m((t.top+t.bottom)/2+.5);else if(U(a)){const L=Object.keys(a)[0],H=a[L];b=m(this.chart.scales[L].getPixelForValue(H))}E=t.top,A=t.bottom,S=b+v,O=S+h}else if(e==="y"){if(a==="center")b=m((t.left+t.right)/2);else if(U(a)){const L=Object.keys(a)[0],H=a[L];b=m(this.chart.scales[L].getPixelForValue(H))}w=b-v,M=w-h,R=t.left,T=t.right}const N=V(i.ticks.maxTicksLimit,f),q=Math.max(1,Math.ceil(f/N));for(x=0;x<f;x+=q){const L=this.getContext(x),H=s.setContext(L),Y=o.setContext(L),W=H.lineWidth,nt=H.color,C=Y.dash||[],k=Y.dashOffset,P=H.tickWidth,F=H.tickColor,z=H.tickBorderDash||[],j=H.tickBorderDashOffset;y=Sx(this,x,l),y!==void 0&&(_=Ie(r,y,W),c?w=M=R=T=_:S=O=E=A=_,d.push({tx1:w,ty1:S,tx2:M,ty2:O,x1:R,y1:E,x2:T,y2:A,width:W,color:nt,borderDash:C,borderDashOffset:k,tickWidth:P,tickColor:F,tickBorderDash:z,tickBorderDashOffset:j}))}return this._ticksLength=f,this._borderValue=b,d}_computeLabelItems(t){const e=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=s,h=An(r.grid),d=h+u,g=f?-u:d,p=-oe(this.labelRotation),v=[];let m,b,x,y,_,w,S,M,O,R,E,T,A="middle";if(i==="top")w=this.bottom-g,S=this._getXAxisLabelAlignment();else if(i==="bottom")w=this.top+g,S=this._getXAxisLabelAlignment();else if(i==="left"){const q=this._getYAxisLabelAlignment(h);S=q.textAlign,_=q.x}else if(i==="right"){const q=this._getYAxisLabelAlignment(h);S=q.textAlign,_=q.x}else if(e==="x"){if(i==="center")w=(t.top+t.bottom)/2+d;else if(U(i)){const q=Object.keys(i)[0],L=i[q];w=this.chart.scales[q].getPixelForValue(L)+d}S=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")_=(t.left+t.right)/2-d;else if(U(i)){const q=Object.keys(i)[0],L=i[q];_=this.chart.scales[q].getPixelForValue(L)}S=this._getYAxisLabelAlignment(h).textAlign}e==="y"&&(l==="start"?A="top":l==="end"&&(A="bottom"));const N=this._getLabelSizes();for(m=0,b=o.length;m<b;++m){x=o[m],y=x.label;const q=s.setContext(this.getContext(m));M=this.getPixelForTick(m)+s.labelOffset,O=this._resolveTickFontOptions(m),R=O.lineHeight,E=ct(y)?y.length:1;const L=E/2,H=q.color,Y=q.textStrokeColor,W=q.textStrokeWidth;let nt=S;a?(_=M,S==="inner"&&(m===b-1?nt=this.options.reverse?"left":"right":m===0?nt=this.options.reverse?"right":"left":nt="center"),i==="top"?c==="near"||p!==0?T=-E*R+R/2:c==="center"?T=-N.highest.height/2-L*R+R:T=-N.highest.height+R/2:c==="near"||p!==0?T=R/2:c==="center"?T=N.highest.height/2-L*R:T=N.highest.height-E*R,f&&(T*=-1),p!==0&&!q.showLabelBackdrop&&(_+=R/2*Math.sin(p))):(w=M,T=(1-E)*R/2);let C;if(q.showLabelBackdrop){const k=Nt(q.backdropPadding),P=N.heights[m],F=N.widths[m];let z=T-k.top,j=0-k.left;switch(A){case"middle":z-=P/2;break;case"bottom":z-=P;break}switch(S){case"center":j-=F/2;break;case"right":j-=F;break;case"inner":m===b-1?j-=F:m>0&&(j-=F/2);break}C={left:j,top:z,width:F+k.width,height:P+k.height,color:q.backdropColor}}v.push({label:y,font:O,textOffset:T,options:{rotation:p,color:H,strokeColor:Y,strokeWidth:W,textAlign:nt,textBaseline:A,translation:[_,w],backdrop:C}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-oe(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=t+s,l=a.widest.width;let c,u;return e==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:r,top:i,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(r,i,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(e.display)for(s=0,a=i.length;s<a;++s){const l=i[s];e.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,h;this.isHorizontal()?(c=Ie(t,this.left,a)-a/2,u=Ie(t,this.right,o)+o/2,f=h=l):(f=Ie(t,this.top,a)-a/2,h=Ie(t,this.bottom,o)+o/2,c=u=l),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(c,f),e.lineTo(u,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&wi(r,i);const s=this.getLabelItems(t);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;tr(r,c,0,u,l,o)}i&&Si(r)}drawTitle(){const{ctx:t,options:{position:e,title:r,reverse:i}}=this;if(!r.display)return;const s=yt(r.font),a=Nt(r.padding),o=r.align;let l=s.lineHeight/2;e==="bottom"||e==="center"||U(e)?(l+=a.bottom,ct(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:f,rotation:h}=Rx(this,l,e,o);tr(t,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:h,textAlign:Ex(o,e,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,r=V(t.grid&&t.grid.z,-1),i=V(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==bn.prototype.draw?[{z:e,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=e.length;s<a;++s){const o=e[s];o[r]===this.id&&(!t||o.type===t)&&i.push(o)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return yt(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Nr{constructor(t,e,r){this.type=t,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let r;Cx(e)&&(r=this.register(e));const i=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,Tx(t,a,r),this.override&&ot.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,r=t.id,i=this.scope;r in e&&delete e[r],i&&r in ot[i]&&(delete ot[i][r],this.override&&delete Ye[r])}}function Tx(n,t,e){const r=Gn(Object.create(null),[e?ot.get(e):{},ot.get(t),n.defaults]);ot.set(t,r),n.defaultRoutes&&Ax(t,n.defaultRoutes),n.descriptors&&ot.describe(t,n.descriptors)}function Ax(n,t){Object.keys(t).forEach(e=>{const r=e.split("."),i=r.pop(),s=[n].concat(r).join("."),a=t[e].split("."),o=a.pop(),l=a.join(".");ot.route(s,i,l,o)})}function Cx(n){return"id"in n&&"defaults"in n}class kx{constructor(){this.controllers=new Nr(He,"datasets",!0),this.elements=new Nr(ue,"elements"),this.plugins=new Nr(Object,"plugins"),this.scales=new Nr(bn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,r){[...e].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):Z(i,a=>{const o=r||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,e,r){const i=Oc(t);rt(r["before"+i],[],r),e[t](r),rt(r["after"+i],[],r)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const r=this._typedRegistries[e];if(r.isForType(t))return r}return this.plugins}_get(t,e,r){const i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Vt=new kx;class Px{constructor(){this._init=void 0}notify(t,e,r,i){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const s=i?this._descriptors(t).filter(i):this._descriptors(t),a=this._notify(s,t,e,r);return e==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),a}_notify(t,e,r,i){i=i||{};for(const s of t){const a=s.plugin,o=a[r],l=[e,i,s.options];if(rt(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){G(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const r=t&&t.config,i=V(r.options&&r.options.plugins,{}),s=Ix(r);return i===!1&&!e?[]:Fx(t,s,i,e)}_notifyStateChanges(t){const e=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(e,r),t,"stop"),this._notify(i(r,e),t,"start")}}function Ix(n){const t={},e=[],r=Object.keys(Vt.plugins.items);for(let s=0;s<r.length;s++)e.push(Vt.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];e.indexOf(a)===-1&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}function Lx(n,t){return!t&&n===!1?null:n===!0?{}:n}function Fx(n,{plugins:t,localIds:e},r,i){const s=[],a=n.getContext();for(const o of t){const l=o.id,c=Lx(r[l],i);c!==null&&s.push({plugin:o,options:qx(n.config,{plugin:o,local:e[l]},c,a)})}return s}function qx(n,{plugin:t,local:e},r,i){const s=n.pluginScopeKeys(t),a=n.getOptionScopes(r,s);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ql(n,t){const e=ot.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Nx(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function zx(n,t){return n===t?"_index_":"_value_"}function yf(n){if(n==="x"||n==="y"||n==="r")return n}function Bx(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function tc(n,...t){if(yf(n))return n;for(const e of t){const r=e.axis||Bx(e.position)||n.length>1&&yf(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function _f(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function $x(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(e.length)return _f(n,"x",e[0])||_f(n,"y",e[0])}return{}}function Hx(n,t){const e=Ye[n.type]||{scales:{}},r=t.scales||{},i=Ql(n.type,t),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!U(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=tc(a,o,$x(a,n),ot.scales[o.type]),c=zx(l,i),u=e.scales||{};s[a]=Hn(Object.create(null),[{axis:l},o,u[l],u[c]])}),n.data.datasets.forEach(a=>{const o=a.type||n.type,l=a.indexAxis||Ql(o,t),u=(Ye[o]||{}).scales||{};Object.keys(u).forEach(f=>{const h=Nx(f,l),d=a[h+"AxisID"]||h;s[d]=s[d]||Object.create(null),Hn(s[d],[{axis:h},r[d],u[f]])})}),Object.keys(s).forEach(a=>{const o=s[a];Hn(o,[ot.scales[o.type],ot.scale])}),s}function jv(n){const t=n.options||(n.options={});t.plugins=V(t.plugins,{}),t.scales=Hx(n,t)}function Wv(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function jx(n){return n=n||{},n.data=Wv(n.data),jv(n),n}const xf=new Map,Vv=new Set;function zr(n,t){let e=xf.get(n);return e||(e=t(),xf.set(n,e),Vv.add(e)),e}const Cn=(n,t,e)=>{const r=Ve(t,e);r!==void 0&&n.add(r)};class Wx{constructor(t){this._config=jx(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Wv(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),jv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return zr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return zr(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return zr(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,r=this.type;return zr(`${r}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const r=this._scopeCache;let i=r.get(t);return(!i||e)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,e,r){const{options:i,type:s}=this,a=this._cachedScopes(t,r),o=a.get(e);if(o)return o;const l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(f=>Cn(l,t,f))),u.forEach(f=>Cn(l,i,f)),u.forEach(f=>Cn(l,Ye[s]||{},f)),u.forEach(f=>Cn(l,ot,f)),u.forEach(f=>Cn(l,Xl,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Vv.has(e)&&a.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ye[e]||{},ot.datasets[e]||{},{type:e},ot,Xl]}resolveNamedOptions(t,e,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=wf(this._resolverCache,t,i);let l=a;if(Yx(a,e)){s.$shared=!1,r=Me(r)?r():r;const c=this.createResolver(t,r,o);l=pn(a,r,c)}for(const c of e)s[c]=l[c];return s}createResolver(t,e,r=[""],i){const{resolver:s}=wf(this._resolverCache,t,r);return U(e)?pn(s,e,void 0,i):s}}function wf(n,t,e){let r=n.get(t);r||(r=new Map,n.set(t,r));const i=e.join();let s=r.get(i);return s||(s={resolver:kc(t,e),subPrefixes:e.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const Vx=n=>U(n)&&Object.getOwnPropertyNames(n).some(t=>Me(n[t]));function Yx(n,t){const{isScriptable:e,isIndexable:r}=Mv(n);for(const i of t){const s=e(i),a=r(i),o=(a||s)&&n[i];if(s&&(Me(o)||Vx(o))||a&&ct(o))return!0}return!1}var Ux="4.5.1";const Kx=["top","bottom","left","right","chartArea"];function Sf(n,t){return n==="top"||n==="bottom"||Kx.indexOf(n)===-1&&t==="x"}function Mf(n,t){return function(e,r){return e[n]===r[n]?e[t]-r[t]:e[n]-r[n]}}function Df(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),rt(e&&e.onComplete,[n],t)}function Gx(n){const t=n.chart,e=t.options.animation;rt(e&&e.onProgress,[n],t)}function Yv(n){return Lc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Jr={},Of=n=>{const t=Yv(n);return Object.values(Jr).filter(e=>e.canvas===t).pop()};function Xx(n,t,e){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=t){const a=n[i];delete n[i],(e>0||s>t)&&(n[s+e]=a)}}}function Zx(n,t,e,r){return!e||n.type==="mouseout"?null:r?t:n}var be;let Nc=(be=class{static register(...t){Vt.add(...t),Ef()}static unregister(...t){Vt.remove(...t),Ef()}constructor(t,e){const r=this.config=new Wx(e),i=Yv(t),s=Of(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||gx(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Gy(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Px,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=p_(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Jr[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ie.listen(this,"complete",Df),ie.listen(this,"progress",Gx),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:r,height:i,_aspectRatio:s}=this;return G(t)?e&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Vt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ku(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vu(this.canvas,this.ctx),this}stop(){return ie.stop(this),this}resize(t,e){ie.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,t,e,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Ku(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),rt(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Z(e,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];e&&(s=s.concat(Object.keys(e).map(a=>{const o=e[a],l=tc(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Z(s,a=>{const o=a.options,l=o.id,c=tc(l,o),u=V(o.type,a.dtype);(o.position===void 0||Sf(o.position,c)!==Sf(a.dposition))&&(o.position=a.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===u)f=r[l];else{const h=Vt.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(o,t)}),Z(i,(a,o)=>{a||delete r[o]}),Z(r,a=>{Lt.configure(this,a,a.options),Lt.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>e){for(let i=e;i<r;++i)this._destroyDatasetMeta(i);t.splice(e,r-e)}this._sortedMetasets=t.slice(0).sort(Mf("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((r,i)=>{e.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=e.length;r<i;r++){const s=e[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||Ql(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Vt.getController(o),{datasetElementType:c,dataElementType:u}=ot.datasets[o];Object.assign(l,{dataElementType:Vt.getElement(u),datasetElementType:c&&Vt.getElement(c)}),a.controller=new l(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Z(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const r=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||Z(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Mf("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Z(this.scales,t=>{Lt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Lu(e,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of e){const a=r==="_removeElements"?-s:s;Xx(t,i,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,r=s=>new Set(t.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<e;s++)if(!Lu(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Lt.update(this,this.width,this.height,t);const e=this.chartArea,r=e.width<=0||e.height<=0;this._layers=[],Z(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,r=this.data.datasets.length;e<r;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,r=this.data.datasets.length;e<r;++e)this._updateDataset(e,Me(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ie.has(this)?this.attached&&!ie.running(this)&&ie.start(this):(this.draw(),Df({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,r=[];let i,s;for(i=0,s=e.length;i<s;++i){const a=e[i];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=Iv(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&wi(e,i),t.controller.draw(),i&&Si(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Qn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,r,i){const s=K0.modes[e];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Qe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!e.hidden}setDatasetVisibility(t,e){const r=this.getDatasetMeta(t);r.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,i);Xn(e)?(s.data[e].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ie.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Vu(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Jr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,r=(s,a)=>{e.addEventListener(this,s,a),t[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};Z(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,r=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},e.isAttached(this.canvas)?o():a()}unbindEvents(){Z(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Z(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,r){const i=r?"set":"remove";let s,a,o,l;for(e==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){a=t[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],r=t.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!ci(r,e)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,e))}notifyPlugins(t,e,r){return this._plugins.notify(this,t,e,r)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),a=s(e,t),o=r?t:s(t,e);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const r={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,e,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,e,r){const{_active:i=[],options:s}=this,a=e,o=this._getActiveElements(t,i,r,a),l=e_(t),c=Zx(t,this._lastEvent,r,l);r&&(this._lastEvent=null,rt(s.onHover,[t,o,this],this),l&&rt(s.onClick,[t,o,this],this));const u=!ci(o,i);return(u||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=c,u}_getActiveElements(t,e,r,i){if(t.type==="mouseout")return[];if(!r)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},B(be,"defaults",ot),B(be,"instances",Jr),B(be,"overrides",Ye),B(be,"registry",Vt),B(be,"version",Ux),B(be,"getChart",Of),be);function Ef(){return Z(Nc.instances,n=>n._plugins.invalidate())}function Jx(n,t,e){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,f=Math.min(c/a,At(r-e));if(n.beginPath(),n.arc(i,s,a-c/2,r+f/2,e-f/2),o>0){const h=Math.min(c/o,At(r-e));n.arc(i,s,o+c/2,e-h/2,r+h/2,!0)}else{const h=Math.min(c/2,a*At(r-e));if(u==="round")n.arc(i,s,h,e-J/2,r+J/2,!0);else if(u==="bevel"){const d=2*h*h,g=-d*Math.cos(e+J/2)+i,p=-d*Math.sin(e+J/2)+s,v=d*Math.cos(r+J/2)+i,m=d*Math.sin(r+J/2)+s;n.lineTo(g,p),n.lineTo(v,m)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Qx(n,t,e){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=t;let c=i/o;n.beginPath(),n.arc(s,a,o,r-c,e+c),l>i?(c=i/l,n.arc(s,a,l,e+c,r-c,!0)):n.arc(s,a,i,e+ut,r-ut),n.closePath(),n.clip()}function tw(n){return Cc(n,["outerStart","outerEnd","innerStart","innerEnd"])}function ew(n,t,e,r){const i=tw(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,r*t/2),o=l=>{const c=(e-Math.min(s,l))*r/2;return bt(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:bt(i.innerStart,0,a),innerEnd:bt(i.innerEnd,0,a)}}function rn(n,t,e,r){return{x:e+n*Math.cos(t),y:r+n*Math.sin(t)}}function gi(n,t,e,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,f=Math.max(t.outerRadius+r+e-c,0),h=u>0?u+r+e+c:0;let d=0;const g=i-l;if(r){const q=u>0?u-r:0,L=f>0?f-r:0,H=(q+L)/2,Y=H!==0?g*H/(H+r):g;d=(g-Y)/2}const p=Math.max(.001,g*f-e/J)/f,v=(g-p)/2,m=l+v+d,b=i-v-d,{outerStart:x,outerEnd:y,innerStart:_,innerEnd:w}=ew(t,h,f,b-m),S=f-x,M=f-y,O=m+x/S,R=b-y/M,E=h+_,T=h+w,A=m+_/E,N=b-w/T;if(n.beginPath(),s){const q=(O+R)/2;if(n.arc(a,o,f,O,q),n.arc(a,o,f,q,R),y>0){const W=rn(M,R,a,o);n.arc(W.x,W.y,y,R,b+ut)}const L=rn(T,b,a,o);if(n.lineTo(L.x,L.y),w>0){const W=rn(T,N,a,o);n.arc(W.x,W.y,w,b+ut,N+Math.PI)}const H=(b-w/h+(m+_/h))/2;if(n.arc(a,o,h,b-w/h,H,!0),n.arc(a,o,h,H,m+_/h,!0),_>0){const W=rn(E,A,a,o);n.arc(W.x,W.y,_,A+Math.PI,m-ut)}const Y=rn(S,m,a,o);if(n.lineTo(Y.x,Y.y),x>0){const W=rn(S,O,a,o);n.arc(W.x,W.y,x,m-ut,O)}}else{n.moveTo(a,o);const q=Math.cos(O)*f+a,L=Math.sin(O)*f+o;n.lineTo(q,L);const H=Math.cos(R)*f+a,Y=Math.sin(R)*f+o;n.lineTo(H,Y)}n.closePath()}function nw(n,t,e,r,i){const{fullCircles:s,startAngle:a,circumference:o}=t;let l=t.endAngle;if(s){gi(n,t,e,r,l,i);for(let c=0;c<s;++c)n.fill();isNaN(o)||(l=a+(o%st||st))}return gi(n,t,e,r,l,i),n.fill(),l}function rw(n,t,e,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:h,borderRadius:d}=l,g=l.borderAlign==="inner";if(!c)return;n.setLineDash(f||[]),n.lineDashOffset=h,g?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let p=t.endAngle;if(s){gi(n,t,e,r,p,i);for(let v=0;v<s;++v)n.stroke();isNaN(o)||(p=a+(o%st||st))}g&&Qx(n,t,p),l.selfJoin&&p-a>=J&&d===0&&u!=="miter"&&Jx(n,t,p),s||(gi(n,t,e,r,p,i),n.stroke())}class Br extends ue{constructor(e){super();B(this,"circumference");B(this,"endAngle");B(this,"fullCircles");B(this,"innerRadius");B(this,"outerRadius");B(this,"pixelMargin");B(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=vv(s,{x:e,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=(this.options.spacing+this.options.borderWidth)/2,g=V(h,c-l),p=Jn(a,l,c)&&l!==c,v=g>=st||p,m=le(o,u+d,f+d);return v&&m}getCenterPoint(e){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:u}=this.options,f=(s+a)/2,h=(o+l+u+c)/2;return{x:r+Math.cos(f)*h,y:i+Math.sin(f)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>st?Math.floor(i/st):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(J,i||0)),u=s*c;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,nw(e,this,u,a,o),rw(e,this,u,a,o),e.restore()}}B(Br,"id","arc"),B(Br,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),B(Br,"defaultRoutes",{backgroundColor:"backgroundColor"}),B(Br,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function Uv(n,t,e=t){n.lineCap=V(e.borderCapStyle,t.borderCapStyle),n.setLineDash(V(e.borderDash,t.borderDash)),n.lineDashOffset=V(e.borderDashOffset,t.borderDashOffset),n.lineJoin=V(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=V(e.borderWidth,t.borderWidth),n.strokeStyle=V(e.borderColor,t.borderColor)}function iw(n,t,e){n.lineTo(e.x,e.y)}function sw(n){return n.stepped?R_:n.tension||n.cubicInterpolationMode==="monotone"?T_:iw}function Kv(n,t,e={}){const r=n.length,{start:i=0,end:s=r-1}=e,{start:a,end:o}=t,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function aw(n,t,e,r){const{points:i,options:s}=t,{count:a,start:o,loop:l,ilen:c}=Kv(i,e,r),u=sw(s);let{move:f=!0,reverse:h}=r||{},d,g,p;for(d=0;d<=c;++d)g=i[(o+(h?c-d:d))%a],!g.skip&&(f?(n.moveTo(g.x,g.y),f=!1):u(n,p,g,h,s.stepped),p=g);return l&&(g=i[(o+(h?c:0))%a],u(n,p,g,h,s.stepped)),!!l}function ow(n,t,e,r){const i=t.points,{count:s,start:a,ilen:o}=Kv(i,e,r),{move:l=!0,reverse:c}=r||{};let u=0,f=0,h,d,g,p,v,m;const b=y=>(a+(c?o-y:y))%s,x=()=>{p!==v&&(n.lineTo(u,v),n.lineTo(u,p),n.lineTo(u,m))};for(l&&(d=i[b(0)],n.moveTo(d.x,d.y)),h=0;h<=o;++h){if(d=i[b(h)],d.skip)continue;const y=d.x,_=d.y,w=y|0;w===g?(_<p?p=_:_>v&&(v=_),u=(f*u+y)/++f):(x(),n.lineTo(y,_),g=w,f=0,p=v=_),m=_}x()}function ec(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?ow:aw}function lw(n){return n.stepped?o0:n.tension||n.cubicInterpolationMode==="monotone"?l0:qe}function cw(n,t,e,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,r)&&i.closePath()),Uv(n,t.options),n.stroke(i)}function uw(n,t,e,r){const{segments:i,options:s}=t,a=ec(t);for(const o of i)Uv(n,s,o.style),n.beginPath(),a(n,t,o,{start:e,end:e+r-1})&&n.closePath(),n.stroke()}const fw=typeof Path2D=="function";function hw(n,t,e,r){fw&&!t.options.segment?cw(n,t,e,r):uw(n,t,e,r)}class ze extends ue{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;Q_(this._points,r,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=p0(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,r=t.length;return r&&e[t[r-1].end]}interpolate(t,e){const r=this.options,i=t[e],s=this.points,a=Pv(this,{property:e,start:i,end:i});if(!a.length)return;const o=[],l=lw(r);let c,u;for(c=0,u=a.length;c<u;++c){const{start:f,end:h}=a[c],d=s[f],g=s[h];if(d===g){o.push(d);continue}const p=Math.abs((i-d[e])/(g[e]-d[e])),v=l(d,g,p,r.stepped);v[e]=t[e],o.push(v)}return o.length===1?o[0]:o}pathSegment(t,e,r){return ec(this)(t,this,e,r)}path(t,e,r){const i=this.segments,s=ec(this);let a=this._loop;e=e||0,r=r||this.points.length-e;for(const o of i)a&=s(t,this,o,{start:e,end:e+r-1});return!!a}draw(t,e,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),hw(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}B(ze,"id","line"),B(ze,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),B(ze,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),B(ze,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Rf(n,t,e,r){const i=n.options,{[e]:s}=n.getProps([e],r);return Math.abs(t-s)<i.radius+i.hitRadius}class as extends ue{constructor(e){super();B(this,"parsed");B(this,"skip");B(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(e-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,r){return Rf(this,e,"x",r)}inYRange(e,r){return Rf(this,e,"y",r)}getCenterPoint(e){const{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);const i=r&&e.borderWidth||0;return(r+i)*2}draw(e,r){const i=this.options;this.skip||i.radius<.1||!Qn(this,r,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Zl(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}B(as,"id","point"),B(as,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),B(as,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Gv(n,t){const{x:e,y:r,base:i,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let o,l,c,u,f;return n.horizontal?(f=a/2,o=Math.min(e,i),l=Math.max(e,i),c=r-f,u=r+f):(f=s/2,o=e-f,l=e+f,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function xe(n,t,e,r){return n?0:bt(t,e,r)}function dw(n,t,e){const r=n.options.borderWidth,i=n.borderSkipped,s=Sv(r);return{t:xe(i.top,s.top,0,e),r:xe(i.right,s.right,0,t),b:xe(i.bottom,s.bottom,0,e),l:xe(i.left,s.left,0,t)}}function pw(n,t,e){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=ln(i),a=Math.min(t,e),o=n.borderSkipped,l=r||U(i);return{topLeft:xe(!l||o.top||o.left,s.topLeft,0,a),topRight:xe(!l||o.top||o.right,s.topRight,0,a),bottomLeft:xe(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:xe(!l||o.bottom||o.right,s.bottomRight,0,a)}}function gw(n){const t=Gv(n),e=t.right-t.left,r=t.bottom-t.top,i=dw(n,e/2,r/2),s=pw(n,e/2,r/2);return{outer:{x:t.left,y:t.top,w:e,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function os(n,t,e,r){const i=t===null,s=e===null,o=n&&!(i&&s)&&Gv(n,r);return o&&(i||le(t,o.left,o.right))&&(s||le(e,o.top,o.bottom))}function vw(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function mw(n,t){n.rect(t.x,t.y,t.w,t.h)}function ls(n,t,e={}){const r=n.x!==e.x?-t:0,i=n.y!==e.y?-t:0,s=(n.x+n.w!==e.x+e.w?t:0)-r,a=(n.y+n.h!==e.y+e.h?t:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+a,radius:n.radius}}class cs extends ue{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=gw(this),o=vw(a.radius)?hi:mw;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),o(t,ls(a,e,s)),t.clip(),o(t,ls(s,-e,a)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),o(t,ls(s,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,r){return os(this,t,e,r)}inXRange(t,e){return os(this,t,null,e)}inYRange(t,e){return os(this,null,t,e)}getCenterPoint(t){const{x:e,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+i)/2:e,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}B(cs,"id","bar"),B(cs,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),B(cs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function bw(n,t,e){const r=n.segments,i=n.points,s=t.points,a=[];for(const o of r){let{start:l,end:c}=o;c=Oi(l,c,i);const u=nc(e,i[l],i[c],o.loop);if(!t.segments){a.push({source:o,target:u,start:i[l],end:i[c]});continue}const f=Pv(t,u);for(const h of f){const d=nc(e,s[h.start],s[h.end],h.loop),g=kv(o,i,d);for(const p of g)a.push({source:p,target:h,start:{[e]:Tf(u,d,"start",Math.max)},end:{[e]:Tf(u,d,"end",Math.min)}})}}return a}function nc(n,t,e,r){if(r)return;let i=t[n],s=e[n];return n==="angle"&&(i=At(i),s=At(s)),{property:n,start:i,end:s}}function yw(n,t){const{x:e=null,y:r=null}=n||{},i=t.points,s=[];return t.segments.forEach(({start:a,end:o})=>{o=Oi(a,o,i);const l=i[a],c=i[o];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):e!==null&&(s.push({x:e,y:l.y}),s.push({x:e,y:c.y}))}),s}function Oi(n,t,e){for(;t>n;t--){const r=e[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function Tf(n,t,e,r){return n&&t?r(n[e],t[e]):n?n[e]:t?t[e]:0}function Xv(n,t){let e=[],r=!1;return ct(n)?(r=!0,e=n):e=yw(n,t),e.length?new ze({points:e,options:{tension:0},_loop:r,_fullLoop:r}):null}function Af(n){return n&&n.fill!==!1}function _w(n,t,e){let i=n[t].fill;const s=[t];let a;if(!e)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!_t(i))return i;if(a=n[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function xw(n,t,e){const r=Dw(n);if(U(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return _t(i)&&Math.floor(i)===i?ww(r[0],t,i,e):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function ww(n,t,e,r){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=r?!1:e}function Sw(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:U(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Mw(n,t,e){let r;return n==="start"?r=e:n==="end"?r=t.options.reverse?t.min:t.max:U(n)?r=n.value:r=t.getBaseValue(),r}function Dw(n){const t=n.options,e=t.fill;let r=V(e&&e.target,e);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Ow(n){const{scale:t,index:e,line:r}=n,i=[],s=r.segments,a=r.points,o=Ew(t,e);o.push(Xv({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)Rw(i,a[u],o)}return new ze({points:i,options:{}})}function Ew(n,t){const e=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}function Rw(n,t,e){const r=[];for(let i=0;i<e.length;i++){const s=e[i],{first:a,last:o,point:l}=Tw(s,t,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(n.push(l),!o)break}}n.push(...r)}function Tw(n,t,e){const r=n.interpolate(t,e);if(!r)return{};const i=r[e],s=n.segments,a=n.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],f=a[u.start][e],h=a[u.end][e];if(le(i,f,h)){o=i===f,l=i===h;break}}return{first:o,last:l,point:r}}class Zv{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,r){const{x:i,y:s,radius:a}=this;return e=e||{start:0,end:st},t.arc(i,s,a,e.end,e.start,!0),!r.bounds}interpolate(t){const{x:e,y:r,radius:i}=this,s=t.angle;return{x:e+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function Aw(n){const{chart:t,fill:e,line:r}=n;if(_t(e))return Cw(t,e);if(e==="stack")return Ow(n);if(e==="shape")return!0;const i=kw(n);return i instanceof Zv?i:Xv(i,r)}function Cw(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function kw(n){return(n.scale||{}).getPointPositionForValue?Iw(n):Pw(n)}function Pw(n){const{scale:t={},fill:e}=n,r=Sw(e,t);if(_t(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function Iw(n){const{scale:t,fill:e}=n,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,a=Mw(e,t,s),o=[];if(r.grid.circular){const l=t.getPointPositionForValue(0,s);return new Zv({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(t.getPointPositionForValue(l,a));return o}function us(n,t,e){const r=Aw(t),{chart:i,index:s,line:a,scale:o,axis:l}=t,c=a.options,u=c.fill,f=c.backgroundColor,{above:h=f,below:d=f}=u||{},g=i.getDatasetMeta(s),p=Iv(i,g);r&&a.points.length&&(wi(n,e),Lw(n,{line:a,target:r,above:h,below:d,area:e,scale:o,axis:l,clip:p}),Si(n))}function Lw(n,t){const{line:e,target:r,above:i,below:s,area:a,scale:o,clip:l}=t,c=e._loop?"angle":t.axis;n.save();let u=s;s!==i&&(c==="x"?(Cf(n,r,a.top),fs(n,{line:e,target:r,color:i,scale:o,property:c,clip:l}),n.restore(),n.save(),Cf(n,r,a.bottom)):c==="y"&&(kf(n,r,a.left),fs(n,{line:e,target:r,color:s,scale:o,property:c,clip:l}),n.restore(),n.save(),kf(n,r,a.right),u=i)),fs(n,{line:e,target:r,color:u,scale:o,property:c,clip:l}),n.restore()}function Cf(n,t,e){const{segments:r,points:i}=t;let s=!0,a=!1;n.beginPath();for(const o of r){const{start:l,end:c}=o,u=i[l],f=i[Oi(l,c,i)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),a=!!t.pathSegment(n,o,{move:a}),a?n.closePath():n.lineTo(f.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function kf(n,t,e){const{segments:r,points:i}=t;let s=!0,a=!1;n.beginPath();for(const o of r){const{start:l,end:c}=o,u=i[l],f=i[Oi(l,c,i)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(e,u.y),n.lineTo(u.x,u.y)),a=!!t.pathSegment(n,o,{move:a}),a?n.closePath():n.lineTo(e,f.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function fs(n,t){const{line:e,target:r,property:i,color:s,scale:a,clip:o}=t,l=bw(e,r,i);for(const{source:c,target:u,start:f,end:h}of l){const{style:{backgroundColor:d=s}={}}=c,g=r!==!0;n.save(),n.fillStyle=d,Fw(n,a,o,g&&nc(i,f,h)),n.beginPath();const p=!!e.pathSegment(n,c);let v;if(g){p?n.closePath():Pf(n,r,h,i);const m=!!r.pathSegment(n,u,{move:p,reverse:!0});v=p&&m,v||Pf(n,r,f,i)}n.closePath(),n.fill(v?"evenodd":"nonzero"),n.restore()}}function Fw(n,t,e,r){const i=t.chart.chartArea,{property:s,start:a,end:o}=r||{};if(s==="x"||s==="y"){let l,c,u,f;s==="x"?(l=a,c=i.top,u=o,f=i.bottom):(l=i.left,c=a,u=i.right,f=o),n.beginPath(),e&&(l=Math.max(l,e.left),u=Math.min(u,e.right),c=Math.max(c,e.top),f=Math.min(f,e.bottom)),n.rect(l,c,u-l,f-c),n.clip()}}function Pf(n,t,e,r){const i=t.interpolate(e,r);i&&n.lineTo(i.x,i.y)}var FE={id:"filler",afterDatasetsUpdate(n,t,e){const r=(n.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<r;++a)s=n.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof ze&&(l={visible:n.isDatasetVisible(a),index:a,fill:xw(o,a,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=_w(i,a,e.propagate))},beforeDraw(n,t,e){const r=e.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),r&&o.fill&&us(n.ctx,o,s))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;Af(s)&&us(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const r=t.meta.$filler;!Af(r)||e.drawTime!=="beforeDatasetDraw"||us(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const If=(n,t)=>{let{boxHeight:e=t,boxWidth:r=t}=n;return n.usePointStyle&&(e=Math.min(e,t),r=n.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:e,itemHeight:Math.max(t,e)}},qw=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Lf extends ue{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,r){this.maxWidth=t,this.maxHeight=e,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=rt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(r=>t.filter(r,this.chart.data))),t.sort&&(e=e.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=yt(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=If(r,s);let c,u;e.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let f=t;s.textAlign="left",s.textBaseline="middle";let h=-1,d=-u;return this.legendItems.forEach((g,p)=>{const v=r+e/2+s.measureText(g.text).width;(p===0||c[c.length-1]+v+2*o>a)&&(f+=u,c[c.length-(p>0?0:1)]=0,d+=u,h++),l[p]={left:0,top:d,row:h,width:v,height:i},c[c.length-1]+=v+o}),f}_fitCols(t,e,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-t;let f=o,h=0,d=0,g=0,p=0;return this.legendItems.forEach((v,m)=>{const{itemWidth:b,itemHeight:x}=Nw(r,e,s,v,i);m>0&&d+x+2*o>u&&(f+=h+o,c.push({width:h,height:d}),g+=h+o,p++,h=d=0),l[m]={left:g,top:d,col:p,width:b,height:x},h=Math.max(h,b),d+=x+o}),f+=h,c.push({width:h,height:d}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:r,labels:{padding:i},rtl:s}}=this,a=cn(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=mt(r,this.left+i,this.right-this.lineWidths[o]);for(const c of e)o!==c.row&&(o=c.row,l=mt(r,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+t+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=mt(r,this.top+t+i,this.bottom-this.columnSizes[o].height);for(const c of e)c.col!==o&&(o=c.col,l=mt(r,this.top+t+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;wi(t,this),this._draw(),Si(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:r,ctx:i}=this,{align:s,labels:a}=t,o=ot.color,l=cn(t.rtl,this.left,this.width),c=yt(a.font),{padding:u}=a,f=c.size,h=f/2;let d;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:v}=If(a,f),m=function(w,S,M){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const O=V(M.lineWidth,1);if(i.fillStyle=V(M.fillStyle,o),i.lineCap=V(M.lineCap,"butt"),i.lineDashOffset=V(M.lineDashOffset,0),i.lineJoin=V(M.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=V(M.strokeStyle,o),i.setLineDash(V(M.lineDash,[])),a.usePointStyle){const R={radius:p*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:O},E=l.xPlus(w,g/2),T=S+h;wv(i,R,E,T,a.pointStyleWidth&&g)}else{const R=S+Math.max((f-p)/2,0),E=l.leftForLtr(w,g),T=ln(M.borderRadius);i.beginPath(),Object.values(T).some(A=>A!==0)?hi(i,{x:E,y:R,w:g,h:p,radius:T}):i.rect(E,R,g,p),i.fill(),O!==0&&i.stroke()}i.restore()},b=function(w,S,M){tr(i,M.text,w,S+v/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},x=this.isHorizontal(),y=this._computeTitleHeight();x?d={x:mt(s,this.left+u,this.right-r[0]),y:this.top+u+y,line:0}:d={x:this.left+u,y:mt(s,this.top+y+u,this.bottom-e[0].height),line:0},Tv(this.ctx,t.textDirection);const _=v+u;this.legendItems.forEach((w,S)=>{i.strokeStyle=w.fontColor,i.fillStyle=w.fontColor;const M=i.measureText(w.text).width,O=l.textAlign(w.textAlign||(w.textAlign=a.textAlign)),R=g+h+M;let E=d.x,T=d.y;l.setWidth(this.width),x?S>0&&E+R+u>this.right&&(T=d.y+=_,d.line++,E=d.x=mt(s,this.left+u,this.right-r[d.line])):S>0&&T+_>this.bottom&&(E=d.x=E+e[d.line].width+u,d.line++,T=d.y=mt(s,this.top+y+u,this.bottom-e[d.line].height));const A=l.x(E);if(m(A,T,w),E=g_(O,E+g+h,x?E+R:this.right,t.rtl),b(l.x(E),T,w),x)d.x+=R+u;else if(typeof w.text!="string"){const N=c.lineHeight;d.y+=Jv(w,N)+u}else d.y+=_}),Av(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,r=yt(e.font),i=Nt(e.padding);if(!e.display)return;const s=cn(t.rtl,this.left,this.width),a=this.ctx,o=e.position,l=r.size/2,c=i.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,f=mt(t.align,f,this.right-h);else{const g=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);u=c+mt(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const d=mt(o,f,f+h);a.textAlign=s.textAlign(Rc(o)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=r.string,tr(a,e.text,d,u,r)}_computeTitleHeight(){const t=this.options.title,e=yt(t.font),r=Nt(t.padding);return t.display?e.lineHeight+r.height:0}_getLegendItemAt(t,e){let r,i,s;if(le(t,this.left,this.right)&&le(e,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],le(t,i.left,i.left+i.width)&&le(e,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const e=this.options;if(!$w(t.type,e))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=qw(i,r);i&&!s&&rt(e.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&rt(e.onHover,[t,r,this],this)}else r&&rt(e.onClick,[t,r,this],this)}}function Nw(n,t,e,r,i){const s=zw(r,n,t,e),a=Bw(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}function zw(n,t,e,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),t+e.size/2+r.measureText(i).width}function Bw(n,t,e){let r=n;return typeof t.text!="string"&&(r=Jv(t,e)),r}function Jv(n,t){const e=n.text?n.text.length:0;return t*e}function $w(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var qE={id:"legend",_element:Lf,start(n,t,e){const r=n.legend=new Lf({ctx:n.ctx,options:e,chart:n});Lt.configure(n,r,e),Lt.addBox(n,r)},stop(n){Lt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const r=n.legend;Lt.configure(n,r,e),r.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const r=t.datasetIndex,i=e.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),u=Nt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Qv extends ue{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const i=ct(r.text)?r.text.length:1;this._padding=Nt(r.padding);const s=i*yt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:r,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,u,f;return this.isHorizontal()?(u=mt(o,r,s),f=e+t,c=s-r):(a.position==="left"?(u=r+t,f=mt(o,i,e),l=J*-.5):(u=s-t,f=mt(o,e,i),l=J*.5),c=i-e),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const r=yt(e.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);tr(t,e.text,0,0,r,{color:e.color,maxWidth:l,rotation:c,textAlign:Rc(e.align),textBaseline:"middle",translation:[a,o]})}}function Hw(n,t){const e=new Qv({ctx:n.ctx,options:t,chart:n});Lt.configure(n,e,t),Lt.addBox(n,e),n.titleBlock=e}var NE={id:"title",_element:Qv,start(n,t,e){Hw(n,e)},stop(n){const t=n.titleBlock;Lt.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const r=n.titleBlock;Lt.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ln={average(n){if(!n.length)return!1;let t,e,r=new Set,i=0,s=0;for(t=0,e=n.length;t<e;++t){const o=n[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(n,t){if(!n.length)return!1;let e=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=n.length;s<a;++s){const l=n[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Gl(t,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();e=l.x,r=l.y}return{x:e,y:r}}};function Wt(n,t){return t&&(ct(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function se(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function jw(n,t){const{element:e,datasetIndex:r,index:i}=t,s=n.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:n,label:a,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:e}}function Ff(n,t){const e=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:a,boxHeight:o}=t,l=yt(t.bodyFont),c=yt(t.titleFont),u=yt(t.footerFont),f=s.length,h=i.length,d=r.length,g=Nt(t.padding);let p=g.height,v=0,m=r.reduce((y,_)=>y+_.before.length+_.lines.length+_.after.length,0);if(m+=n.beforeBody.length+n.afterBody.length,f&&(p+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),m){const y=t.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=d*y+(m-d)*l.lineHeight+(m-1)*t.bodySpacing}h&&(p+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let b=0;const x=function(y){v=Math.max(v,e.measureText(y).width+b)};return e.save(),e.font=c.string,Z(n.title,x),e.font=l.string,Z(n.beforeBody.concat(n.afterBody),x),b=t.displayColors?a+2+t.boxPadding:0,Z(r,y=>{Z(y.before,x),Z(y.lines,x),Z(y.after,x)}),b=0,e.font=u.string,Z(n.footer,x),e.restore(),v+=g.width,{width:v,height:p}}function Ww(n,t){const{y:e,height:r}=t;return e<r/2?"top":e>n.height-r/2?"bottom":"center"}function Vw(n,t,e,r){const{x:i,width:s}=r,a=e.caretSize+e.caretPadding;if(n==="left"&&i+s+a>t.width||n==="right"&&i-s-a<0)return!0}function Yw(n,t,e,r){const{x:i,width:s}=e,{width:a,chartArea:{left:o,right:l}}=n;let c="center";return r==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),Vw(c,n,t,e)&&(c="center"),c}function qf(n,t,e){const r=e.yAlign||t.yAlign||Ww(n,e);return{xAlign:e.xAlign||t.xAlign||Yw(n,t,e,r),yAlign:r}}function Uw(n,t){let{x:e,width:r}=n;return t==="right"?e-=r:t==="center"&&(e-=r/2),e}function Kw(n,t,e){let{y:r,height:i}=n;return t==="top"?r+=e:t==="bottom"?r-=i+e:r-=i/2,r}function Nf(n,t,e,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=n,{xAlign:o,yAlign:l}=e,c=i+s,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:d}=ln(a);let g=Uw(t,o);const p=Kw(t,l,c);return l==="center"?o==="left"?g+=c:o==="right"&&(g-=c):o==="left"?g-=Math.max(u,h)+i:o==="right"&&(g+=Math.max(f,d)+i),{x:bt(g,0,r.width-t.width),y:bt(p,0,r.height-t.height)}}function $r(n,t,e){const r=Nt(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-r.right:n.x+r.left}function zf(n){return Wt([],se(n))}function Gw(n,t,e){return Qe(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Bf(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const tm={beforeTitle:ne,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,r=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return e[t.dataIndex]}return""},afterTitle:ne,beforeBody:ne,beforeLabel:ne,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return G(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ne,afterBody:ne,beforeFooter:ne,footer:ne,afterFooter:ne};function Mt(n,t,e,r){const i=n[t].call(e,r);return typeof i>"u"?tm[t].call(e,r):i}class rc extends ue{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&e.options.animation&&r.animations,s=new Lv(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Gw(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:r}=e,i=Mt(r,"beforeTitle",this,t),s=Mt(r,"title",this,t),a=Mt(r,"afterTitle",this,t);let o=[];return o=Wt(o,se(i)),o=Wt(o,se(s)),o=Wt(o,se(a)),o}getBeforeBody(t,e){return zf(Mt(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:r}=e,i=[];return Z(t,s=>{const a={before:[],lines:[],after:[]},o=Bf(r,s);Wt(a.before,se(Mt(o,"beforeLabel",this,s))),Wt(a.lines,Mt(o,"label",this,s)),Wt(a.after,se(Mt(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(t,e){return zf(Mt(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:r}=e,i=Mt(r,"beforeFooter",this,t),s=Mt(r,"footer",this,t),a=Mt(r,"afterFooter",this,t);let o=[];return o=Wt(o,se(i)),o=Wt(o,se(s)),o=Wt(o,se(a)),o}_createItems(t){const e=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=e.length;l<c;++l)o.push(jw(this.chart,e[l]));return t.filter&&(o=o.filter((u,f,h)=>t.filter(u,f,h,r))),t.itemSort&&(o=o.sort((u,f)=>t.itemSort(u,f,r))),Z(o,u=>{const f=Bf(t.callbacks,u);i.push(Mt(f,"labelColor",this,u)),s.push(Mt(f,"labelPointStyle",this,u)),a.push(Mt(f,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(t,e){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Ln[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=Ff(this,r),c=Object.assign({},o,l),u=qf(this.chart,r,c),f=Nf(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,r,i){const s=this.getCaretPosition(t,r,i);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=ln(o),{x:h,y:d}=t,{width:g,height:p}=e;let v,m,b,x,y,_;return s==="center"?(y=d+p/2,i==="left"?(v=h,m=v-a,x=y+a,_=y-a):(v=h+g,m=v+a,x=y-a,_=y+a),b=v):(i==="left"?m=h+Math.max(l,u)+a:i==="right"?m=h+g-Math.max(c,f)-a:m=this.caretX,s==="top"?(x=d,y=x-a,v=m-a,b=m+a):(x=d+p,y=x+a,v=m+a,b=m-a),_=x),{x1:v,x2:m,x3:b,y1:x,y2:y,y3:_}}drawTitle(t,e,r){const i=this.title,s=i.length;let a,o,l;if(s){const c=cn(r.rtl,this.x,this.width);for(t.x=$r(this,r.titleAlign,r),e.textAlign=c.textAlign(r.titleAlign),e.textBaseline="middle",a=yt(r.titleFont),o=r.titleSpacing,e.fillStyle=r.titleColor,e.font=a.string,l=0;l<s;++l)e.fillText(i[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,l+1===s&&(t.y+=r.titleMarginBottom-o)}}_drawColorBox(t,e,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=yt(s.bodyFont),f=$r(this,"left",s),h=i.x(f),d=l<u.lineHeight?(u.lineHeight-l)/2:0,g=e.y+d;if(s.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(h,c)+c/2,m=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Zl(t,p,v,m),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Zl(t,p,v,m)}else{t.lineWidth=U(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const p=i.leftForLtr(h,c),v=i.leftForLtr(i.xPlus(h,1),c-2),m=ln(a.borderRadius);Object.values(m).some(b=>b!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,hi(t,{x:p,y:g,w:c,h:l,radius:m}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),hi(t,{x:v,y:g+1,w:c-2,h:l-2,radius:m}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(p,g,c,l),t.strokeRect(p,g,c,l),t.fillStyle=a.backgroundColor,t.fillRect(v,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,e,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=r,f=yt(r.bodyFont);let h=f.lineHeight,d=0;const g=cn(r.rtl,this.x,this.width),p=function(M){e.fillText(M,g.x(t.x+d),t.y+h/2),t.y+=h+s},v=g.textAlign(a);let m,b,x,y,_,w,S;for(e.textAlign=a,e.textBaseline="middle",e.font=f.string,t.x=$r(this,v,r),e.fillStyle=r.bodyColor,Z(this.beforeBody,p),d=o&&v!=="right"?a==="center"?c/2+u:c+2+u:0,y=0,w=i.length;y<w;++y){for(m=i[y],b=this.labelTextColors[y],e.fillStyle=b,Z(m.before,p),x=m.lines,o&&x.length&&(this._drawColorBox(e,t,y,g,r),h=Math.max(f.lineHeight,l)),_=0,S=x.length;_<S;++_)p(x[_]),h=f.lineHeight;Z(m.after,p)}d=0,h=f.lineHeight,Z(this.afterBody,p),t.y-=s}drawFooter(t,e,r){const i=this.footer,s=i.length;let a,o;if(s){const l=cn(r.rtl,this.x,this.width);for(t.x=$r(this,r.footerAlign,r),t.y+=r.footerMarginTop,e.textAlign=l.textAlign(r.footerAlign),e.textBaseline="middle",a=yt(r.footerFont),e.fillStyle=r.footerColor,e.font=a.string,o=0;o<s;++o)e.fillText(i[o],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,e,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=t,{width:c,height:u}=r,{topLeft:f,topRight:h,bottomLeft:d,bottomRight:g}=ln(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+f,l),a==="top"&&this.drawCaret(t,e,r,i),e.lineTo(o+c-h,l),e.quadraticCurveTo(o+c,l,o+c,l+h),a==="center"&&s==="right"&&this.drawCaret(t,e,r,i),e.lineTo(o+c,l+u-g),e.quadraticCurveTo(o+c,l+u,o+c-g,l+u),a==="bottom"&&this.drawCaret(t,e,r,i),e.lineTo(o+d,l+u),e.quadraticCurveTo(o,l+u,o,l+u-d),a==="center"&&s==="left"&&this.drawCaret(t,e,r,i),e.lineTo(o,l+f),e.quadraticCurveTo(o,l,o+f,l),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=Ln[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=Ff(this,t),l=Object.assign({},a,this._size),c=qf(e,t,l),u=Nf(t,l,c,e);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Nt(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,e),Tv(t,e.textDirection),s.y+=a.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),Av(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const r=this._active,i=t.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!ci(r,i),a=this._positionChanged(i,e);(s||a)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,r=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(t,s,e,r),o=this._positionChanged(a,t),l=e||!ci(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:r,caretY:i,options:s}=this,a=Ln[s.position].call(this,t,e);return a!==!1&&(r!==a.x||i!==a.y)}}B(rc,"positioners",Ln);var zE={id:"tooltip",_element:rc,positioners:Ln,afterInit(n,t,e){e&&(n.tooltip=new rc({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Xw=(n,t,e,r)=>(typeof t=="string"?(e=n.push(t)-1,r.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Zw(n,t,e,r){const i=n.indexOf(t);if(i===-1)return Xw(n,t,e,r);const s=n.lastIndexOf(t);return i!==s?e:i}const Jw=(n,t)=>n===null?null:bt(Math.round(n),0,t);function $f(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Hf extends bn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const r=this.getLabels();for(const{index:i,label:s}of e)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(G(t))return null;const r=this.getLabels();return e=isFinite(e)&&r[e]===t?e:Zw(r,t,V(e,t),this._addedLabels),Jw(e,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),e||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,e=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=t;a<=e;a++)i.push({value:a});return i}getLabelForValue(t){return $f.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}B(Hf,"id","category"),B(Hf,"defaults",{ticks:{callback:$f}});function Qw(n,t){const e=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:h}=n,d=s||1,g=u-1,{min:p,max:v}=t,m=!G(a),b=!G(o),x=!G(c),y=(v-p)/(f+1);let _=qu((v-p)/g/d)*d,w,S,M,O;if(_<1e-14&&!m&&!b)return[{value:p},{value:v}];O=Math.ceil(v/_)-Math.floor(p/_),O>g&&(_=qu(O*_/g/d)*d),G(l)||(w=Math.pow(10,l),_=Math.ceil(_*w)/w),i==="ticks"?(S=Math.floor(p/_)*_,M=Math.ceil(v/_)*_):(S=p,M=v),m&&b&&s&&a_((o-a)/s,_/1e3)?(O=Math.round(Math.min((o-a)/_,u)),_=(o-a)/O,S=a,M=o):x?(S=m?a:S,M=b?o:M,O=c-1,_=(M-S)/O):(O=(M-S)/_,jn(O,Math.round(O),_/1e3)?O=Math.round(O):O=Math.ceil(O));const R=Math.max(Nu(_),Nu(S));w=Math.pow(10,G(l)?R:l),S=Math.round(S*w)/w,M=Math.round(M*w)/w;let E=0;for(m&&(h&&S!==a?(e.push({value:a}),S<a&&E++,jn(Math.round((S+E*_)*w)/w,a,jf(a,y,n))&&E++):S<a&&E++);E<O;++E){const T=Math.round((S+E*_)*w)/w;if(b&&T>o)break;e.push({value:T})}return b&&h&&M!==o?e.length&&jn(e[e.length-1].value,o,jf(o,y,n))?e[e.length-1].value=o:e.push({value:o}):(!b||M===o)&&e.push({value:M}),e}function jf(n,t,{horizontal:e,minRotation:r}){const i=oe(r),s=(e?Math.sin(i):Math.cos(i))||.001,a=.75*t*(""+n).length;return Math.min(t/s,a)}class tS extends bn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return G(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=e?i:l,o=l=>s=r?s:l;if(t){const l=Gt(i),c=Gt(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),t||a(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},s=this._range||this,a=Qw(i,s);return t.bounds==="ticks"&&o_(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-e)/Math.max(t.length-1,1)/2;e-=i,r+=i}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(t){return Ac(t,this.chart.options.locale,this.options.ticks.format)}}class Wf extends tS{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=_t(t)?t:0,this.max=_t(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,r=oe(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}B(Wf,"id","linear"),B(Wf,"defaults",{ticks:{callback:xv.formatters.numeric}});const Ei={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Dt=Object.keys(Ei);function Vf(n,t){return n-t}function Yf(n,t){if(G(t))return null;const e=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let a=t;return typeof r=="function"&&(a=r(a)),_t(a)||(a=typeof r=="string"?e.parse(a,r):e.parse(a)),a===null?null:(i&&(a=i==="week"&&(Zn(s)||s===!0)?e.startOf(a,"isoWeek",s):e.startOf(a,i)),+a)}function Uf(n,t,e,r){const i=Dt.length;for(let s=Dt.indexOf(n);s<i-1;++s){const a=Ei[Dt[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(o*a.size))<=r)return Dt[s]}return Dt[i-1]}function eS(n,t,e,r,i){for(let s=Dt.length-1;s>=Dt.indexOf(e);s--){const a=Dt[s];if(Ei[a].common&&n._adapter.diff(i,r,a)>=t-1)return a}return Dt[e?Dt.indexOf(e):0]}function nS(n){for(let t=Dt.indexOf(n)+1,e=Dt.length;t<e;++t)if(Ei[Dt[t]].common)return Dt[t]}function Kf(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:r,hi:i}=Ec(e,t),s=e[r]>=t?e[r]:e[i];n[s]=!0}}function rS(n,t,e,r){const i=n._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=e[o],l>=0&&(t[l].major=!0);return t}function Gf(n,t,e){const r=[],i={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],i[o]=a,r.push({value:o,major:!1});return s===0||!e?r:rS(n,r,i,e)}class vi extends bn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const r=t.time||(t.time={}),i=this._adapter=new j0._date(t.adapters.date);i.init(e),Hn(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Yf(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=_t(i)&&!isNaN(i)?i:+e.startOf(Date.now(),r),s=_t(s)&&!isNaN(s)?s:+e.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],r=t[t.length-1]),{min:e,max:r}}buildTicks(){const t=this.options,e=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=h_(i,s,a);return this._unit=e.unit||(r.autoSkip?Uf(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):eS(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:nS(this._unit),this.initOffsets(i),t.reverse&&o.reverse(),Gf(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=bt(e,0,a),r=bt(r,0,a),this._offsets={start:e,end:r,factor:1/(e+1+r)}}_generate(){const t=this._adapter,e=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||Uf(s.minUnit,e,r,this._getLabelCapacity(e)),o=V(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=Zn(l)||l===!0,u={};let f=e,h,d;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":a),t.diff(r,e,a)>1e5*o)throw new Error(e+" and "+r+" are too far apart with stepSize of "+o+" "+a);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,d=0;h<r;h=+t.add(h,o,a),d++)Kf(u,h,g);return(h===r||i.bounds==="ticks"||d===1)&&Kf(u,h,g),Object.keys(u).sort(Vf).map(p=>+p)}getLabelForValue(t){const e=this._adapter,r=this.options.time;return r.tooltipFormat?e.format(t,r.tooltipFormat):e.format(t,r.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,s=this._unit,a=e||i[s];return this._adapter.format(t,a)}_tickFormatFunction(t,e,r,i){const s=this.options,a=s.ticks.callback;if(a)return rt(a,[t,e,r],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],f=c&&o[c],h=r[e],d=c&&f&&h&&h.major;return this._adapter.format(t,i||(d?f:u))}generateTickLabels(t){let e,r,i;for(e=0,r=t.length;e<r;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+r)*e.factor)}getValueForPixel(t){const e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,r=this.ctx.measureText(t).width,i=oe(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(t){const e=this.options.time,r=e.displayFormats,i=r[e.unit]||r.millisecond,s=this._tickFormatFunction(t,0,Gf(this,[t],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],e,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,r=i.length;e<r;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,r;if(t.length)return t;const i=this.getLabels();for(e=0,r=i.length;e<r;++e)t.push(Yf(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return bv(t.sort(Vf))}}B(vi,"id","time"),B(vi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Hr(n,t,e){let r=0,i=n.length-1,s,a,o,l;e?(t>=n[r].pos&&t<=n[i].pos&&({lo:r,hi:i}=Ne(n,"pos",t)),{pos:s,time:o}=n[r],{pos:a,time:l}=n[i]):(t>=n[r].time&&t<=n[i].time&&({lo:r,hi:i}=Ne(n,"time",t)),{time:s,pos:o}=n[r],{time:a,pos:l}=n[i]);const c=a-s;return c?o+(l-o)*(t-s)/c:o}class Xf extends vi{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Hr(e,this.min),this._tableRange=Hr(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:r}=this,i=[],s=[];let a,o,l,c,u;for(a=0,o=t.length;a<o;++a)c=t[a],c>=e&&c<=r&&i.push(c);if(i.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const t=this.min,e=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(e)||r.length===1)&&r.push(e),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),r=this.getLabelTimestamps();return e.length&&r.length?t=this.normalize(e.concat(r)):t=e.length?e:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Hr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return Hr(this._table,r*this._tableRange+this._minPos,!0)}}B(Xf,"id","timeseries"),B(Xf,"defaults",vi.defaults);const em="label";function Zf(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function iS(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function nm(n,t){n.labels=t}function rm(n,t,e=em){const r=[];n.datasets=t.map(i=>{const s=n.datasets.find(a=>a[e]===i[e]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function sS(n,t=em){const e={labels:[],datasets:[]};return nm(e,n.labels),rm(e,n.datasets,t),e}function aS(n,t){const{height:e=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:f,...h}=n,d=$.useRef(null),g=$.useRef(null),p=()=>{d.current&&(g.current=new Nc(d.current,{type:a,data:sS(o,s),options:l&&{...l},plugins:c}),Zf(t,g.current))},v=()=>{Zf(t,null),g.current&&(g.current.destroy(),g.current=null)};return $.useEffect(()=>{!i&&g.current&&l&&iS(g.current,l)},[i,l]),$.useEffect(()=>{!i&&g.current&&nm(g.current.config.data,o.labels)},[i,o.labels]),$.useEffect(()=>{!i&&g.current&&o.datasets&&rm(g.current.config.data,o.datasets,s)},[i,o.datasets]),$.useEffect(()=>{g.current&&(i?(v(),setTimeout(p)):g.current.update(f))},[i,l,o.labels,o.datasets,f]),$.useEffect(()=>{g.current&&(v(),setTimeout(p))},[a]),$.useEffect(()=>(p(),()=>v()),[]),vt.jsx("canvas",{ref:d,role:"img",height:e,width:r,...h,children:u})}const oS=$.forwardRef(aS);function Ri(n,t){return Nc.register(t),$.forwardRef((e,r)=>vt.jsx(oS,{...e,ref:r,type:n}))}const BE=Ri("line",Xr),$E=Ri("bar",Gr),HE=Ri("doughnut",on),jE=Ri("pie",Jl);function im(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(e=im(n[t]))&&(r&&(r+=" "),r+=e);else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function at(){for(var n,t,e=0,r="";e<arguments.length;)(n=arguments[e++])&&(t=im(n))&&(r&&(r+=" "),r+=t);return r}var hs,Jf;function lS(){if(Jf)return hs;Jf=1;var n=function(t,e,r,i,s,a,o,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,s,a,o,l],f=0;c=new Error(e.replace(/%s/g,function(){return u[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return hs=n,hs}var cS=lS();const nr=Ht(cS);var uS=function(){};function fS(n,t){var e={};return Object.keys(n).forEach(function(r){e[Qr(r)]=uS}),e}function Qf(n,t){return n[t]!==void 0}function Qr(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function hS(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}var dS="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function sm(n,t,e){e===void 0&&(e=[]);var r=n.displayName||n.name||"Component",i=hS(n),s=Object.keys(t),a=s.map(Qr);i||!e.length||nr(!1);var o=(function(c){mb(u,c);function u(){for(var h,d=arguments.length,g=new Array(d),p=0;p<d;p++)g[p]=arguments[p];h=c.call.apply(c,[this].concat(g))||this,h.handlers=Object.create(null),s.forEach(function(m){var b=t[m],x=function(_){if(h.props[b]){var w;h._notifying=!0;for(var S=arguments.length,M=new Array(S>1?S-1:0),O=1;O<S;O++)M[O-1]=arguments[O];(w=h.props)[b].apply(w,[_].concat(M)),h._notifying=!1}h.unmounted||h.setState(function(R){var E,T=R.values;return{values:lt(Object.create(null),T,(E={},E[m]=_,E))}})};h.handlers[b]=x}),e.length&&(h.attachRef=function(m){h.inner=m});var v=Object.create(null);return s.forEach(function(m){v[m]=h.props[Qr(m)]}),h.state={values:v,prevProps:{}},h}var f=u.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(d,g){var p=g.values,v=g.prevProps,m={values:lt(Object.create(null),p),prevProps:{}};return s.forEach(function(b){m.prevProps[b]=d[b],!Qf(d,b)&&Qf(v,b)&&(m.values[b]=d[Qr(b)])}),m},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var d=this,g=this.props,p=g.innerRef,v=dc(g,["innerRef"]);a.forEach(function(b){delete v[b]});var m={};return s.forEach(function(b){var x=d.props[b];m[b]=x!==void 0?x:d.state.values[b]}),D.createElement(n,lt({},v,m,this.handlers,{ref:p||this.attachRef}))},u})(D.Component);bb(o),o.displayName="Uncontrolled("+r+")",o.propTypes=lt({innerRef:function(){}},fS(t)),e.forEach(function(c){o.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=o;return D.forwardRef&&(l=D.forwardRef(function(c,u){return D.createElement(o,lt({},c,{innerRef:u,__source:{fileName:dS,lineNumber:128},__self:this}))}),l.propTypes=o.propTypes),l.ControlledComponent=n,l.deferControlTo=function(c,u,f){return u===void 0&&(u={}),sm(c,lt({},t,u),f)},l}var mi="milliseconds",rr="seconds",ir="minutes",sr="hours",Ue="day",vn="week",ar="month",Ke="year",Ge="decade",Xe="century",am={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},pS={month:1,year:12,decade:120,century:1200};function gS(n){return[31,vS(n),31,30,31,30,31,31,30,31,30,31]}function vS(n){return n%4===0&&n%100!==0||n%400===0?29:28}function $t(n,t,e){switch(n=new Date(n),e){case mi:case rr:case ir:case sr:case Ue:case vn:return mS(n,t*am[e]);case ar:case Ke:case Ge:case Xe:return bS(n,t*pS[e])}throw new TypeError('Invalid units: "'+e+'"')}function mS(n,t){var e=new Date(+n+t);return yS(n,e)}function bS(n,t){var e=n.getFullYear(),r=n.getMonth(),i=n.getDate(),s=e*12+r+t,a=Math.trunc(s/12),o=s%12,l=Math.min(i,gS(a)[o]),c=new Date(n);return c.setFullYear(a),c.setDate(1),c.setMonth(o),c.setDate(l),c}function yS(n,t){var e=n.getTimezoneOffset(),r=t.getTimezoneOffset(),i=r-e;return new Date(+t+i*am.minutes)}function or(n,t,e){return $t(n,-t,e)}function pt(n,t,e){switch(n=new Date(n),t){case Xe:case Ge:case Ke:n=yi(n,0);case ar:n=fm(n,1);case vn:case Ue:n=ur(n,0);case sr:n=mn(n,0);case ir:n=cr(n,0);case rr:n=lr(n,0)}return t===Ge&&(n=or(n,Ze(n)%10,"year")),t===Xe&&(n=or(n,Ze(n)%100,"year")),t===vn&&(n=hm(n,0,e)),n}function bi(n,t,e){switch(n=new Date(n),n=pt(n,t,e),t){case Xe:case Ge:case Ke:case ar:case vn:n=$t(n,1,t),n=or(n,1,Ue),n.setHours(23,59,59,999);break;case Ue:n.setHours(23,59,59,999);break;case sr:case ir:case rr:n=$t(n,1,t),n=or(n,1,mi)}return n}var mr=_n(function(n,t){return n===t}),zc=_n(function(n,t){return n!==t}),Ti=_n(function(n,t){return n>t}),br=_n(function(n,t){return n>=t}),Bc=_n(function(n,t){return n<t}),yn=_n(function(n,t){return n<=t});function om(){return new Date(Math.min.apply(Math,arguments))}function lm(){return new Date(Math.max.apply(Math,arguments))}function cm(n,t,e,r){return r=r||"day",(!t||br(n,t,r))&&(!e||yn(n,e,r))}var lr=Ee("Milliseconds"),cr=Ee("Seconds"),mn=Ee("Minutes"),ur=Ee("Hours"),um=Ee("Day"),fm=Ee("Date"),yi=Ee("Month"),Ze=Ee("FullYear");function _S(n,t){return t===void 0?Ze(pt(n,Ge)):$t(n,t+10,Ke)}function xS(n,t){return t===void 0?Ze(pt(n,Xe)):$t(n,t+100,Ke)}function hm(n,t,e){var r=(um(n)+7-(e||0))%7;return t===void 0?r:$t(n,t-r,Ue)}function wS(n,t,e,r){var i,s,a;switch(e){case mi:case rr:case ir:case sr:case Ue:case vn:i=t.getTime()-n.getTime();break;case ar:case Ke:case Ge:case Xe:i=(Ze(t)-Ze(n))*12+yi(t)-yi(n);break;default:throw new TypeError('Invalid units: "'+e+'"')}switch(e){case mi:s=1;break;case rr:s=1e3;break;case ir:s=1e3*60;break;case sr:s=1e3*60*60;break;case Ue:s=1e3*60*60*24;break;case vn:s=1e3*60*60*24*7;break;case ar:s=1;break;case Ke:s=12;break;case Ge:s=120;break;case Xe:s=1200;break;default:throw new TypeError('Invalid units: "'+e+'"')}return a=i/s,r?a:Math.round(a)}function Ee(n){var t=(function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(n);return function(e,r){if(r===void 0)return e["get"+n]();var i=new Date(e);return i["set"+n](r),t&&i["get"+n]()!=r&&(n==="Hours"||r>=t&&i.getHours()-e.getHours()<Math.floor(r/t))&&i["set"+n](r+t),i}}function _n(n){return function(t,e,r){return n(+pt(t,r),+pt(e,r))}}const th=Object.freeze(Object.defineProperty({__proto__:null,add:$t,century:xS,date:fm,day:um,decade:_S,diff:wS,endOf:bi,eq:mr,gt:Ti,gte:br,hours:ur,inRange:cm,lt:Bc,lte:yn,max:lm,milliseconds:lr,min:om,minutes:mn,month:yi,neq:zc,seconds:cr,startOf:pt,subtract:or,weekday:hm,year:Ze},Symbol.toStringTag,{value:"Module"}));var ds,eh;function dm(){if(eh)return ds;eh=1;function n(t,e,r){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(s);++i<s;)a[i]=t[i+e];return a}return ds=n,ds}var ps,nh;function yr(){if(nh)return ps;nh=1;function n(t,e){return t===e||t!==t&&e!==e}return ps=n,ps}var gs,rh;function pm(){if(rh)return gs;rh=1;var n={},t=typeof n=="object"&&n&&n.Object===Object&&n;return gs=t,gs}var vs,ih;function Zt(){if(ih)return vs;ih=1;var n=pm(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=n||t||Function("return this")();return vs=e,vs}var ms,sh;function xn(){if(sh)return ms;sh=1;var n=Zt(),t=n.Symbol;return ms=t,ms}var bs,ah;function SS(){if(ah)return bs;ah=1;var n=xn(),t=Object.prototype,e=t.hasOwnProperty,r=t.toString,i=n?n.toStringTag:void 0;function s(a){var o=e.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var u=r.call(a);return c&&(o?a[i]=l:delete a[i]),u}return bs=s,bs}var ys,oh;function MS(){if(oh)return ys;oh=1;var n=Object.prototype,t=n.toString;function e(r){return t.call(r)}return ys=e,ys}var _s,lh;function wn(){if(lh)return _s;lh=1;var n=xn(),t=SS(),e=MS(),r="[object Null]",i="[object Undefined]",s=n?n.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?t(o):e(o)}return _s=a,_s}var xs,ch;function fe(){if(ch)return xs;ch=1;function n(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return xs=n,xs}var ws,uh;function $c(){if(uh)return ws;uh=1;var n=wn(),t=fe(),e="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!t(o))return!1;var l=n(o);return l==r||l==i||l==e||l==s}return ws=a,ws}var Ss,fh;function Hc(){if(fh)return Ss;fh=1;var n=9007199254740991;function t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n}return Ss=t,Ss}var Ms,hh;function _r(){if(hh)return Ms;hh=1;var n=$c(),t=Hc();function e(r){return r!=null&&t(r.length)&&!n(r)}return Ms=e,Ms}var Ds,dh;function jc(){if(dh)return Ds;dh=1;var n=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function e(r,i){var s=typeof r;return i=i??n,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Ds=e,Ds}var Os,ph;function Ai(){if(ph)return Os;ph=1;var n=yr(),t=_r(),e=jc(),r=fe();function i(s,a,o){if(!r(o))return!1;var l=typeof a;return(l=="number"?t(o)&&e(a,o.length):l=="string"&&a in o)?n(o[a],s):!1}return Os=i,Os}var Es,gh;function DS(){if(gh)return Es;gh=1;var n=/\s/;function t(e){for(var r=e.length;r--&&n.test(e.charAt(r)););return r}return Es=t,Es}var Rs,vh;function OS(){if(vh)return Rs;vh=1;var n=DS(),t=/^\s+/;function e(r){return r&&r.slice(0,n(r)+1).replace(t,"")}return Rs=e,Rs}var Ts,mh;function Re(){if(mh)return Ts;mh=1;function n(t){return t!=null&&typeof t=="object"}return Ts=n,Ts}var As,bh;function xr(){if(bh)return As;bh=1;var n=wn(),t=Re(),e="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&n(i)==e}return As=r,As}var Cs,yh;function ES(){if(yh)return Cs;yh=1;var n=OS(),t=fe(),e=xr(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(e(c))return r;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=n(c);var f=s.test(c);return f||a.test(c)?o(c.slice(2),f?2:8):i.test(c)?r:+c}return Cs=l,Cs}var ks,_h;function gm(){if(_h)return ks;_h=1;var n=ES(),t=1/0,e=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=n(i),i===t||i===-t){var s=i<0?-1:1;return s*e}return i===i?i:0}return ks=r,ks}var Ps,xh;function vm(){if(xh)return Ps;xh=1;var n=gm();function t(e){var r=n(e),i=r%1;return r===r?i?r-i:r:0}return Ps=t,Ps}var Is,wh;function RS(){if(wh)return Is;wh=1;var n=dm(),t=Ai(),e=vm(),r=Math.ceil,i=Math.max;function s(a,o,l){(l?t(a,o,l):o===void 0)?o=1:o=i(e(o),0);var c=a==null?0:a.length;if(!c||o<1)return[];for(var u=0,f=0,h=Array(r(c/o));u<c;)h[f++]=n(a,u,u+=o);return h}return Is=s,Is}var TS=RS();const AS=Ht(TS);function wr(n){return n&&n.ownerDocument||document}function CS(n){var t=wr(n);return t&&t.defaultView||window}function kS(n,t){return CS(n).getComputedStyle(n,t)}var PS=/([A-Z])/g;function IS(n){return n.replace(PS,"-$1").toLowerCase()}var LS=/^ms-/;function jr(n){return IS(n).replace(LS,"-ms-")}var FS=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function qS(n){return!!(n&&FS.test(n))}function an(n,t){var e="",r="";if(typeof t=="string")return n.style.getPropertyValue(jr(t))||kS(n).getPropertyValue(jr(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?n.style.removeProperty(jr(i)):qS(i)?r+=i+"("+s+") ":e+=jr(i)+": "+s+";"}),r&&(e+="transform: "+r+";"),n.style.cssText+=";"+e}function fr(n,t){if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return n===t||!!(n.compareDocumentPosition(t)&16)}function NS(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function Wc(n){return"window"in n&&n.window===n?n:NS(n)&&n.defaultView||!1}function mm(n){var t=n==="pageXOffset"?"scrollLeft":"scrollTop";function e(r,i){var s=Wc(r);if(i===void 0)return s?s[n]:r[t];s?s.scrollTo(s[n],i):r[t]=i}return e}const bm=mm("pageXOffset"),ym=mm("pageYOffset");function je(n){var t=wr(n),e={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!fr(r,n)||(n.getBoundingClientRect!==void 0&&(e=n.getBoundingClientRect()),e={top:e.top+ym(r)-(r.clientTop||0),left:e.left+bm(r)-(r.clientLeft||0),width:e.width,height:e.height}),e}var zS=function(t){return!!t&&"offsetParent"in t};function BS(n){for(var t=wr(n),e=n&&n.offsetParent;zS(e)&&e.nodeName!=="HTML"&&an(e,"position")==="static";)e=e.offsetParent;return e||t.documentElement}var $S=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function _m(n,t){var e={top:0,left:0},r;if(an(n,"position")==="fixed")r=n.getBoundingClientRect();else{var i=t||BS(n);r=je(n),$S(i)!=="html"&&(e=je(i));var s=String(an(i,"borderTopWidth")||0);e.top+=parseInt(s,10)-ym(i)||0;var a=String(an(i,"borderLeftWidth")||0);e.left+=parseInt(a,10)-bm(i)||0}var o=String(an(n,"marginTop")||0),l=String(an(n,"marginLeft")||0);return lt({},r,{top:r.top-e.top-(parseInt(o,10)||0),left:r.left-e.left-(parseInt(l,10)||0)})}const Vc=!!(typeof window<"u"&&window.document&&window.document.createElement);var Sh=new Date().getTime();function HS(n){var t=new Date().getTime(),e=Math.max(0,16-(t-Sh)),r=setTimeout(n,e);return Sh=t,r}var jS=["","webkit","moz","o","ms"],ic="clearTimeout",sc=HS,Mh=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};Vc&&jS.some(function(n){var t=Mh(n,"request");return t in window&&(ic=Mh(n,"cancel"),sc=function(r){return window[t](r)}),!!sc});var Dh=function(t){typeof window[ic]=="function"&&window[ic](t)},xm=sc,Ls;function WS(n,t){if(!Ls){var e=document.body,r=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;Ls=function(s,a){return r.call(s,a)}}return Ls(n,t)}var VS=Function.prototype.bind.call(Function.prototype.call,[].slice);function YS(n,t){return VS(n.querySelectorAll(t))}var ac=!1,oc=!1;try{var Fs={get passive(){return ac=!0},get once(){return oc=ac=!0}};Vc&&(window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,!0))}catch{}function US(n,t,e,r){if(r&&typeof r!="boolean"&&!oc){var i=r.once,s=r.capture,a=e;!oc&&i&&(a=e.__once||function o(l){this.removeEventListener(t,o,s),e.call(this,l)},e.__once=a),n.addEventListener(t,a,ac?r:s)}n.addEventListener(t,e,r)}function KS(n){const t=$.useRef(n);return $.useEffect(()=>{t.current=n},[n]),t}function Oh(n){const t=KS(n);return $.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function Eh(){return $.useState(null)}function GS(){const n=$.useRef(!0),t=$.useRef(()=>n.current);return $.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}function XS(n){const t=GS();return[n[0],$.useCallback(e=>{if(t())return n[1](e)},[t,n[1]])]}var ZS=Oy({defaultModifiers:[cy,py,Kb,Xb,hy,oy,my,Wb]}),Rh=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},JS={name:"applyStyles",enabled:!1},QS={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var e=t.state;return function(){var r=e.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var a=(i.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==s.id});a.length?i.setAttribute("aria-describedby",a.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var e,r=t.state,i=r.elements,s=i.popper,a=i.reference,o=(e=s.getAttribute("role"))==null?void 0:e.toLowerCase();if(s.id&&o==="tooltip"&&"setAttribute"in a){var l=a.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;a.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},t1=[];function e1(n,t,e){var r=e===void 0?{}:e,i=r.enabled,s=i===void 0?!0:i,a=r.placement,o=a===void 0?"bottom":a,l=r.strategy,c=l===void 0?"absolute":l,u=r.modifiers,f=u===void 0?t1:u,h=dc(r,["enabled","placement","strategy","modifiers"]),d=$.useRef(),g=$.useCallback(function(){var y;(y=d.current)==null||y.update()},[]),p=$.useCallback(function(){var y;(y=d.current)==null||y.forceUpdate()},[]),v=XS($.useState({placement:o,update:g,forceUpdate:p,attributes:{},styles:{popper:Rh(c),arrow:{}}})),m=v[0],b=v[1],x=$.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(_){var w=_.state,S={},M={};Object.keys(w.elements).forEach(function(O){S[O]=w.styles[O],M[O]=w.attributes[O]}),b({state:w,styles:S,attributes:M,update:g,forceUpdate:p,placement:w.placement})}}},[g,p,b]);return $.useEffect(function(){!d.current||!s||d.current.setOptions({placement:o,strategy:c,modifiers:[].concat(f,[x,JS])})},[c,o,x,s]),$.useEffect(function(){if(!(!s||n==null||t==null))return d.current=ZS(n,t,lt({},h,{placement:o,strategy:c,modifiers:[].concat(f,[QS,x])})),function(){d.current!=null&&(d.current.destroy(),d.current=void 0,b(function(y){return lt({},y,{attributes:{},styles:{popper:Rh(c)}})}))}},[s,n,t]),m}function n1(n,t,e,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(t,e,i),e.__once&&n.removeEventListener(t,e.__once,i)}function Fn(n,t,e,r){return US(n,t,e,r),function(){n1(n,t,e,r)}}var r1=yb();const i1=Ht(r1);function s1(n){return n&&"setState"in n?tv.findDOMNode(n):n??null}const a1=(function(n){return wr(s1(n))});var o1=27,Th=function(){};function l1(n){return n.button===0}function c1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var Ah=function(t){return t&&("current"in t?t.current:t)};function u1(n,t,e){var r=e===void 0?{}:e,i=r.disabled,s=r.clickTrigger,a=s===void 0?"click":s,o=$.useRef(!1),l=t||Th,c=$.useCallback(function(h){var d,g=Ah(n);i1(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!g||c1(h)||!l1(h)||!!fr(g,(d=h.composedPath==null?void 0:h.composedPath()[0])!=null?d:h.target)},[n]),u=Oh(function(h){o.current||l(h)}),f=Oh(function(h){h.keyCode===o1&&l(h)});$.useEffect(function(){if(!(i||n==null)){var h=window.event,d=a1(Ah(n)),g=Fn(d,a,c,!0),p=Fn(d,a,function(b){if(b===h){h=void 0;return}u(b)}),v=Fn(d,"keyup",function(b){if(b===h){h=void 0;return}f(b)}),m=[];return"ontouchstart"in d.documentElement&&(m=[].slice.call(d.body.children).map(function(b){return Fn(b,"mousemove",Th)})),function(){g(),p(),v(),m.forEach(function(b){return b()})}}},[n,i,a,c,u,f])}function f1(n){var t={};return Array.isArray(n)?(n==null||n.forEach(function(e){t[e.name]=e}),t):n||t}function h1(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(t){return n[t].name=t,n[t]})}function d1(n){var t,e,r,i,s=n.enabled,a=n.enableEvents,o=n.placement,l=n.flip,c=n.offset,u=n.fixed,f=n.containerPadding,h=n.arrowElement,d=n.popperConfig,g=d===void 0?{}:d,p=f1(g.modifiers);return lt({},g,{placement:o,enabled:s,strategy:u?"fixed":g.strategy,modifiers:h1(lt({},p,{eventListeners:{enabled:a},preventOverflow:lt({},p.preventOverflow,{options:f?lt({padding:f},(t=p.preventOverflow)==null?void 0:t.options):(e=p.preventOverflow)==null?void 0:e.options}),offset:{options:lt({offset:c},(r=p.offset)==null?void 0:r.options)},arrow:lt({},p.arrow,{enabled:!!h,options:lt({},(i=p.arrow)==null?void 0:i.options,{element:h})}),flip:lt({enabled:!!l},p.flip)}))})}var Wr;function Yc(n){if((!Wr&&Wr!==0||n)&&Vc){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Wr=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Wr}var qs=function(t){var e;return typeof document>"u"?null:t==null?wr().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(e=t)!=null&&e.nodeType&&t||null)};function Ch(n,t){var e=$.useState(function(){return qs(n)}),r=e[0],i=e[1];if(!r){var s=qs(n);s&&i(s)}return $.useEffect(function(){},[t,r]),$.useEffect(function(){var a=qs(n);a!==r&&i(a)},[n,r]),r}const kh=n=>!n||typeof n=="function"?n:t=>{n.current=t};function p1(n,t){const e=kh(n),r=kh(t);return i=>{e&&e(i),r&&r(i)}}function g1(n,t){return $.useMemo(()=>p1(n,t),[n,t])}var Uc=D.forwardRef(function(n,t){var e=n.flip,r=n.offset,i=n.placement,s=n.containerPadding,a=s===void 0?5:s,o=n.popperConfig,l=o===void 0?{}:o,c=n.transition,u=Eh(),f=u[0],h=u[1],d=Eh(),g=d[0],p=d[1],v=g1(h,t),m=Ch(n.container),b=Ch(n.target),x=$.useState(!n.show),y=x[0],_=x[1],w=e1(b,f,d1({placement:i,enableEvents:!!n.show,containerPadding:a||5,flip:e,offset:r,arrowElement:g,popperConfig:l})),S=w.styles,M=w.attributes,O=dc(w,["styles","attributes"]);n.show?y&&_(!1):!n.transition&&!y&&_(!0);var R=function(){_(!0),n.onExited&&n.onExited.apply(n,arguments)},E=n.show||c&&!y;if(u1(f,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!E)return null;var T=n.children(lt({},O,{show:!!n.show,props:lt({},M.popper,{style:S.popper,ref:v}),arrowProps:lt({},M.arrow,{style:S.arrow,ref:p})}));if(c){var A=n.onExit,N=n.onExiting,q=n.onEnter,L=n.onEntering,H=n.onEntered;T=D.createElement(c,{in:n.show,appear:!0,onExit:A,onExiting:N,onExited:R,onEnter:q,onEntering:L,onEntered:H},T)}return m?tv.createPortal(T,m):null});Uc.displayName="Overlay";Uc.propTypes={show:I.bool,placement:I.oneOf(vc),target:I.any,container:I.any,flip:I.bool,children:I.func.isRequired,containerPadding:I.number,popperConfig:I.object,rootClose:I.bool,rootCloseEvent:I.oneOf(["click","mousedown"]),rootCloseDisabled:I.bool,onHide:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];if(t.rootClose){var s;return(s=I.func).isRequired.apply(s,[t].concat(r))}return I.func.apply(I,[t].concat(r))},transition:I.elementType,onEnter:I.func,onEntering:I.func,onEntered:I.func,onExit:I.func,onExiting:I.func,onExited:I.func};var Ns,Ph;function v1(){if(Ph)return Ns;Ph=1;function n(){this.__data__=[],this.size=0}return Ns=n,Ns}var zs,Ih;function Ci(){if(Ih)return zs;Ih=1;var n=yr();function t(e,r){for(var i=e.length;i--;)if(n(e[i][0],r))return i;return-1}return zs=t,zs}var Bs,Lh;function m1(){if(Lh)return Bs;Lh=1;var n=Ci(),t=Array.prototype,e=t.splice;function r(i){var s=this.__data__,a=n(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():e.call(s,a,1),--this.size,!0}return Bs=r,Bs}var $s,Fh;function b1(){if(Fh)return $s;Fh=1;var n=Ci();function t(e){var r=this.__data__,i=n(r,e);return i<0?void 0:r[i][1]}return $s=t,$s}var Hs,qh;function y1(){if(qh)return Hs;qh=1;var n=Ci();function t(e){return n(this.__data__,e)>-1}return Hs=t,Hs}var js,Nh;function _1(){if(Nh)return js;Nh=1;var n=Ci();function t(e,r){var i=this.__data__,s=n(i,e);return s<0?(++this.size,i.push([e,r])):i[s][1]=r,this}return js=t,js}var Ws,zh;function ki(){if(zh)return Ws;zh=1;var n=v1(),t=m1(),e=b1(),r=y1(),i=_1();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=n,s.prototype.delete=t,s.prototype.get=e,s.prototype.has=r,s.prototype.set=i,Ws=s,Ws}var Vs,Bh;function x1(){if(Bh)return Vs;Bh=1;var n=ki();function t(){this.__data__=new n,this.size=0}return Vs=t,Vs}var Ys,$h;function w1(){if($h)return Ys;$h=1;function n(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}return Ys=n,Ys}var Us,Hh;function S1(){if(Hh)return Us;Hh=1;function n(t){return this.__data__.get(t)}return Us=n,Us}var Ks,jh;function M1(){if(jh)return Ks;jh=1;function n(t){return this.__data__.has(t)}return Ks=n,Ks}var Gs,Wh;function D1(){if(Wh)return Gs;Wh=1;var n=Zt(),t=n["__core-js_shared__"];return Gs=t,Gs}var Xs,Vh;function O1(){if(Vh)return Xs;Vh=1;var n=D1(),t=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function e(r){return!!t&&t in r}return Xs=e,Xs}var Zs,Yh;function wm(){if(Yh)return Zs;Yh=1;var n=Function.prototype,t=n.toString;function e(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Zs=e,Zs}var Js,Uh;function E1(){if(Uh)return Js;Uh=1;var n=$c(),t=O1(),e=fe(),r=wm(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!e(h)||t(h))return!1;var d=n(h)?u:s;return d.test(r(h))}return Js=f,Js}var Qs,Kh;function R1(){if(Kh)return Qs;Kh=1;function n(t,e){return t==null?void 0:t[e]}return Qs=n,Qs}var ta,Gh;function tn(){if(Gh)return ta;Gh=1;var n=E1(),t=R1();function e(r,i){var s=t(r,i);return n(s)?s:void 0}return ta=e,ta}var ea,Xh;function Kc(){if(Xh)return ea;Xh=1;var n=tn(),t=Zt(),e=n(t,"Map");return ea=e,ea}var na,Zh;function Pi(){if(Zh)return na;Zh=1;var n=tn(),t=n(Object,"create");return na=t,na}var ra,Jh;function T1(){if(Jh)return ra;Jh=1;var n=Pi();function t(){this.__data__=n?n(null):{},this.size=0}return ra=t,ra}var ia,Qh;function A1(){if(Qh)return ia;Qh=1;function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return ia=n,ia}var sa,td;function C1(){if(td)return sa;td=1;var n=Pi(),t="__lodash_hash_undefined__",e=Object.prototype,r=e.hasOwnProperty;function i(s){var a=this.__data__;if(n){var o=a[s];return o===t?void 0:o}return r.call(a,s)?a[s]:void 0}return sa=i,sa}var aa,ed;function k1(){if(ed)return aa;ed=1;var n=Pi(),t=Object.prototype,e=t.hasOwnProperty;function r(i){var s=this.__data__;return n?s[i]!==void 0:e.call(s,i)}return aa=r,aa}var oa,nd;function P1(){if(nd)return oa;nd=1;var n=Pi(),t="__lodash_hash_undefined__";function e(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=n&&i===void 0?t:i,this}return oa=e,oa}var la,rd;function I1(){if(rd)return la;rd=1;var n=T1(),t=A1(),e=C1(),r=k1(),i=P1();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=n,s.prototype.delete=t,s.prototype.get=e,s.prototype.has=r,s.prototype.set=i,la=s,la}var ca,id;function L1(){if(id)return ca;id=1;var n=I1(),t=ki(),e=Kc();function r(){this.size=0,this.__data__={hash:new n,map:new(e||t),string:new n}}return ca=r,ca}var ua,sd;function F1(){if(sd)return ua;sd=1;function n(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return ua=n,ua}var fa,ad;function Ii(){if(ad)return fa;ad=1;var n=F1();function t(e,r){var i=e.__data__;return n(r)?i[typeof r=="string"?"string":"hash"]:i.map}return fa=t,fa}var ha,od;function q1(){if(od)return ha;od=1;var n=Ii();function t(e){var r=n(this,e).delete(e);return this.size-=r?1:0,r}return ha=t,ha}var da,ld;function N1(){if(ld)return da;ld=1;var n=Ii();function t(e){return n(this,e).get(e)}return da=t,da}var pa,cd;function z1(){if(cd)return pa;cd=1;var n=Ii();function t(e){return n(this,e).has(e)}return pa=t,pa}var ga,ud;function B1(){if(ud)return ga;ud=1;var n=Ii();function t(e,r){var i=n(this,e),s=i.size;return i.set(e,r),this.size+=i.size==s?0:1,this}return ga=t,ga}var va,fd;function Gc(){if(fd)return va;fd=1;var n=L1(),t=q1(),e=N1(),r=z1(),i=B1();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=n,s.prototype.delete=t,s.prototype.get=e,s.prototype.has=r,s.prototype.set=i,va=s,va}var ma,hd;function $1(){if(hd)return ma;hd=1;var n=ki(),t=Kc(),e=Gc(),r=200;function i(s,a){var o=this.__data__;if(o instanceof n){var l=o.__data__;if(!t||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new e(l)}return o.set(s,a),this.size=o.size,this}return ma=i,ma}var ba,dd;function Xc(){if(dd)return ba;dd=1;var n=ki(),t=x1(),e=w1(),r=S1(),i=M1(),s=$1();function a(o){var l=this.__data__=new n(o);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,ba=a,ba}var ya,pd;function H1(){if(pd)return ya;pd=1;var n="__lodash_hash_undefined__";function t(e){return this.__data__.set(e,n),this}return ya=t,ya}var _a,gd;function j1(){if(gd)return _a;gd=1;function n(t){return this.__data__.has(t)}return _a=n,_a}var xa,vd;function W1(){if(vd)return xa;vd=1;var n=Gc(),t=H1(),e=j1();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new n;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=e,xa=r,xa}var wa,md;function V1(){if(md)return wa;md=1;function n(t,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}return wa=n,wa}var Sa,bd;function Y1(){if(bd)return Sa;bd=1;function n(t,e){return t.has(e)}return Sa=n,Sa}var Ma,yd;function Sm(){if(yd)return Ma;yd=1;var n=W1(),t=V1(),e=Y1(),r=1,i=2;function s(a,o,l,c,u,f){var h=l&r,d=a.length,g=o.length;if(d!=g&&!(h&&g>d))return!1;var p=f.get(a),v=f.get(o);if(p&&v)return p==o&&v==a;var m=-1,b=!0,x=l&i?new n:void 0;for(f.set(a,o),f.set(o,a);++m<d;){var y=a[m],_=o[m];if(c)var w=h?c(_,y,m,o,a,f):c(y,_,m,a,o,f);if(w!==void 0){if(w)continue;b=!1;break}if(x){if(!t(o,function(S,M){if(!e(x,M)&&(y===S||u(y,S,l,c,f)))return x.push(M)})){b=!1;break}}else if(!(y===_||u(y,_,l,c,f))){b=!1;break}}return f.delete(a),f.delete(o),b}return Ma=s,Ma}var Da,_d;function Mm(){if(_d)return Da;_d=1;var n=Zt(),t=n.Uint8Array;return Da=t,Da}var Oa,xd;function U1(){if(xd)return Oa;xd=1;function n(t){var e=-1,r=Array(t.size);return t.forEach(function(i,s){r[++e]=[s,i]}),r}return Oa=n,Oa}var Ea,wd;function K1(){if(wd)return Ea;wd=1;function n(t){var e=-1,r=Array(t.size);return t.forEach(function(i){r[++e]=i}),r}return Ea=n,Ea}var Ra,Sd;function G1(){if(Sd)return Ra;Sd=1;var n=xn(),t=Mm(),e=yr(),r=Sm(),i=U1(),s=K1(),a=1,o=2,l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Map]",h="[object Number]",d="[object RegExp]",g="[object Set]",p="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",x=n?n.prototype:void 0,y=x?x.valueOf:void 0;function _(w,S,M,O,R,E,T){switch(M){case b:if(w.byteLength!=S.byteLength||w.byteOffset!=S.byteOffset)return!1;w=w.buffer,S=S.buffer;case m:return!(w.byteLength!=S.byteLength||!E(new t(w),new t(S)));case l:case c:case h:return e(+w,+S);case u:return w.name==S.name&&w.message==S.message;case d:case p:return w==S+"";case f:var A=i;case g:var N=O&a;if(A||(A=s),w.size!=S.size&&!N)return!1;var q=T.get(w);if(q)return q==S;O|=o,T.set(w,S);var L=r(A(w),A(S),O,R,E,T);return T.delete(w),L;case v:if(y)return y.call(w)==y.call(S)}return!1}return Ra=_,Ra}var Ta,Md;function Zc(){if(Md)return Ta;Md=1;function n(t,e){for(var r=-1,i=e.length,s=t.length;++r<i;)t[s+r]=e[r];return t}return Ta=n,Ta}var Aa,Dd;function zt(){if(Dd)return Aa;Dd=1;var n=Array.isArray;return Aa=n,Aa}var Ca,Od;function Dm(){if(Od)return Ca;Od=1;var n=Zc(),t=zt();function e(r,i,s){var a=i(r);return t(r)?a:n(a,s(r))}return Ca=e,Ca}var ka,Ed;function X1(){if(Ed)return ka;Ed=1;function n(t,e){for(var r=-1,i=t==null?0:t.length,s=0,a=[];++r<i;){var o=t[r];e(o,r,t)&&(a[s++]=o)}return a}return ka=n,ka}var Pa,Rd;function Om(){if(Rd)return Pa;Rd=1;function n(){return[]}return Pa=n,Pa}var Ia,Td;function Jc(){if(Td)return Ia;Td=1;var n=X1(),t=Om(),e=Object.prototype,r=e.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),n(i(a),function(o){return r.call(a,o)}))}:t;return Ia=s,Ia}var La,Ad;function Z1(){if(Ad)return La;Ad=1;function n(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}return La=n,La}var Fa,Cd;function J1(){if(Cd)return Fa;Cd=1;var n=wn(),t=Re(),e="[object Arguments]";function r(i){return t(i)&&n(i)==e}return Fa=r,Fa}var qa,kd;function Qc(){if(kd)return qa;kd=1;var n=J1(),t=Re(),e=Object.prototype,r=e.hasOwnProperty,i=e.propertyIsEnumerable,s=n((function(){return arguments})())?n:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return qa=s,qa}var qn={exports:{}},Na,Pd;function Q1(){if(Pd)return Na;Pd=1;function n(){return!1}return Na=n,Na}qn.exports;var Id;function Li(){return Id||(Id=1,(function(n,t){var e=Zt(),r=Q1(),i=t&&!t.nodeType&&t,s=i&&!0&&n&&!n.nodeType&&n,a=s&&s.exports===i,o=a?e.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;n.exports=c})(qn,qn.exports)),qn.exports}var za,Ld;function tM(){if(Ld)return za;Ld=1;var n=wn(),t=Hc(),e=Re(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",f="[object Object]",h="[object RegExp]",d="[object Set]",g="[object String]",p="[object WeakMap]",v="[object ArrayBuffer]",m="[object DataView]",b="[object Float32Array]",x="[object Float64Array]",y="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",S="[object Uint8Array]",M="[object Uint8ClampedArray]",O="[object Uint16Array]",R="[object Uint32Array]",E={};E[b]=E[x]=E[y]=E[_]=E[w]=E[S]=E[M]=E[O]=E[R]=!0,E[r]=E[i]=E[v]=E[s]=E[m]=E[a]=E[o]=E[l]=E[c]=E[u]=E[f]=E[h]=E[d]=E[g]=E[p]=!1;function T(A){return e(A)&&t(A.length)&&!!E[n(A)]}return za=T,za}var Ba,Fd;function Fi(){if(Fd)return Ba;Fd=1;function n(t){return function(e){return t(e)}}return Ba=n,Ba}var Nn={exports:{}};Nn.exports;var qd;function tu(){return qd||(qd=1,(function(n,t){var e=pm(),r=t&&!t.nodeType&&t,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,a=s&&e.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();n.exports=o})(Nn,Nn.exports)),Nn.exports}var $a,Nd;function eu(){if(Nd)return $a;Nd=1;var n=tM(),t=Fi(),e=tu(),r=e&&e.isTypedArray,i=r?t(r):n;return $a=i,$a}var Ha,zd;function Em(){if(zd)return Ha;zd=1;var n=Z1(),t=Qc(),e=zt(),r=Li(),i=jc(),s=eu(),a=Object.prototype,o=a.hasOwnProperty;function l(c,u){var f=e(c),h=!f&&t(c),d=!f&&!h&&r(c),g=!f&&!h&&!d&&s(c),p=f||h||d||g,v=p?n(c.length,String):[],m=v.length;for(var b in c)(u||o.call(c,b))&&!(p&&(b=="length"||d&&(b=="offset"||b=="parent")||g&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,m)))&&v.push(b);return v}return Ha=l,Ha}var ja,Bd;function nu(){if(Bd)return ja;Bd=1;var n=Object.prototype;function t(e){var r=e&&e.constructor,i=typeof r=="function"&&r.prototype||n;return e===i}return ja=t,ja}var Wa,$d;function Rm(){if($d)return Wa;$d=1;function n(t,e){return function(r){return t(e(r))}}return Wa=n,Wa}var Va,Hd;function eM(){if(Hd)return Va;Hd=1;var n=Rm(),t=n(Object.keys,Object);return Va=t,Va}var Ya,jd;function nM(){if(jd)return Ya;jd=1;var n=nu(),t=eM(),e=Object.prototype,r=e.hasOwnProperty;function i(s){if(!n(s))return t(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return Ya=i,Ya}var Ua,Wd;function Sr(){if(Wd)return Ua;Wd=1;var n=Em(),t=nM(),e=_r();function r(i){return e(i)?n(i):t(i)}return Ua=r,Ua}var Ka,Vd;function Tm(){if(Vd)return Ka;Vd=1;var n=Dm(),t=Jc(),e=Sr();function r(i){return n(i,e,t)}return Ka=r,Ka}var Ga,Yd;function rM(){if(Yd)return Ga;Yd=1;var n=Tm(),t=1,e=Object.prototype,r=e.hasOwnProperty;function i(s,a,o,l,c,u){var f=o&t,h=n(s),d=h.length,g=n(a),p=g.length;if(d!=p&&!f)return!1;for(var v=d;v--;){var m=h[v];if(!(f?m in a:r.call(a,m)))return!1}var b=u.get(s),x=u.get(a);if(b&&x)return b==a&&x==s;var y=!0;u.set(s,a),u.set(a,s);for(var _=f;++v<d;){m=h[v];var w=s[m],S=a[m];if(l)var M=f?l(S,w,m,a,s,u):l(w,S,m,s,a,u);if(!(M===void 0?w===S||c(w,S,o,l,u):M)){y=!1;break}_||(_=m=="constructor")}if(y&&!_){var O=s.constructor,R=a.constructor;O!=R&&"constructor"in s&&"constructor"in a&&!(typeof O=="function"&&O instanceof O&&typeof R=="function"&&R instanceof R)&&(y=!1)}return u.delete(s),u.delete(a),y}return Ga=i,Ga}var Xa,Ud;function iM(){if(Ud)return Xa;Ud=1;var n=tn(),t=Zt(),e=n(t,"DataView");return Xa=e,Xa}var Za,Kd;function sM(){if(Kd)return Za;Kd=1;var n=tn(),t=Zt(),e=n(t,"Promise");return Za=e,Za}var Ja,Gd;function aM(){if(Gd)return Ja;Gd=1;var n=tn(),t=Zt(),e=n(t,"Set");return Ja=e,Ja}var Qa,Xd;function oM(){if(Xd)return Qa;Xd=1;var n=tn(),t=Zt(),e=n(t,"WeakMap");return Qa=e,Qa}var to,Zd;function qi(){if(Zd)return to;Zd=1;var n=iM(),t=Kc(),e=sM(),r=aM(),i=oM(),s=wn(),a=wm(),o="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",f="[object WeakMap]",h="[object DataView]",d=a(n),g=a(t),p=a(e),v=a(r),m=a(i),b=s;return(n&&b(new n(new ArrayBuffer(1)))!=h||t&&b(new t)!=o||e&&b(e.resolve())!=c||r&&b(new r)!=u||i&&b(new i)!=f)&&(b=function(x){var y=s(x),_=y==l?x.constructor:void 0,w=_?a(_):"";if(w)switch(w){case d:return h;case g:return o;case p:return c;case v:return u;case m:return f}return y}),to=b,to}var eo,Jd;function lM(){if(Jd)return eo;Jd=1;var n=Xc(),t=Sm(),e=G1(),r=rM(),i=qi(),s=zt(),a=Li(),o=eu(),l=1,c="[object Arguments]",u="[object Array]",f="[object Object]",h=Object.prototype,d=h.hasOwnProperty;function g(p,v,m,b,x,y){var _=s(p),w=s(v),S=_?u:i(p),M=w?u:i(v);S=S==c?f:S,M=M==c?f:M;var O=S==f,R=M==f,E=S==M;if(E&&a(p)){if(!a(v))return!1;_=!0,O=!1}if(E&&!O)return y||(y=new n),_||o(p)?t(p,v,m,b,x,y):e(p,v,S,m,b,x,y);if(!(m&l)){var T=O&&d.call(p,"__wrapped__"),A=R&&d.call(v,"__wrapped__");if(T||A){var N=T?p.value():p,q=A?v.value():v;return y||(y=new n),x(N,q,m,b,y)}}return E?(y||(y=new n),r(p,v,m,b,x,y)):!1}return eo=g,eo}var no,Qd;function ru(){if(Qd)return no;Qd=1;var n=lM(),t=Re();function e(r,i,s,a,o){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:n(r,i,s,a,e,o)}return no=e,no}var ro,tp;function cM(){if(tp)return ro;tp=1;var n=ru();function t(e,r){return n(e,r)}return ro=t,ro}var uM=cM();const fM=Ht(uM);function io(n,t){var e=Wc(n);return e?e.innerHeight:je(n).height}function Am(n,t,e){n.closest&&!e&&n.closest(t);var r=n;do{if(WS(r,t))return r;r=r.parentElement}while(r&&r!==e&&r.nodeType===document.ELEMENT_NODE);return null}var so,ep;function hM(){if(ep)return so;ep=1;function n(t,e,r,i){for(var s=t.length,a=r+(i?1:-1);i?a--:++a<s;)if(e(t[a],a,t))return a;return-1}return so=n,so}var ao,np;function dM(){if(np)return ao;np=1;var n=Xc(),t=ru(),e=1,r=2;function i(s,a,o,l){var c=o.length,u=c,f=!l;if(s==null)return!u;for(s=Object(s);c--;){var h=o[c];if(f&&h[2]?h[1]!==s[h[0]]:!(h[0]in s))return!1}for(;++c<u;){h=o[c];var d=h[0],g=s[d],p=h[1];if(f&&h[2]){if(g===void 0&&!(d in s))return!1}else{var v=new n;if(l)var m=l(g,p,d,s,a,v);if(!(m===void 0?t(p,g,e|r,l,v):m))return!1}}return!0}return ao=i,ao}var oo,rp;function Cm(){if(rp)return oo;rp=1;var n=fe();function t(e){return e===e&&!n(e)}return oo=t,oo}var lo,ip;function pM(){if(ip)return lo;ip=1;var n=Cm(),t=Sr();function e(r){for(var i=t(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,n(o)]}return i}return lo=e,lo}var co,sp;function km(){if(sp)return co;sp=1;function n(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}return co=n,co}var uo,ap;function gM(){if(ap)return uo;ap=1;var n=dM(),t=pM(),e=km();function r(i){var s=t(i);return s.length==1&&s[0][2]?e(s[0][0],s[0][1]):function(a){return a===i||n(a,i,s)}}return uo=r,uo}var fo,op;function iu(){if(op)return fo;op=1;var n=zt(),t=xr(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(n(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||t(s)?!0:r.test(s)||!e.test(s)||a!=null&&s in Object(a)}return fo=i,fo}var ho,lp;function vM(){if(lp)return ho;lp=1;var n=Gc(),t="Expected a function";function e(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var c=r.apply(this,a);return s.cache=l.set(o,c)||l,c};return s.cache=new(e.Cache||n),s}return e.Cache=n,ho=e,ho}var po,cp;function mM(){if(cp)return po;cp=1;var n=vM(),t=500;function e(r){var i=n(r,function(a){return s.size===t&&s.clear(),a}),s=i.cache;return i}return po=e,po}var go,up;function bM(){if(up)return go;up=1;var n=mM(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,r=n(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(a,o,l,c){s.push(l?c.replace(e,"$1"):o||a)}),s});return go=r,go}var vo,fp;function su(){if(fp)return vo;fp=1;function n(t,e){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=e(t[r],r,t);return s}return vo=n,vo}var mo,hp;function yM(){if(hp)return mo;hp=1;var n=xn(),t=su(),e=zt(),r=xr(),i=n?n.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(e(o))return t(o,a)+"";if(r(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return mo=a,mo}var bo,dp;function _M(){if(dp)return bo;dp=1;var n=yM();function t(e){return e==null?"":n(e)}return bo=t,bo}var yo,pp;function Ni(){if(pp)return yo;pp=1;var n=zt(),t=iu(),e=bM(),r=_M();function i(s,a){return n(s)?s:t(s,a)?[s]:e(r(s))}return yo=i,yo}var _o,gp;function Mr(){if(gp)return _o;gp=1;var n=xr();function t(e){if(typeof e=="string"||n(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}return _o=t,_o}var xo,vp;function zi(){if(vp)return xo;vp=1;var n=Ni(),t=Mr();function e(r,i){i=n(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[t(i[s++])];return s&&s==a?r:void 0}return xo=e,xo}var wo,mp;function xM(){if(mp)return wo;mp=1;var n=zi();function t(e,r,i){var s=e==null?void 0:n(e,r);return s===void 0?i:s}return wo=t,wo}var So,bp;function wM(){if(bp)return So;bp=1;function n(t,e){return t!=null&&e in Object(t)}return So=n,So}var Mo,yp;function SM(){if(yp)return Mo;yp=1;var n=Ni(),t=Qc(),e=zt(),r=jc(),i=Hc(),s=Mr();function a(o,l,c){l=n(l,o);for(var u=-1,f=l.length,h=!1;++u<f;){var d=s(l[u]);if(!(h=o!=null&&c(o,d)))break;o=o[d]}return h||++u!=f?h:(f=o==null?0:o.length,!!f&&i(f)&&r(d,f)&&(e(o)||t(o)))}return Mo=a,Mo}var Do,_p;function MM(){if(_p)return Do;_p=1;var n=wM(),t=SM();function e(r,i){return r!=null&&t(r,i,n)}return Do=e,Do}var Oo,xp;function DM(){if(xp)return Oo;xp=1;var n=ru(),t=xM(),e=MM(),r=iu(),i=Cm(),s=km(),a=Mr(),o=1,l=2;function c(u,f){return r(u)&&i(f)?s(a(u),f):function(h){var d=t(h,u);return d===void 0&&d===f?e(h,u):n(f,d,o|l)}}return Oo=c,Oo}var Eo,wp;function Bi(){if(wp)return Eo;wp=1;function n(t){return t}return Eo=n,Eo}var Ro,Sp;function OM(){if(Sp)return Ro;Sp=1;function n(t){return function(e){return e==null?void 0:e[t]}}return Ro=n,Ro}var To,Mp;function EM(){if(Mp)return To;Mp=1;var n=zi();function t(e){return function(r){return n(r,e)}}return To=t,To}var Ao,Dp;function RM(){if(Dp)return Ao;Dp=1;var n=OM(),t=EM(),e=iu(),r=Mr();function i(s){return e(s)?n(r(s)):t(s)}return Ao=i,Ao}var Co,Op;function $i(){if(Op)return Co;Op=1;var n=gM(),t=DM(),e=Bi(),r=zt(),i=RM();function s(a){return typeof a=="function"?a:a==null?e:typeof a=="object"?r(a)?t(a[0],a[1]):n(a):i(a)}return Co=s,Co}var ko,Ep;function TM(){if(Ep)return ko;Ep=1;var n=hM(),t=$i(),e=vm(),r=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var c=o==null?0:e(o);return c<0&&(c=r(l+c,0)),n(s,t(a,3),c)}return ko=i,ko}var AM=TM();const CM=Ht(AM);var Po,Rp;function kM(){if(Rp)return Po;Rp=1;var n=Math.ceil,t=Math.max;function e(r,i,s,a){for(var o=-1,l=t(n((i-r)/(s||1)),0),c=Array(l);l--;)c[a?l:++o]=r,r+=s;return c}return Po=e,Po}var Io,Tp;function PM(){if(Tp)return Io;Tp=1;var n=kM(),t=Ai(),e=gm();function r(i){return function(s,a,o){return o&&typeof o!="number"&&t(s,a,o)&&(a=o=void 0),s=e(s),a===void 0?(a=s,s=0):a=e(a),o=o===void 0?s<a?1:-1:e(o),n(s,a,o,i)}}return Io=r,Io}var Lo,Ap;function IM(){if(Ap)return Lo;Ap=1;var n=PM(),t=n();return Lo=t,Lo}var LM=IM();const FM=Ht(LM);function lc(n,t){var e=Wc(n);return e?e.innerWidth:je(n).width}var Fo,Cp;function qM(){if(Cp)return Fo;Cp=1;var n=xn(),t=Qc(),e=zt(),r=n?n.isConcatSpreadable:void 0;function i(s){return e(s)||t(s)||!!(r&&s&&s[r])}return Fo=i,Fo}var qo,kp;function Pm(){if(kp)return qo;kp=1;var n=Zc(),t=qM();function e(r,i,s,a,o){var l=-1,c=r.length;for(s||(s=t),o||(o=[]);++l<c;){var u=r[l];i>0&&s(u)?i>1?e(u,i-1,s,a,o):n(o,u):a||(o[o.length]=u)}return o}return qo=e,qo}var No,Pp;function NM(){if(Pp)return No;Pp=1;function n(t){return function(e,r,i){for(var s=-1,a=Object(e),o=i(e),l=o.length;l--;){var c=o[t?l:++s];if(r(a[c],c,a)===!1)break}return e}}return No=n,No}var zo,Ip;function zM(){if(Ip)return zo;Ip=1;var n=NM(),t=n();return zo=t,zo}var Bo,Lp;function au(){if(Lp)return Bo;Lp=1;var n=zM(),t=Sr();function e(r,i){return r&&n(r,i,t)}return Bo=e,Bo}var $o,Fp;function BM(){if(Fp)return $o;Fp=1;var n=_r();function t(e,r){return function(i,s){if(i==null)return i;if(!n(i))return e(i,s);for(var a=i.length,o=r?a:-1,l=Object(i);(r?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return $o=t,$o}var Ho,qp;function $M(){if(qp)return Ho;qp=1;var n=au(),t=BM(),e=t(n);return Ho=e,Ho}var jo,Np;function HM(){if(Np)return jo;Np=1;var n=$M(),t=_r();function e(r,i){var s=-1,a=t(r)?Array(r.length):[];return n(r,function(o,l,c){a[++s]=i(o,l,c)}),a}return jo=e,jo}var Wo,zp;function jM(){if(zp)return Wo;zp=1;function n(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}return Wo=n,Wo}var Vo,Bp;function WM(){if(Bp)return Vo;Bp=1;var n=xr();function t(e,r){if(e!==r){var i=e!==void 0,s=e===null,a=e===e,o=n(e),l=r!==void 0,c=r===null,u=r===r,f=n(r);if(!c&&!f&&!o&&e>r||o&&l&&u&&!c&&!f||s&&l&&u||!i&&u||!a)return 1;if(!s&&!o&&!f&&e<r||f&&i&&a&&!s&&!o||c&&i&&a||!l&&a||!u)return-1}return 0}return Vo=t,Vo}var Yo,$p;function VM(){if($p)return Yo;$p=1;var n=WM();function t(e,r,i){for(var s=-1,a=e.criteria,o=r.criteria,l=a.length,c=i.length;++s<l;){var u=n(a[s],o[s]);if(u){if(s>=c)return u;var f=i[s];return u*(f=="desc"?-1:1)}}return e.index-r.index}return Yo=t,Yo}var Uo,Hp;function YM(){if(Hp)return Uo;Hp=1;var n=su(),t=zi(),e=$i(),r=HM(),i=jM(),s=Fi(),a=VM(),o=Bi(),l=zt();function c(u,f,h){f.length?f=n(f,function(p){return l(p)?function(v){return t(v,p.length===1?p[0]:p)}:p}):f=[o];var d=-1;f=n(f,s(e));var g=r(u,function(p,v,m){var b=n(f,function(x){return x(p)});return{criteria:b,index:++d,value:p}});return i(g,function(p,v){return a(p,v,h)})}return Uo=c,Uo}var Ko,jp;function UM(){if(jp)return Ko;jp=1;function n(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}return Ko=n,Ko}var Go,Wp;function Im(){if(Wp)return Go;Wp=1;var n=UM(),t=Math.max;function e(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,l=t(a.length-i,0),c=Array(l);++o<l;)c[o]=a[i+o];o=-1;for(var u=Array(i+1);++o<i;)u[o]=a[o];return u[i]=s(c),n(r,this,u)}}return Go=e,Go}var Xo,Vp;function KM(){if(Vp)return Xo;Vp=1;function n(t){return function(){return t}}return Xo=n,Xo}var Zo,Yp;function Lm(){if(Yp)return Zo;Yp=1;var n=tn(),t=(function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch{}})();return Zo=t,Zo}var Jo,Up;function GM(){if(Up)return Jo;Up=1;var n=KM(),t=Lm(),e=Bi(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:n(s),writable:!0})}:e;return Jo=r,Jo}var Qo,Kp;function XM(){if(Kp)return Qo;Kp=1;var n=800,t=16,e=Date.now;function r(i){var s=0,a=0;return function(){var o=e(),l=t-(o-a);if(a=o,l>0){if(++s>=n)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Qo=r,Qo}var tl,Gp;function Fm(){if(Gp)return tl;Gp=1;var n=GM(),t=XM(),e=t(n);return tl=e,tl}var el,Xp;function qm(){if(Xp)return el;Xp=1;var n=Bi(),t=Im(),e=Fm();function r(i,s){return e(t(i,s,n),i+"")}return el=r,el}var nl,Zp;function ZM(){if(Zp)return nl;Zp=1;var n=Pm(),t=YM(),e=qm(),r=Ai(),i=e(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(s,n(a,1),[])});return nl=i,nl}var JM=ZM();const QM=Ht(JM);function Nm(n){return db(n)||pb(n)||gb(n)||vb()}var rl,Jp;function tD(){if(Jp)return rl;Jp=1;function n(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}return rl=n,rl}var il,Qp;function eD(){if(Qp)return il;Qp=1;var n=fe(),t=nu(),e=tD(),r=Object.prototype,i=r.hasOwnProperty;function s(a){if(!n(a))return e(a);var o=t(a),l=[];for(var c in a)c=="constructor"&&(o||!i.call(a,c))||l.push(c);return l}return il=s,il}var sl,tg;function Hi(){if(tg)return sl;tg=1;var n=Em(),t=eD(),e=_r();function r(i){return e(i)?n(i,!0):t(i)}return sl=r,sl}var al,eg;function nD(){if(eg)return al;eg=1;var n=qm(),t=yr(),e=Ai(),r=Hi(),i=Object.prototype,s=i.hasOwnProperty,a=n(function(o,l){o=Object(o);var c=-1,u=l.length,f=u>2?l[2]:void 0;for(f&&e(l[0],l[1],f)&&(u=1);++c<u;)for(var h=l[c],d=r(h),g=-1,p=d.length;++g<p;){var v=d[g],m=o[v];(m===void 0||t(m,i[v])&&!s.call(o,v))&&(o[v]=h[v])}return o});return al=a,al}var rD=nD();const iD=Ht(rD);var ol,ng;function ou(){if(ng)return ol;ng=1;var n=Lm();function t(e,r,i){r=="__proto__"&&n?n(e,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[r]=i}return ol=t,ol}var ll,rg;function sD(){if(rg)return ll;rg=1;var n=ou(),t=au(),e=$i();function r(i,s){var a={};return s=e(s,3),t(i,function(o,l,c){n(a,l,s(o,l,c))}),a}return ll=r,ll}var aD=sD();const oD=Ht(aD);var cl,ig;function zm(){if(ig)return cl;ig=1;function n(t,e){for(var r=-1,i=t==null?0:t.length;++r<i&&e(t[r],r,t)!==!1;);return t}return cl=n,cl}var ul,sg;function Bm(){if(sg)return ul;sg=1;var n=ou(),t=yr(),e=Object.prototype,r=e.hasOwnProperty;function i(s,a,o){var l=s[a];(!(r.call(s,a)&&t(l,o))||o===void 0&&!(a in s))&&n(s,a,o)}return ul=i,ul}var fl,ag;function Dr(){if(ag)return fl;ag=1;var n=Bm(),t=ou();function e(r,i,s,a){var o=!s;s||(s={});for(var l=-1,c=i.length;++l<c;){var u=i[l],f=a?a(s[u],r[u],u,s,r):void 0;f===void 0&&(f=r[u]),o?t(s,u,f):n(s,u,f)}return s}return fl=e,fl}var hl,og;function lD(){if(og)return hl;og=1;var n=Dr(),t=Sr();function e(r,i){return r&&n(i,t(i),r)}return hl=e,hl}var dl,lg;function cD(){if(lg)return dl;lg=1;var n=Dr(),t=Hi();function e(r,i){return r&&n(i,t(i),r)}return dl=e,dl}var zn={exports:{}};zn.exports;var cg;function uD(){return cg||(cg=1,(function(n,t){var e=Zt(),r=t&&!t.nodeType&&t,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,a=s?e.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=o?o(f):new c.constructor(f);return c.copy(h),h}n.exports=l})(zn,zn.exports)),zn.exports}var pl,ug;function fD(){if(ug)return pl;ug=1;function n(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}return pl=n,pl}var gl,fg;function hD(){if(fg)return gl;fg=1;var n=Dr(),t=Jc();function e(r,i){return n(r,t(r),i)}return gl=e,gl}var vl,hg;function ji(){if(hg)return vl;hg=1;var n=Rm(),t=n(Object.getPrototypeOf,Object);return vl=t,vl}var ml,dg;function $m(){if(dg)return ml;dg=1;var n=Zc(),t=ji(),e=Jc(),r=Om(),i=Object.getOwnPropertySymbols,s=i?function(a){for(var o=[];a;)n(o,e(a)),a=t(a);return o}:r;return ml=s,ml}var bl,pg;function dD(){if(pg)return bl;pg=1;var n=Dr(),t=$m();function e(r,i){return n(r,t(r),i)}return bl=e,bl}var yl,gg;function Hm(){if(gg)return yl;gg=1;var n=Dm(),t=$m(),e=Hi();function r(i){return n(i,e,t)}return yl=r,yl}var _l,vg;function pD(){if(vg)return _l;vg=1;var n=Object.prototype,t=n.hasOwnProperty;function e(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return _l=e,_l}var xl,mg;function lu(){if(mg)return xl;mg=1;var n=Mm();function t(e){var r=new e.constructor(e.byteLength);return new n(r).set(new n(e)),r}return xl=t,xl}var wl,bg;function gD(){if(bg)return wl;bg=1;var n=lu();function t(e,r){var i=r?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}return wl=t,wl}var Sl,yg;function vD(){if(yg)return Sl;yg=1;var n=/\w*$/;function t(e){var r=new e.constructor(e.source,n.exec(e));return r.lastIndex=e.lastIndex,r}return Sl=t,Sl}var Ml,_g;function mD(){if(_g)return Ml;_g=1;var n=xn(),t=n?n.prototype:void 0,e=t?t.valueOf:void 0;function r(i){return e?Object(e.call(i)):{}}return Ml=r,Ml}var Dl,xg;function bD(){if(xg)return Dl;xg=1;var n=lu();function t(e,r){var i=r?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}return Dl=t,Dl}var Ol,wg;function yD(){if(wg)return Ol;wg=1;var n=lu(),t=gD(),e=vD(),r=mD(),i=bD(),s="[object Boolean]",a="[object Date]",o="[object Map]",l="[object Number]",c="[object RegExp]",u="[object Set]",f="[object String]",h="[object Symbol]",d="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",v="[object Float64Array]",m="[object Int8Array]",b="[object Int16Array]",x="[object Int32Array]",y="[object Uint8Array]",_="[object Uint8ClampedArray]",w="[object Uint16Array]",S="[object Uint32Array]";function M(O,R,E){var T=O.constructor;switch(R){case d:return n(O);case s:case a:return new T(+O);case g:return t(O,E);case p:case v:case m:case b:case x:case y:case _:case w:case S:return i(O,E);case o:return new T;case l:case f:return new T(O);case c:return e(O);case u:return new T;case h:return r(O)}}return Ol=M,Ol}var El,Sg;function jm(){if(Sg)return El;Sg=1;var n=fe(),t=Object.create,e=(function(){function r(){}return function(i){if(!n(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}})();return El=e,El}var Rl,Mg;function _D(){if(Mg)return Rl;Mg=1;var n=jm(),t=ji(),e=nu();function r(i){return typeof i.constructor=="function"&&!e(i)?n(t(i)):{}}return Rl=r,Rl}var Tl,Dg;function xD(){if(Dg)return Tl;Dg=1;var n=qi(),t=Re(),e="[object Map]";function r(i){return t(i)&&n(i)==e}return Tl=r,Tl}var Al,Og;function wD(){if(Og)return Al;Og=1;var n=xD(),t=Fi(),e=tu(),r=e&&e.isMap,i=r?t(r):n;return Al=i,Al}var Cl,Eg;function SD(){if(Eg)return Cl;Eg=1;var n=qi(),t=Re(),e="[object Set]";function r(i){return t(i)&&n(i)==e}return Cl=r,Cl}var kl,Rg;function MD(){if(Rg)return kl;Rg=1;var n=SD(),t=Fi(),e=tu(),r=e&&e.isSet,i=r?t(r):n;return kl=i,kl}var Pl,Tg;function DD(){if(Tg)return Pl;Tg=1;var n=Xc(),t=zm(),e=Bm(),r=lD(),i=cD(),s=uD(),a=fD(),o=hD(),l=dD(),c=Tm(),u=Hm(),f=qi(),h=pD(),d=yD(),g=_D(),p=zt(),v=Li(),m=wD(),b=fe(),x=MD(),y=Sr(),_=Hi(),w=1,S=2,M=4,O="[object Arguments]",R="[object Array]",E="[object Boolean]",T="[object Date]",A="[object Error]",N="[object Function]",q="[object GeneratorFunction]",L="[object Map]",H="[object Number]",Y="[object Object]",W="[object RegExp]",nt="[object Set]",C="[object String]",k="[object Symbol]",P="[object WeakMap]",F="[object ArrayBuffer]",z="[object DataView]",j="[object Float32Array]",tt="[object Float64Array]",X="[object Int8Array]",Tt="[object Int16Array]",he="[object Int32Array]",Jt="[object Uint8Array]",Te="[object Uint8ClampedArray]",en="[object Uint16Array]",Mn="[object Uint32Array]",Q={};Q[O]=Q[R]=Q[F]=Q[z]=Q[E]=Q[T]=Q[j]=Q[tt]=Q[X]=Q[Tt]=Q[he]=Q[L]=Q[H]=Q[Y]=Q[W]=Q[nt]=Q[C]=Q[k]=Q[Jt]=Q[Te]=Q[en]=Q[Mn]=!0,Q[A]=Q[N]=Q[P]=!1;function Ae(K,de,pe,Qt,te,Bt){var dt,ge=de&w,Ce=de&S,Er=de&M;if(pe&&(dt=te?pe(K,Qt,te,Bt):pe(K)),dt!==void 0)return dt;if(!b(K))return K;var Dn=p(K);if(Dn){if(dt=h(K),!ge)return a(K,dt)}else{var ee=f(K),gu=ee==N||ee==q;if(v(K))return s(K,ge);if(ee==Y||ee==O||gu&&!te){if(dt=Ce||gu?{}:g(K),!ge)return Ce?l(K,i(dt,K)):o(K,r(dt,K))}else{if(!Q[ee])return te?K:{};dt=d(K,ee,ge)}}Bt||(Bt=new n);var vu=Bt.get(K);if(vu)return vu;Bt.set(K,dt),x(K)?K.forEach(function(ve){dt.add(Ae(ve,de,pe,ve,K,Bt))}):m(K)&&K.forEach(function(ve,ke){dt.set(ke,Ae(ve,de,pe,ke,K,Bt))});var lb=Er?Ce?u:c:Ce?_:y,mu=Dn?void 0:lb(K);return t(mu||K,function(ve,ke){mu&&(ke=ve,ve=K[ke]),e(dt,ke,Ae(ve,de,pe,ke,K,Bt))}),dt}return Pl=Ae,Pl}var Il,Ag;function OD(){if(Ag)return Il;Ag=1;function n(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}return Il=n,Il}var Ll,Cg;function ED(){if(Cg)return Ll;Cg=1;var n=zi(),t=dm();function e(r,i){return i.length<2?r:n(r,t(i,0,-1))}return Ll=e,Ll}var Fl,kg;function RD(){if(kg)return Fl;kg=1;var n=Ni(),t=OD(),e=ED(),r=Mr();function i(s,a){return a=n(a,s),s=e(s,a),s==null||delete s[r(t(a))]}return Fl=i,Fl}var ql,Pg;function TD(){if(Pg)return ql;Pg=1;var n=wn(),t=ji(),e=Re(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function c(u){if(!e(u)||n(u)!=r)return!1;var f=t(u);if(f===null)return!0;var h=o.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&a.call(h)==l}return ql=c,ql}var Nl,Ig;function AD(){if(Ig)return Nl;Ig=1;var n=TD();function t(e){return n(e)?void 0:e}return Nl=t,Nl}var zl,Lg;function CD(){if(Lg)return zl;Lg=1;var n=Pm();function t(e){var r=e==null?0:e.length;return r?n(e,1):[]}return zl=t,zl}var Bl,Fg;function kD(){if(Fg)return Bl;Fg=1;var n=CD(),t=Im(),e=Fm();function r(i){return e(t(i,void 0,n),i+"")}return Bl=r,Bl}var $l,qg;function PD(){if(qg)return $l;qg=1;var n=su(),t=DD(),e=RD(),r=Ni(),i=Dr(),s=AD(),a=kD(),o=Hm(),l=1,c=2,u=4,f=a(function(h,d){var g={};if(h==null)return g;var p=!1;d=n(d,function(m){return m=r(m,h),p||(p=m.length>1),m}),i(h,o(h),g),p&&(g=t(g,l|c|u,s));for(var v=d.length;v--;)e(g,d[v]);return g});return $l=f,$l}var ID=PD();const LD=Ht(ID);var Hl,Ng;function FD(){if(Ng)return Hl;Ng=1;var n=zm(),t=jm(),e=au(),r=$i(),i=ji(),s=zt(),a=Li(),o=$c(),l=fe(),c=eu();function u(f,h,d){var g=s(f),p=g||a(f)||c(f);if(h=r(h,4),d==null){var v=f&&f.constructor;p?d=g?new v:[]:l(f)?d=o(v)?t(i(f)):{}:d={}}return(p?n:e)(f,function(m,b,x){return h(d,m,b,x)}),d}return Hl=u,Hl}var qD=FD();const ND=Ht(qD);var ti={exports:{}},zD=ti.exports,zg;function BD(){return zg||(zg=1,(function(n,t){(function(e,r){n.exports=r()})(zD,(function(){return function(e,r,i){r.prototype.isBetween=function(s,a,o,l){var c=i(s),u=i(a),f=(l=l||"()")[0]==="(",h=l[1]===")";return(f?this.isAfter(c,o):!this.isBefore(c,o))&&(h?this.isBefore(u,o):!this.isAfter(u,o))||(f?this.isBefore(c,o):!this.isAfter(c,o))&&(h?this.isAfter(u,o):!this.isBefore(u,o))}}}))})(ti)),ti.exports}BD();var ei={exports:{}},$D=ei.exports,Bg;function HD(){return Bg||(Bg=1,(function(n,t){(function(e,r){n.exports=r()})($D,(function(){return function(e,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}}))})(ei)),ei.exports}HD();var ni={exports:{}},jD=ni.exports,$g;function WD(){return $g||($g=1,(function(n,t){(function(e,r){n.exports=r()})(jD,(function(){return function(e,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}}))})(ni)),ni.exports}WD();var ri={exports:{}},VD=ri.exports,Hg;function YD(){return Hg||(Hg=1,(function(n,t){(function(e,r){n.exports=r()})(VD,(function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var a=i.prototype,o=a.format;s.en.formats=e,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=(function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(d,g,p){var v=p&&p.toUpperCase();return g||h[p]||e[p]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(m,b,x){return b||x.slice(1)}))}))})(l,c===void 0?{}:c);return o.call(this,u)}}}))})(ri)),ri.exports}YD();var ii={exports:{}},UD=ii.exports,jg;function KD(){return jg||(jg=1,(function(n,t){(function(e,r){n.exports=r()})(UD,(function(){return function(e,r,i){var s=function(a,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var l;o.length===1&&o[0].length>0&&(o=o[0]),l=(o=o.filter((function(u){return u})))[0];for(var c=1;c<o.length;c+=1)o[c].isValid()&&!o[c][a](l)||(l=o[c]);return l};i.max=function(){var a=[].slice.call(arguments,0);return s("isAfter",a)},i.min=function(){var a=[].slice.call(arguments,0);return s("isBefore",a)}}}))})(ii)),ii.exports}KD();var si={exports:{}},GD=si.exports,Wg;function XD(){return Wg||(Wg=1,(function(n,t){(function(e,r){n.exports=r()})(GD,(function(){var e="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,a,o){var l=a.prototype;o.utc=function(p){var v={date:p,utc:!0,args:arguments};return new a(v)},l.utc=function(p){var v=o(this.toDate(),{locale:this.$L,utc:!0});return p?v.add(this.utcOffset(),e):v},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),c.call(this,p)};var u=l.init;l.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(p,v){var m=this.$utils().u;if(m(p))return this.$u?0:m(this.$offset)?f.call(this):this.$offset;if(typeof p=="string"&&(p=(function(_){_===void 0&&(_="");var w=_.match(r);if(!w)return null;var S=(""+w[0]).match(i)||["-",0,0],M=S[0],O=60*+S[1]+ +S[2];return O===0?0:M==="+"?O:-O})(p),p===null))return this;var b=Math.abs(p)<=16?60*p:p;if(b===0)return this.utc(v);var x=this.clone();if(v)return x.$offset=b,x.$u=!1,x;var y=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(x=this.local().add(b+y,e)).$offset=b,x.$x.$localOffset=y,x};var h=l.format;l.format=function(p){var v=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},l.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var d=l.toDate;l.toDate=function(p){return p==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var g=l.diff;l.diff=function(p,v,m){if(p&&this.$u===p.$u)return g.call(this,p,v,m);var b=this.local(),x=o(p).local();return g.call(b,x,v,m)}}}))})(si)),si.exports}XD();var ai={exports:{}},ZD=ai.exports,Vg;function JD(){return Vg||(Vg=1,(function(n,t){(function(e,r){n.exports=r()})(ZD,(function(){return function(e,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(ai)),ai.exports}JD();function Yt(n){return n.children}var Rt={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},St={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Yg=Object.keys(St).map(function(n){return St[n]});I.oneOfType([I.string,I.func]);I.any;I.func;I.oneOfType([I.arrayOf(I.oneOf(Yg)),I.objectOf(function(n,t){var e=Yg.indexOf(t)!==-1&&typeof n[t]=="boolean";if(e)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return I.elementType.apply(I,[n,t].concat(i))})]);I.oneOfType([I.oneOf(["overlap","no-overlap"]),I.func]);var Ug={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Wm(n,t){var e=pt(n,"month");return pt(e,"week",t.startOfWeek())}function Vm(n,t){var e=bi(n,"month");return bi(e,"week",t.startOfWeek())}function QD(n,t){for(var e=Wm(n,t),r=Vm(n,t),i=[];yn(e,r,"day");)i.push(e),e=$t(e,1,"day");return i}function tO(n,t){var e=pt(n,t);return mr(e,n)?e:$t(e,1,t)}function eO(n,t){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,i=[];yn(r,t,e);)i.push(r),r=$t(r,1,e);return i}function nO(n,t){return t==null&&n==null?null:(t==null&&(t=new Date),n==null&&(n=new Date),n=pt(n,"day"),n=ur(n,ur(t)),n=mn(n,mn(t)),n=cr(n,cr(t)),lr(n,lr(t)))}function Kg(n){return ur(n)===0&&mn(n)===0&&cr(n)===0&&lr(n)===0}function rO(n,t,e,r){return e==="day"&&(e="date"),Math.abs(th[e](n,void 0,r)-th[e](t,void 0,r))}function cu(n,t,e){return!e||e==="milliseconds"?Math.abs(+n-+t):Math.round(Math.abs(+pt(n,e)/Ug[e]-+pt(t,e)/Ug[e]))}var iO=I.oneOfType([I.string,I.func]);function sO(n,t,e,r,i){var s=typeof r=="function"?r(e,i,n):t.call(n,e,r,i);return nr(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function aO(n,t,e){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,t+e,0,0)}function uu(n,t){return n.getTimezoneOffset()-t.getTimezoneOffset()}function oO(n,t){return cu(n,t,"minutes")+uu(n,t)}function lO(n){var t=pt(n,"day");return cu(t,n,"minutes")+uu(t,n)}function cO(n,t){return Bc(n,t,"day")}function uO(n,t,e){var r=mr(n,t,"minutes");return r?br(t,e,"minutes"):Ti(t,e,"minutes")}function cc(n,t){return rO(n,t,"day")}function fO(n){var t=n.evtA,e=t.start,r=t.end,i=t.allDay,s=n.evtB,a=s.start,o=s.end,l=s.allDay,c=+pt(e,"day")-+pt(a,"day"),u=cc(e,r),f=cc(a,o);return c||f-u||!!l-!!i||+e-+a||+r-+o}function hO(n){var t=n.event,e=t.start,r=t.end,i=n.range,s=i.start,a=i.end,o=pt(e,"day"),l=yn(o,a,"day"),c=zc(o,r,"minutes"),u=c?Ti(r,s,"minutes"):br(r,s,"minutes");return l&&u}function dO(n,t){return mr(n,t,"day")}function pO(n,t){return Kg(n)&&Kg(t)}var gO=ft(function n(t){var e=this;ht(this,n),nr(typeof t.format=="function","date localizer `format(..)` must be a function"),nr(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||iO,this.formats=t.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return sO.apply(void 0,[e,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||nO,this.inRange=t.inRange||cm,this.lt=t.lt||Bc,this.lte=t.lte||yn,this.gt=t.gt||Ti,this.gte=t.gte||br,this.eq=t.eq||mr,this.neq=t.neq||zc,this.startOf=t.startOf||pt,this.endOf=t.endOf||bi,this.add=t.add||$t,this.range=t.range||eO,this.diff=t.diff||cu,this.ceil=t.ceil||tO,this.min=t.min||om,this.max=t.max||lm,this.minutes=t.minutes||mn,this.daySpan=t.daySpan||cc,this.firstVisibleDay=t.firstVisibleDay||Wm,this.lastVisibleDay=t.lastVisibleDay||Vm,this.visibleDays=t.visibleDays||QD,this.getSlotDate=t.getSlotDate||aO,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||uu,this.getTotalMin=t.getTotalMin||oO,this.getMinutesFromMidnight=t.getMinutesFromMidnight||lO,this.continuesPrior=t.continuesPrior||cO,this.continuesAfter=t.continuesAfter||uO,this.sortEvents=t.sortEvents||fO,this.inEventRange=t.inEventRange||hO,this.isSameDate=t.isSameDate||dO,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||pO,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function vO(n,t,e,r){var i=et(et({},n.formats),e);return et(et({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(t)},format:function(a,o){return n.format(a,i[o]||o,t)}})}var mO=(function(n){function t(){var e;ht(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=wt(this,t,[].concat(i)),e.navigate=function(a){e.props.onNavigate(a)},e.view=function(a){e.props.onView(a)},e}return xt(t,n),ft(t,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return D.createElement("div",{className:"rbc-toolbar"},D.createElement("span",{className:"rbc-btn-group"},D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Rt.TODAY)},i.today),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Rt.PREVIOUS)},i.previous),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Rt.NEXT)},i.next)),D.createElement("span",{className:"rbc-toolbar-label"},s),D.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,a=this.props.view;if(s.length>1)return s.map(function(o){return D.createElement("button",{type:"button",key:o,className:at({"rbc-active":a===o}),onClick:i.view.bind(null,o)},r[o])})}}])})(D.Component);function it(n,t){n&&n.apply(null,[].concat(t))}var bO={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function yO(n){return et(et({},bO),n)}function _O(n){var t=n.ref,e=n.callback;$.useEffect(function(){var r=function(s){t.current&&!t.current.contains(s.target)&&e()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,e])}var xO=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Ym=(function(n){function t(){return ht(this,t),wt(this,t,arguments)}return xt(t,n),ft(t,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,a=r.event,o=r.selected,l=r.isAllDay,c=r.onSelect,u=r.onDoubleClick,f=r.onKeyPress,h=r.localizer,d=r.continuesPrior,g=r.continuesAfter,p=r.accessors,v=r.getters,m=r.children,b=r.components,x=b.event,y=b.eventWrapper,_=r.slotStart,w=r.slotEnd,S=Xt(r,xO);delete S.resizable;var M=p.title(a),O=p.tooltip(a),R=p.end(a),E=p.start(a),T=p.allDay(a),A=l||T||h.diff(E,h.ceil(R,"day"),"day")>1,N=v.eventProp(a,E,R,o),q=D.createElement("div",{className:"rbc-event-content",title:O||void 0},x?D.createElement(x,{event:a,continuesPrior:d,continuesAfter:g,title:M,isAllDay:T,localizer:h,slotStart:_,slotEnd:w}):M);return D.createElement(y,Object.assign({},this.props,{type:"date"}),D.createElement("div",Object.assign({},S,{style:et(et({},N.style),i),className:at("rbc-event",s,N.className,{"rbc-selected":o,"rbc-event-allday":A,"rbc-event-continues-prior":d,"rbc-event-continues-after":g}),onClick:function(H){return c&&c(a,H)},onDoubleClick:function(H){return u&&u(a,H)},onKeyDown:function(H){return f&&f(a,H)}}),typeof m=="function"?m(q):q))}}])})(D.Component);function Wi(n,t){return!n||t==null?!1:fM(n,t)}function Um(n,t){var e=n.right-n.left,r=e/t;return r}function Km(n,t,e,r){var i=Um(n,r);return e?r-1-Math.floor((t-n.left)/i):Math.floor((t-n.left)/i)}function wO(n,t){var e=t.x,r=t.y;return r>=n.top&&r<=n.bottom&&e>=n.left&&e<=n.right}function SO(n,t,e,r,i){var s=-1,a=-1,o=r-1,l=Um(t,r),c=Km(t,e.x,i,r),u=t.top<e.y&&t.bottom>e.y,f=t.top<n.y&&t.bottom>n.y,h=n.y>t.bottom,d=t.top>n.y,g=e.top<t.top&&e.bottom>t.bottom;return g&&(s=0,a=o),u&&(d?(s=0,a=c):h&&(s=c,a=o)),f&&(s=a=i?o-Math.floor((n.x-t.left)/l):Math.floor((n.x-t.left)/l),u?c<s?s=c:a=c:n.y<e.y?a=o:s=0),{startIdx:s,endIdx:a}}function MO(n){var t=n.target,e=n.offset,r=n.container,i=n.box,s=je(t),a=s.top,o=s.left,l=s.width,c=s.height,u=je(r),f=u.top,h=u.left,d=u.width,g=u.height,p=je(i),v=p.width,m=p.height,b=f+g,x=h+d,y=a+m,_=o+v,w=e.x,S=e.y,M=y>b?a-m-S:a+S+c,O=_>x?o+w-v+l:o+w;return{topOffset:M,leftOffset:O}}function DO(n){var t=n.containerRef,e=n.accessors,r=n.getters,i=n.selected,s=n.components,a=n.localizer,o=n.position,l=n.show,c=n.events,u=n.slotStart,f=n.slotEnd,h=n.onSelect,d=n.onDoubleClick,g=n.onKeyPress,p=n.handleDragStart,v=n.popperRef,m=n.target,b=n.offset;_O({ref:v,callback:l}),$.useLayoutEffect(function(){var _=MO({target:m,offset:b,container:t.current,box:v.current}),w=_.topOffset,S=_.leftOffset;v.current.style.top="".concat(w,"px"),v.current.style.left="".concat(S,"px")},[b.x,b.y,m]);var x=o.width,y={minWidth:x+x/2};return D.createElement("div",{style:y,className:"rbc-overlay",ref:v},D.createElement("div",{className:"rbc-overlay-header"},a.format(u,"dayHeaderFormat")),c.map(function(_,w){return D.createElement(Ym,{key:w,type:"popup",localizer:a,event:_,getters:r,onSelect:h,accessors:e,components:s,onDoubleClick:d,onKeyPress:g,continuesPrior:a.lt(e.end(_),u,"day"),continuesAfter:a.gte(e.start(_),f,"day"),slotStart:u,slotEnd:f,selected:Wi(_,i),draggable:!0,onDragStart:function(){return p(_)},onDragEnd:function(){return l()}})}))}var Gm=D.forwardRef(function(n,t){return D.createElement(DO,Object.assign({},n,{popperRef:t}))});Gm.propTypes={accessors:I.object.isRequired,getters:I.object.isRequired,selected:I.object,components:I.object.isRequired,localizer:I.object.isRequired,position:I.object.isRequired,show:I.func.isRequired,events:I.array.isRequired,slotStart:I.instanceOf(Date).isRequired,slotEnd:I.instanceOf(Date),onSelect:I.func,onDoubleClick:I.func,onKeyPress:I.func,handleDragStart:I.func,style:I.object,offset:I.shape({x:I.number,y:I.number})};function OO(n){var t=n.containerRef,e=n.popupOffset,r=e===void 0?5:e,i=n.overlay,s=n.accessors,a=n.localizer,o=n.components,l=n.getters,c=n.selected,u=n.handleSelectEvent,f=n.handleDoubleClickEvent,h=n.handleKeyPressEvent,d=n.handleDragStart,g=n.onHide,p=n.overlayDisplay,v=$.useRef(null);if(!i.position)return null;var m=r;isNaN(r)||(m={x:r,y:r});var b=i.position,x=i.events,y=i.date,_=i.end;return D.createElement(Uc,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:i.target},function(w){var S=w.props;return D.createElement(Gm,Object.assign({},S,{containerRef:t,ref:v,target:i.target,offset:m,accessors:s,getters:l,selected:c,components:o,localizer:a,position:b,show:p,events:x,slotStart:y,slotEnd:_,onSelect:u,onDoubleClick:f,onKeyPress:h,handleDragStart:d}))})}var fu=D.forwardRef(function(n,t){return D.createElement(OO,Object.assign({},n,{containerRef:t}))});fu.propTypes={popupOffset:I.oneOfType([I.number,I.shape({x:I.number,y:I.number})]),overlay:I.shape({position:I.object,events:I.array,date:I.instanceOf(Date),end:I.instanceOf(Date)}),accessors:I.object.isRequired,localizer:I.object.isRequired,components:I.object.isRequired,getters:I.object.isRequired,selected:I.object,handleSelectEvent:I.func,handleDoubleClickEvent:I.func,handleKeyPressEvent:I.func,handleDragStart:I.func,onHide:I.func,overlayDisplay:I.func};function gt(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Fn(e,n,t,{passive:!1})}function EO(n,t,e){return!n||fr(n,document.elementFromPoint(t,e))}function RO(n,t){var e=t.clientX,r=t.clientY,i=document.elementFromPoint(e,r);return Am(i,".rbc-event",n)}function TO(n,t){var e=t.clientX,r=t.clientY,i=document.elementFromPoint(e,r);return Am(i,".rbc-show-more",n)}function _i(n,t){return!!RO(n,t)}function AO(n,t){return!!TO(n,t)}function kn(n){var t=n;return n.touches&&n.touches.length&&(t=n.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Gg=5,CO=250,Xm=(function(){function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.global,i=r===void 0?!1:r,s=e.longPressThreshold,a=s===void 0?250:s,o=e.validContainers,l=o===void 0?[]:o;ht(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=a,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=gt("touchmove",function(){},window),this._removeKeyDownListener=gt("keydown",this._keyListener),this._removeKeyUpListener=gt("keyup",this._keyListener),this._removeDropFromOutsideListener=gt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=gt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return ft(n,[{key:"on",value:function(e,r){var i=this._listeners[e]||(this._listeners[e]=[]);return i.push(r),{remove:function(){var a=i.indexOf(r);a!==-1&&i.splice(a,1)}}}},{key:"emit",value:function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var a,o=this._listeners[e]||[];return o.forEach(function(l){a===void 0&&(a=l.apply(void 0,i))}),a}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var r=this._selectRect;return!r||!this.selecting?!1:Xg(r,Je(e))}},{key:"filter",value:function(e){var r=this._selectRect;return!r||!this.selecting?[]:e.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(e,r){var i=this,s=null,a=null,o=null,l=function(h){s=setTimeout(function(){u(),e(h)},i.longPressThreshold),a=gt("touchmove",function(){return u()}),o=gt("touchend",function(){return u()})},c=gt("touchstart",l),u=function(){s&&clearTimeout(s),a&&a(),o&&o(),s=null,a=null,o=null};return r&&l(r),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var e=this,r=gt("mousedown",function(s){e._removeInitialEventListener(),e._handleInitialEvent(s),e._removeInitialEventListener=gt("mousedown",e._handleInitialEvent)}),i=gt("touchstart",function(s){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(e){var r=kn(e),i=r.pageX,s=r.pageY,a=r.clientX,o=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:a,clientY:o}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var r=kn(e),i=r.pageX,s=r.pageY,a=r.clientX,o=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:a,clientY:o}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var r=kn(e),i=r.clientX,s=r.clientY,a=r.pageX,o=r.pageY,l=this.container(),c,u;if(!(e.which===3||e.button===2||!EO(l,i,s))){if(!this.globalMouse&&l&&!fr(l,e.target)){var f=kO(0),h=f.top,d=f.left,g=f.bottom,p=f.right;if(u=Je(l),c=Xg({top:u.top-h,left:u.left-d,bottom:u.bottom+g,right:u.right+p},{top:o,left:a}),!c)return}var v=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:a,y:o,clientX:i,clientY:s});if(v!==!1)switch(e.type){case"mousedown":this._removeEndListener=gt("mouseup",this._handleTerminatingEvent),this._onEscListener=gt("keydown",this._handleTerminatingEvent),this._removeMoveListener=gt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=gt("touchend",this._handleTerminatingEvent),this._removeMoveListener=gt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(e){var r=e.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(e){var r=this.selecting,i=this._selectRect;if(!r&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!e){var s=!this.container||fr(this.container(),e.target),a=this._isWithinValidContainer(e);return e.key==="Escape"||!a?this.emit("reset"):!r&&s?this._handleClickEvent(e):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var r=kn(e),i=r.pageX,s=r.pageY,a=r.clientX,o=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<CO?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:a,clientY:o})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:a,clientY:o}))}},{key:"_handleMoveEvent",value:function(e){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,a=kn(e),o=a.pageX,l=a.pageY,c=Math.abs(i-o),u=Math.abs(s-l),f=Math.min(o,i),h=Math.min(l,s),d=this.selecting,g=this.isClick(o,l);g&&!d&&!(c||u)||(!d&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:h,left:f,x:o,y:l,right:f+c,bottom:h+u},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,r){var i=this._initialEventData,s=i.x,a=i.y,o=i.isTouch;return!o&&Math.abs(e-s)<=Gg&&Math.abs(r-a)<=Gg}}])})();function kO(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return pc(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function Xg(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Je(n),i=r.top,s=r.left,a=r.right,o=a===void 0?s:a,l=r.bottom,c=l===void 0?i:l,u=Je(t),f=u.top,h=u.left,d=u.right,g=d===void 0?h:d,p=u.bottom,v=p===void 0?f:p;return!(c-e<f||i+e>v||o-e<h||s+e>g)}function Je(n){if(!n.getBoundingClientRect)return n;var t=n.getBoundingClientRect(),e=t.left+Zg("left"),r=t.top+Zg("top");return{top:r,left:e,right:(n.offsetWidth||0)+e,bottom:(n.offsetHeight||0)+r}}function Zg(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var PO=(function(n){function t(e,r){var i;return ht(this,t),i=wt(this,t,[e,r]),i.state={selecting:!1},i.containerRef=$.createRef(),i}return xt(t,n),ft(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,a=r.getters,o=r.date,l=r.components.dateCellWrapper,c=r.localizer,u=this.state,f=u.selecting,h=u.startIdx,d=u.endIdx,g=s();return D.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(p,v){var m=f&&v>=h&&v<=d,b=a.dayProp(p),x=b.className,y=b.style;return D.createElement(l,{key:v,value:p,range:i},D.createElement("div",{style:y,className:at("rbc-day-bg",x,m&&"rbc-selected-cell",c.isSameDate(p,g)&&"rbc-today",o&&c.neq(o,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new Xm(this.props.container,{longPressThreshold:this.props.longPressThreshold}),a=function(l,c){if(!_i(i,l)&&!AO(i,l)){var u=Je(i),f=r.props,h=f.range,d=f.rtl;if(wO(u,l)){var g=Km(u,l.x,d,h.length);r._selectSlot({startIdx:g,endIdx:g,action:c,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(o){var l=r.props,c=l.range,u=l.rtl,f=-1,h=-1;if(r.state.selecting||(it(r.props.onSelectStart,[o]),r._initial={x:o.x,y:o.y}),s.isSelected(i)){var d=Je(i),g=SO(r._initial,d,o,c.length,u);f=g.startIdx,h=g.endIdx}r.setState({selecting:!0,startIdx:f,endIdx:h})}),s.on("beforeSelect",function(o){if(r.props.selectable==="ignoreEvents")return!_i(r.containerRef.current,o)}),s.on("click",function(o){return a(o,"click")}),s.on("doubleClick",function(o){return a(o,"doubleClick")}),s.on("select",function(o){r._selectSlot(et(et({},r.state),{},{action:"select",bounds:o})),r._initial={},r.setState({selecting:!1}),it(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,a=r.action,o=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:a,bounds:o,box:l,resourceId:this.props.resourceId})}}])})(D.Component),Pt={propTypes:{slotMetrics:I.object.isRequired,selected:I.object,isAllDay:I.bool,accessors:I.object.isRequired,localizer:I.object.isRequired,components:I.object.isRequired,getters:I.object.isRequired,onSelect:I.func,onDoubleClick:I.func,onKeyPress:I.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,e){var r=t.selected;t.isAllDay;var i=t.accessors,s=t.getters,a=t.onSelect,o=t.onDoubleClick,l=t.onKeyPress,c=t.localizer,u=t.slotMetrics,f=t.components,h=t.resizable,d=u.continuesPrior(e),g=u.continuesAfter(e);return D.createElement(Ym,{event:e,getters:s,localizer:c,accessors:i,components:f,onSelect:a,onDoubleClick:o,onKeyPress:l,continuesPrior:d,continuesAfter:g,slotStart:u.first,slotEnd:u.last,selected:Wi(e,r),resizable:h})},renderSpan:function(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(e)/t*100+"%";return D.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},Zm=(function(n){function t(){return ht(this,t),wt(this,t,arguments)}return xt(t,n),ft(t,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,a=i.slotMetrics.slots,o=i.className,l=1;return D.createElement("div",{className:at(o,"rbc-row")},s.reduce(function(c,u,f){var h=u.event,d=u.left,g=u.right,p=u.span,v="_lvl_"+f,m=d-l,b=Pt.renderEvent(r.props,h);return m&&c.push(Pt.renderSpan(a,m,"".concat(v,"_gap"))),c.push(Pt.renderSpan(a,p,v,b)),l=g+1,c},[]))}}])})(D.Component);Zm.defaultProps=et({},Pt.defaultProps);function Jm(n){var t=n.dateRange,e=n.unit,r=e===void 0?"day":e,i=n.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function IO(n,t,e,r){var i=Jm({dateRange:t,localizer:r}),s=i.first,a=i.last,o=r.diff(s,a,"day"),l=r.max(r.startOf(e.start(n),"day"),s),c=r.min(r.ceil(e.end(n),"day"),a),u=CM(t,function(h){return r.isSameDate(h,l)}),f=r.diff(l,c,"day");return f=Math.min(f,o),f=Math.max(f-r.segmentOffset,1),{event:n,span:f,left:u+1,right:Math.max(u+f,1)}}function uc(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,e,r,i,s=[],a=[];for(e=0;e<n.length;e++){for(i=n[e],r=0;r<s.length&&LO(i,s[r]);r++);r>=t?a.push(i):(s[r]||(s[r]=[])).push(i)}for(e=0;e<s.length;e++)s[e].sort(function(o,l){return o.left-l.left});return{levels:s,extra:a}}function hr(n,t,e,r,i){var s={start:r.start(n),end:r.end(n)},a={start:t,end:e};return i.inEventRange({event:s,range:a})}function LO(n,t){return t.some(function(e){return e.left<=n.right&&e.right>=n.left})}function FO(n,t,e){var r=Ur(n),i=[],s=[];r.forEach(function(l){var c=t.start(l),u=t.end(l);e.daySpan(c,u)>1?i.push(l):s.push(l)});var a=i.sort(function(l,c){return fc(l,c,t,e)}),o=s.sort(function(l,c){return fc(l,c,t,e)});return[].concat(Ur(a),Ur(o))}function fc(n,t,e,r){var i={start:e.start(n),end:e.end(n),allDay:e.allDay(n)},s={start:e.start(t),end:e.end(t),allDay:e.allDay(t)};return r.sortEvents({evtA:i,evtB:s})}var hc=function(t,e){return t.left<=e&&t.right>=e},jl=function(t,e){return t.filter(function(r){return hc(r,e)}).map(function(r){return r.event})},Qm=(function(n){function t(){return ht(this,t),wt(this,t,arguments)}return xt(t,n),ft(t,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,a=uc(i).levels[0],o=1,l=1,c=[];o<=s;){var u="_lvl_"+o,f=a.filter(function(y){return hc(y,o)})[0]||{},h=f.event,d=f.left,g=f.right,p=f.span;if(!h){var v=this.getHiddenEventsForSlot(i,o);if(v.length>0){var m=o-l;m&&c.push(Pt.renderSpan(s,m,u+"_gap")),c.push(Pt.renderSpan(s,1,u,this.renderShowMore(i,o))),l=o=o+1;continue}o++;continue}var b=Math.max(0,d-l);if(this.canRenderSlotEvent(d,p)){var x=Pt.renderEvent(this.props,h);b&&c.push(Pt.renderSpan(s,b,u+"_gap")),c.push(Pt.renderSpan(s,p,u,x)),l=o=g+1}else b&&c.push(Pt.renderSpan(s,b,u+"_gap")),c.push(Pt.renderSpan(s,1,u,this.renderShowMore(i,o))),l=o=o+1}return D.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(r,i){var s=jl(r,i),a=uc(r).levels[0],o=a.filter(function(l){return hc(l,i)}).map(function(l){return l.event});return s.filter(function(l){return!o.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return FM(r,r+i).every(function(a){var o=jl(s,a).length;return o===1})}},{key:"renderShowMore",value:function(r,i){var s=this,a=this.props,o=a.localizer,l=a.slotMetrics,c=a.components,u=l.getEventsForSlot(i),f=jl(r,i),h=f.length;if(c!=null&&c.showMore){var d=c.showMore,g=l.getDateForSlot(i-1);return h?D.createElement(d,{localizer:o,slotDate:g,slot:i,count:h,events:u,remainingEvents:f}):!1}return h?D.createElement("button",{type:"button",key:"sm_"+i,className:at("rbc-button-link","rbc-show-more"),onClick:function(v){return s.showMore(i,v)}},o.messages.showMore(h,f,u)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])})(D.Component);Qm.defaultProps=et({},Pt.defaultProps);var qO=function(t){var e=t.children;return D.createElement("div",{className:"rbc-row-content-scroll-container"},e)},NO=function(t,e){return t.left<=e&&t.right>=e},zO=function(t,e){return t[0].range===e[0].range&&t[0].events===e[0].events};function tb(){return ev(function(n){for(var t=n.range,e=n.events,r=n.maxRows,i=n.minRows,s=n.accessors,a=n.localizer,o=Jm({dateRange:t,localizer:a}),l=o.first,c=o.last,u=e.map(function(p){return IO(p,t,s,a)}),f=uc(u,Math.max(r-1,1)),h=f.levels,d=f.extra,g=d.length>0?i-1:i;h.length<g;)h.push([]);return{first:l,last:c,levels:h,extra:d,range:t,slots:t.length,clone:function(v){var m=tb();return m(et(et({},n),v))},getDateForSlot:function(v){return t[v]},getSlotForDate:function(v){return t.find(function(m){return a.isSameDate(m,v)})},getEventsForSlot:function(v){return u.filter(function(m){return NO(m,v)}).map(function(m){return m.event})},continuesPrior:function(v){return a.continuesPrior(s.start(v),l)},continuesAfter:function(v){var m=s.start(v),b=s.end(v);return a.continuesAfter(m,b,c)}}},zO)}var dr=(function(n){function t(){var e;ht(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=wt(this,t,[].concat(i)),e.handleSelectSlot=function(a){var o=e.props,l=o.range,c=o.onSelectSlot;c(l.slice(a.start,a.end+1),a)},e.handleShowMore=function(a,o){var l=e.props,c=l.range,u=l.onShowMore,f=e.slotMetrics(e.props),h=YS(e.containerRef.current,".rbc-row-bg")[0],d;h&&(d=h.children[a-1]);var g=f.getEventsForSlot(a);u(g,c[a-1],d,a,o)},e.getContainer=function(){var a=e.props.container;return a?a():e.containerRef.current},e.renderHeadingCell=function(a,o){var l=e.props,c=l.renderHeader,u=l.getNow,f=l.localizer;return c({date:a,key:"header_".concat(o),className:at("rbc-date-cell",f.isSameDate(a,u())&&"rbc-now")})},e.renderDummy=function(){var a=e.props,o=a.className,l=a.range,c=a.renderHeader,u=a.showAllEvents;return D.createElement("div",{className:o,ref:e.containerRef},D.createElement("div",{className:at("rbc-row-content",u&&"rbc-row-content-scrollable")},c&&D.createElement("div",{className:"rbc-row",ref:e.headingRowRef},l.map(e.renderHeadingCell)),D.createElement("div",{className:"rbc-row",ref:e.eventRowRef},D.createElement("div",{className:"rbc-row-segment"},D.createElement("div",{className:"rbc-event"},D.createElement("div",{className:"rbc-event-content"},""))))))},e.containerRef=$.createRef(),e.headingRowRef=$.createRef(),e.eventRowRef=$.createRef(),e.slotMetrics=tb(),e}return xt(t,n),ft(t,[{key:"getRowLimit",value:function(){var r,i=io(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?io(this.headingRowRef.current):0,a=io(this.containerRef.current)-s;return Math.max(Math.floor(a/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,a=r.range,o=r.className,l=r.selected,c=r.selectable,u=r.renderForMeasure,f=r.accessors,h=r.getters,d=r.components,g=r.getNow,p=r.renderHeader,v=r.onSelect,m=r.localizer,b=r.onSelectStart,x=r.onSelectEnd,y=r.onDoubleClick,_=r.onKeyPress,w=r.resourceId,S=r.longPressThreshold,M=r.isAllDay,O=r.resizable,R=r.showAllEvents;if(u)return this.renderDummy();var E=this.slotMetrics(this.props),T=E.levels,A=E.extra,N=R?qO:Yt,q=d.weekWrapper,L={selected:l,accessors:f,getters:h,localizer:m,components:d,onSelect:v,onDoubleClick:y,onKeyPress:_,resourceId:w,slotMetrics:E,resizable:O};return D.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},D.createElement(PO,{localizer:m,date:i,getNow:g,rtl:s,range:a,selectable:c,container:this.getContainer,getters:h,onSelectStart:b,onSelectEnd:x,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:S,resourceId:w}),D.createElement("div",{className:at("rbc-row-content",R&&"rbc-row-content-scrollable"),role:"row"},p&&D.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},a.map(this.renderHeadingCell)),D.createElement(N,null,D.createElement(q,Object.assign({isAllDay:M},L,{rtl:this.props.rtl}),T.map(function(H,Y){return D.createElement(Zm,Object.assign({key:Y,segments:H},L))}),!!A.length&&D.createElement(Qm,Object.assign({segments:A,onShowMore:this.handleShowMore},L))))))}}])})(D.Component);dr.defaultProps={minRows:0,maxRows:1/0};var hu=function(t){var e=t.label;return D.createElement("span",{role:"columnheader","aria-sort":"none"},e)},BO=function(t){var e=t.label,r=t.drilldownView,i=t.onDrillDown;return r?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},e):D.createElement("span",null,e)},$O=["date","className"],HO=function(t,e,r,i,s){return t.filter(function(a){return hr(a,e,r,i,s)})},Vi=(function(n){function t(){var e;ht(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=wt(this,t,[].concat(i)),e.getContainer=function(){return e.containerRef.current},e.renderWeek=function(a,o){var l=e.props,c=l.events,u=l.components,f=l.selectable,h=l.getNow,d=l.selected,g=l.date,p=l.localizer,v=l.longPressThreshold,m=l.accessors,b=l.getters,x=l.showAllEvents,y=e.state,_=y.needLimitMeasure,w=y.rowLimit,S=HO(Ur(c),a[0],a[a.length-1],m,p),M=FO(S,m,p);return D.createElement(dr,{key:o,ref:o===0?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:h,date:g,range:a,events:M,maxRows:x?1/0:w,selected:d,selectable:f,components:u,accessors:m,getters:b,localizer:p,renderHeader:e.readerDateHeading,renderForMeasure:_,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:v,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:x})},e.readerDateHeading=function(a){var o=a.date,l=a.className,c=Xt(a,$O),u=e.props,f=u.date,h=u.getDrilldownView,d=u.localizer,g=d.neq(f,o,"month"),p=d.isSameDate(o,f),v=h(o),m=d.format(o,"dateFormat"),b=e.props.components.dateHeader||BO;return D.createElement("div",Object.assign({},c,{className:at(l,g&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),D.createElement(b,{label:m,date:o,drilldownView:v,isOffRange:g,onDrillDown:function(y){return e.handleHeadingClick(o,v,y)}}))},e.handleSelectSlot=function(a,o){e._pendingSelection=e._pendingSelection.concat(a),clearTimeout(e._selectTimer),e._selectTimer=setTimeout(function(){return e.selectDates(o)})},e.handleHeadingClick=function(a,o,l){l.preventDefault(),e.clearSelection(),it(e.props.onDrillDown,[a,o])},e.handleSelectEvent=function(){e.clearSelection();for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];it(e.props.onSelectEvent,o)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];it(e.props.onDoubleClickEvent,o)},e.handleKeyPressEvent=function(){e.clearSelection();for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];it(e.props.onKeyPressEvent,o)},e.handleShowMore=function(a,o,l,c,u){var f=e.props,h=f.popup,d=f.onDrillDown,g=f.onShowMore,p=f.getDrilldownView,v=f.doShowMoreDrillDown;if(e.clearSelection(),h){var m=_m(l,e.containerRef.current);e.setState({overlay:{date:o,events:a,position:m,target:u}})}else v&&it(d,[o,p(o)||St.DAY]);it(g,[a,o,c])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=$.createRef(),e.slotRowRef=$.createRef(),e._bgRows=[],e._pendingSelection=[],e}return xt(t,n),ft(t,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||xm(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,a=r.className,o=s.visibleDays(i,s),l=AS(o,7);return this._weekCount=l.length,D.createElement("div",{className:at("rbc-month-view",a),role:"table","aria-label":"Month View",ref:this.containerRef},D.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,a=i.components,o=r[0],l=r[r.length-1],c=a.header||hu;return s.range(o,l,"day").map(function(u,f){return D.createElement("div",{key:"header_"+f,className:"rbc-header"},D.createElement(c,{date:u,localizer:s,label:s.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,a=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},o=this.props,l=o.accessors,c=o.localizer,u=o.components,f=o.getters,h=o.selected,d=o.popupOffset,g=o.handleDragStart,p=function(){return s.setState({overlay:null})};return D.createElement(fu,{overlay:a,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(o,l){return+o-+l});var s=new Date(i[0]),a=new Date(i[i.length-1]);a.setDate(i[i.length-1].getDate()+1),it(this.props.onSelectSlot,{slots:i,start:s,end:a,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,a=r.localizer;return{date:s,needLimitMeasure:a.neq(s,i.date,"month")}}}])})(D.Component);Vi.range=function(n,t){var e=t.localizer,r=e.firstVisibleDay(n,e),i=e.lastVisibleDay(n,e);return{start:r,end:i}};Vi.navigate=function(n,t,e){var r=e.localizer;switch(t){case Rt.PREVIOUS:return r.add(n,-1,"month");case Rt.NEXT:return r.add(n,1,"month");default:return n}};Vi.title=function(n,t){var e=t.localizer;return e.format(n,"monthHeaderFormat")};var Jg=function(t){var e=t.min,r=t.max,i=t.step,s=t.slots,a=t.localizer;return"".concat(+a.startOf(e,"minutes"))+"".concat(+a.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function du(n){for(var t=n.min,e=n.max,r=n.step,i=n.timeslots,s=n.localizer,a=Jg({step:r,localizer:s}),o=1+s.getTotalMin(t,e),l=s.getMinutesFromMidnight(t),c=Math.ceil((o-1)/(r*i)),u=c*i,f=new Array(c),h=new Array(u),d=0;d<c;d++){f[d]=new Array(i);for(var g=0;g<i;g++){var p=d*i+g,v=p*r;h[p]=f[d][g]=s.getSlotDate(t,l,v)}}var m=h.length*r;h.push(s.getSlotDate(t,l,m));function b(x){var y=s.diff(t,x,"minutes")+s.getDstOffset(t,x);return Math.min(y,o)}return{groups:f,update:function(y){return Jg(y)!==a?du(y):this},dateIsInGroup:function(y,_){var w=f[_+1];return s.inRange(y,f[_][0],w?w[0]:e,"minutes")},nextSlot:function(y){var _=h[Math.min(h.findIndex(function(w){return w===y||s.eq(w,y)})+1,h.length-1)];return s.eq(_,y)&&(_=s.add(y,r,"minutes")),_},closestSlotToPosition:function(y){var _=Math.min(h.length-1,Math.max(0,Math.floor(y*u)));return h[_]},closestSlotFromPoint:function(y,_){var w=Math.abs(_.top-_.bottom);return this.closestSlotToPosition((y.y-_.top)/w)},closestSlotFromDate:function(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(y,t,"minutes"))return h[0];if(s.gt(y,e,"minutes"))return h[h.length-1];var w=s.diff(t,y,"minutes");return h[(w-w%r)/r+_]},startsBeforeDay:function(y){return s.lt(y,t,"day")},startsAfterDay:function(y){return s.gt(y,e,"day")},startsBefore:function(y){return s.lt(s.merge(t,y),t,"minutes")},startsAfter:function(y){return s.gt(s.merge(e,y),e,"minutes")},getRange:function(y,_,w,S){w||(y=s.min(e,s.max(t,y))),S||(_=s.min(e,s.max(t,_)));var M=b(y),O=b(_),R=O>r*u&&!s.eq(e,_)?(M-r)/(r*u)*100:M/(r*u)*100;return{top:R,height:O/(r*u)*100-R,start:b(y),startDate:y,end:b(_),endDate:_}},getCurrentTimePosition:function(y){var _=b(y),w=_/(r*u)*100;return w}}}var jO=(function(){function n(t,e){var r=e.accessors,i=e.slotMetrics;ht(this,n);var s=i.getRange(r.start(t),r.end(t)),a=s.start,o=s.startDate,l=s.end,c=s.endDate,u=s.top,f=s.height;this.start=a,this.end=l,this.startMs=+o,this.endMs=+c,this.top=u,this.height=f,this.data=t}return ft(n,[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/e}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var e=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:e;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?e:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,r=e.leaves,i=e.xOffset,s=e._width,a=r.indexOf(this)+1;return i+a*s}}])})();function WO(n,t,e){return Math.abs(t.start-n.start)<e||t.start>n.start&&t.start<n.end}function VO(n){for(var t=QM(n,["startMs",function(o){return-o.endMs}]),e=[];t.length>0;){var r=t.shift();e.push(r);for(var i=0;i<t.length;i++){var s=t[i];if(!(r.endMs>s.startMs)){if(i>0){var a=t.splice(i,1)[0];e.push(a)}break}}}return e}function eb(n){for(var t=n.events,e=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,s=t.map(function(u){return new jO(u,{slotMetrics:r,accessors:i})}),a=VO(s),o=[],l=function(){var f=a[c],h=o.find(function(p){return p.end>f.start||Math.abs(f.start-p.start)<e});if(!h)return f.rows=[],o.push(f),1;f.container=h;for(var d=null,g=h.rows.length-1;!d&&g>=0;g--)WO(h.rows[g],f,e)&&(d=h.rows[g]);d?(d.leaves.push(f),f.row=d):(f.leaves=[],h.rows.push(f))},c=0;c<a.length;c++)l();return a.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function nb(n,t,e){for(var r=0;r<n.friends.length;++r)if(!(e.indexOf(n.friends[r])>-1)){t=t>n.friends[r].idx?t:n.friends[r].idx,e.push(n.friends[r]);var i=nb(n.friends[r],t,e);t=t>i?t:i}return t}function YO(n){var t=n.events,e=n.minimumStartDifference,r=n.slotMetrics,i=n.accessors,s=eb({events:t,minimumStartDifference:e,slotMetrics:r,accessors:i});s.sort(function(q,L){return q=q.style,L=L.style,q.top!==L.top?q.top>L.top?1:-1:q.height!==L.height?q.top+q.height<L.top+L.height?1:-1:0});for(var a=0;a<s.length;++a)s[a].friends=[],delete s[a].style.left,delete s[a].style.left,delete s[a].idx,delete s[a].size;for(var o=0;o<s.length-1;++o)for(var l=s[o],c=l.style.top,u=l.style.top+l.style.height,f=o+1;f<s.length;++f){var h=s[f],d=h.style.top,g=h.style.top+h.style.height;(d>=c&&g<=u||g>c&&g<=u||d>=c&&d<u)&&(l.friends.push(h),h.friends.push(l))}for(var p=0;p<s.length;++p){for(var v=s[p],m=[],b=0;b<100;++b)m.push(1);for(var x=0;x<v.friends.length;++x)v.friends[x].idx!==void 0&&(m[v.friends[x].idx]=0);v.idx=m.indexOf(1)}for(var y=0;y<s.length;++y){var _=0;if(!s[y].size){var w=[],S=nb(s[y],0,w);_=100/(S+1),s[y].size=_;for(var M=0;M<w.length;++M)w[M].size=_}}for(var O=0;O<s.length;++O){var R=s[O];R.style.left=R.idx*R.size;for(var E=0,T=0;T<R.friends.length;++T){var A=R.friends[T].idx;E=E>A?E:A}E<=R.idx&&(R.size=100-R.idx*R.size);var N=R.idx===0?0:3;R.style.width="calc(".concat(R.size,"% - ").concat(N,"px)"),R.style.height="calc(".concat(R.style.height,"% - 2px)"),R.style.xOffset="calc(".concat(R.style.left,"% + ").concat(N,"px)")}return s}var Qg={overlap:eb,"no-overlap":YO};function UO(n){return!!(n&&n.constructor&&n.call&&n.apply)}function KO(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var t=n.dayLayoutAlgorithm,e=t;return t in Qg&&(e=Qg[t]),UO(e)?e.apply(this,arguments):[]}var rb=(function(n){function t(){return ht(this,t),wt(this,t,arguments)}return xt(t,n),ft(t,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,a=r.group,o=r.getters,l=r.components,c=l===void 0?{}:l,u=c.timeSlotWrapper,f=u===void 0?Yt:u,h=o?o.slotGroupProp(a):{};return D.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),a.map(function(d,g){var p=o?o.slotProp(d,s):{};return D.createElement(f,{key:g,value:d,resource:s},D.createElement("div",Object.assign({},p,{className:at("rbc-time-slot",p.className)}),i&&i(d,g)))}))}}])})($.Component);function Vr(n){return typeof n=="string"?n:n+"%"}function GO(n){var t=n.style,e=n.className,r=n.event,i=n.accessors,s=n.rtl,a=n.selected,o=n.label,l=n.continuesPrior,c=n.continuesAfter,u=n.getters,f=n.onClick,h=n.onDoubleClick,d=n.isBackgroundEvent,g=n.onKeyPress,p=n.components,v=p.event,m=p.eventWrapper,b=i.title(r),x=i.tooltip(r),y=i.end(r),_=i.start(r),w=u.eventProp(r,_,y,a),S=[D.createElement("div",{key:"1",className:"rbc-event-label"},o),D.createElement("div",{key:"2",className:"rbc-event-content"},v?D.createElement(v,{event:r,title:b}):b)],M=t.height,O=t.top,R=t.width,E=t.xOffset,T=et(et({},w.style),{},sn({top:Vr(O),height:Vr(M),width:Vr(R)},s?"right":"left",Vr(E)));return D.createElement(m,Object.assign({type:"time"},n),D.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:T,onKeyDown:g,title:x?(typeof o=="string"?o+": ":"")+x:void 0,className:at(d?"rbc-background-event":"rbc-event",e,w.className,{"rbc-selected":a,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},S))}var XO=function(t){var e=t.children,r=t.className,i=t.style,s=t.innerRef;return D.createElement("div",{className:r,style:i,ref:s},e)},ZO=D.forwardRef(function(n,t){return D.createElement(XO,Object.assign({},n,{innerRef:t}))}),JO=["dayProp"],QO=["eventContainerWrapper","timeIndicatorWrapper"],ib=(function(n){function t(){var e;ht(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=wt(this,t,[].concat(i)),e.state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(a){var o=a.events,l=a.isBackgroundEvent,c=e.props,u=c.rtl,f=c.selected,h=c.accessors,d=c.localizer,g=c.getters,p=c.components,v=c.step,m=c.timeslots,b=c.dayLayoutAlgorithm,x=c.resizable,y=e,_=y.slotMetrics,w=d.messages,S=KO({events:o,accessors:h,slotMetrics:_,minimumStartDifference:Math.ceil(v*m/2),dayLayoutAlgorithm:b});return S.map(function(M,O){var R,E=M.event,T=M.style,A=h.end(E),N=h.start(E),q=(R=h.eventId(E))!==null&&R!==void 0?R:"evt_"+O,L="eventTimeRangeFormat",H,Y=_.startsBeforeDay(N),W=_.startsAfterDay(A);Y?L="eventTimeRangeEndFormat":W&&(L="eventTimeRangeStartFormat"),Y&&W?H=w.allDay:H=d.format({start:N,end:A},L);var nt=Y||_.startsBefore(N),C=W||_.startsAfter(A);return D.createElement(GO,{style:T,event:E,label:H,key:q,getters:g,rtl:u,components:p,continuesPrior:nt,continuesAfter:C,accessors:h,resource:e.props.resource,selected:Wi(E,f),onClick:function(P){return e._select(et(et(et({},E),e.props.resource&&{sourceResource:e.props.resource}),l&&{isBackgroundEvent:!0}),P)},onDoubleClick:function(P){return e._doubleClick(E,P)},isBackgroundEvent:l,onKeyPress:function(P){return e._keyPress(E,P)},resizable:x})})},e._selectable=function(){var a=e.containerRef.current,o=e.props,l=o.longPressThreshold,c=o.localizer,u=e._selector=new Xm(function(){return a},{longPressThreshold:l}),f=function(p){var v=e.props.onSelecting,m=e.state||{},b=h(p),x=b.startDate,y=b.endDate;v&&(c.eq(m.startDate,x,"minutes")&&c.eq(m.endDate,y,"minutes")||v({start:x,end:y,resourceId:e.props.resource})===!1)||(e.state.start!==b.start||e.state.end!==b.end||e.state.selecting!==b.selecting)&&e.setState(b)},h=function(p){var v=e.slotMetrics.closestSlotFromPoint(p,Je(a));e.state.selecting||(e._initialSlot=v);var m=e._initialSlot;c.lte(m,v)?v=e.slotMetrics.nextSlot(v):c.gt(m,v)&&(m=e.slotMetrics.nextSlot(m));var b=e.slotMetrics.getRange(c.min(m,v),c.max(m,v));return et(et({},b),{},{selecting:!0,top:"".concat(b.top,"%"),height:"".concat(b.height,"%")})},d=function(p,v){if(!_i(e.containerRef.current,p)){var m=h(p),b=m.startDate,x=m.endDate;e._selectSlot({startDate:b,endDate:x,action:v,box:p})}e.setState({selecting:!1})};u.on("selecting",f),u.on("selectStart",f),u.on("beforeSelect",function(g){if(e.props.selectable==="ignoreEvents")return!_i(e.containerRef.current,g)}),u.on("click",function(g){return d(g,"click")}),u.on("doubleClick",function(g){return d(g,"doubleClick")}),u.on("select",function(g){e.state.selecting&&(e._selectSlot(et(et({},e.state),{},{action:"select",bounds:g})),e.setState({selecting:!1}))}),u.on("reset",function(){e.state.selecting&&e.setState({selecting:!1})})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(a){for(var o=a.startDate,l=a.endDate,c=a.action,u=a.bounds,f=a.box,h=o,d=[];e.props.localizer.lte(h,l);)d.push(h),h=new Date(+h+e.props.step*60*1e3);it(e.props.onSelectSlot,{slots:d,start:o,end:l,resourceId:e.props.resource,action:c,bounds:u,box:f})},e._select=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];it(e.props.onSelectEvent,o)},e._doubleClick=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];it(e.props.onDoubleClickEvent,o)},e._keyPress=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];it(e.props.onKeyPressEvent,o)},e.slotMetrics=du(e.props),e.containerRef=$.createRef(),e}return xt(t,n),ft(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,a=s.getNow,o=s.isNow,l=s.localizer,c=s.date,u=s.min,f=s.max,h=l.neq(r.getNow(),a(),"minutes");if(r.isNow!==o||h){if(this.clearTimeIndicatorInterval(),o){var d=!h&&l.eq(r.date,c,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(d)}}else o&&(l.neq(r.min,u,"minutes")||l.neq(r.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,a=r.getNow,o=a();if(o>=i&&o<=s){var l=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,a=r.rtl,o=r.isNow,l=r.resource,c=r.accessors,u=r.localizer,f=r.getters,h=f.dayProp,d=Xt(f,JO),g=r.components,p=g.eventContainerWrapper,v=g.timeIndicatorWrapper,m=Xt(g,QO);this.slotMetrics=this.slotMetrics.update(this.props);var b=this.slotMetrics,x=this.state,y=x.selecting,_=x.top,w=x.height,S=x.startDate,M=x.endDate,O={start:S,end:M},R=h(s,l),E=R.className,T=R.style,A={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},N=m.dayColumnWrapper||ZO;return D.createElement(N,{ref:this.containerRef,date:i,style:T,className:at(E,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",y&&"rbc-slot-selecting"),slotMetrics:b,resource:l},b.groups.map(function(q,L){return D.createElement(rb,{key:L,group:q,resource:l,getters:d,components:m})}),D.createElement(p,{localizer:u,resource:l,accessors:c,getters:d,components:m,slotMetrics:b},D.createElement("div",{className:at("rbc-events-container",a&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),y&&D.createElement("div",{className:"rbc-slot-selection",style:{top:_,height:w}},D.createElement("span",null,u.format(O,"selectRangeFormat"))),o&&this.intervalTriggered&&D.createElement(v,A,D.createElement("div",A)))}}])})(D.Component);ib.defaultProps={dragThroughEvents:!0,timeslots:2};var sb=function(t){var e=t.label;return D.createElement(D.Fragment,null,e)},tE=(function(n){function t(){var e;ht(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=wt(this,t,[].concat(i)),e.handleHeaderClick=function(a,o,l){l.preventDefault(),it(e.props.onDrillDown,[a,o])},e.renderRow=function(a){var o=e.props,l=o.events,c=o.rtl,u=o.selectable,f=o.getNow,h=o.range,d=o.getters,g=o.localizer,p=o.accessors,v=o.components,m=o.resizable,b=p.resourceId(a),x=a?l.filter(function(y){return p.resource(y)===b}):l;return D.createElement(dr,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:e.props.allDayMaxRows+1,range:h,events:x,resourceId:b,className:"rbc-allday-cell",selectable:u,selected:e.props.selected,components:v,accessors:p,getters:d,localizer:g,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:m})},e}return xt(t,n),ft(t,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,a=s.localizer,o=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,u=s.components.header,f=u===void 0?hu:u,h=l();return r.map(function(d,g){var p=o(d),v=a.format(d,"dayFormat"),m=c(d),b=m.className,x=m.style,y=D.createElement(f,{date:d,label:v,localizer:a});return D.createElement("div",{key:g,style:x,className:at("rbc-header",b,a.isSameDate(d,h)&&"rbc-today")},p?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(w){return i.handleHeaderClick(d,p,w)}},y):D.createElement("span",null,y))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,a=i.rtl,o=i.resources,l=i.range,c=i.events,u=i.getNow,f=i.accessors,h=i.selectable,d=i.components,g=i.getters,p=i.scrollRef,v=i.localizer,m=i.isOverflowing,b=i.components,x=b.timeGutterHeader,y=b.resourceHeader,_=y===void 0?sb:y,w=i.resizable,S={};m&&(S[a?"marginLeft":"marginRight"]="".concat(Yc()-1,"px"));var M=o.groupEvents(c);return D.createElement("div",{style:S,ref:p,className:at("rbc-time-header",m&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},x&&D.createElement(x,null)),o.map(function(O,R){var E=It(O,2),T=E[0],A=E[1];return D.createElement("div",{className:"rbc-time-header-content",key:T||R},A&&D.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(R)},D.createElement("div",{className:"rbc-header"},D.createElement(_,{index:R,label:f.resourceTitle(A),resource:A}))),D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),D.createElement(dr,{isAllDay:!0,rtl:a,getNow:u,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:M.get(T)||[],resourceId:A&&T,className:"rbc-allday-cell",selectable:h,selected:r.props.selected,components:d,accessors:f,getters:g,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:w}))}))}}])})(D.Component),eE=(function(n){function t(){var e;ht(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=wt(this,t,[].concat(i)),e.handleHeaderClick=function(a,o,l){l.preventDefault(),it(e.props.onDrillDown,[a,o])},e}return xt(t,n),ft(t,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,a=s.localizer,o=s.getDrilldownView,l=s.getNow,c=s.getters.dayProp,u=s.components,f=u.header,h=f===void 0?hu:f,d=u.resourceHeader,g=d===void 0?sb:d,p=s.resources,v=s.accessors,m=s.events,b=s.rtl,x=s.selectable,y=s.components,_=s.getters,w=s.resizable,S=l(),M=p.groupEvents(m);return r.map(function(O,R){var E=o(O),T=a.format(O,"dayFormat"),A=c(O),N=A.className,q=A.style,L=D.createElement(h,{date:O,label:T,localizer:a});return D.createElement("div",{key:R,className:"rbc-time-header-content rbc-resource-grouping"},D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},D.createElement("div",{style:q,className:at("rbc-header",N,a.isSameDate(O,S)&&"rbc-today")},E?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(Y){return i.handleHeaderClick(O,E,Y)}},L):D.createElement("span",null,L))),D.createElement("div",{className:"rbc-row"},p.map(function(H,Y){var W=It(H,2),nt=W[0],C=W[1];return D.createElement("div",{key:"resource_".concat(nt,"_").concat(Y),className:at("rbc-header",N,a.isSameDate(O,S)&&"rbc-today")},D.createElement(g,{index:Y,label:v.resourceTitle(C),resource:C}))})),D.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},p.map(function(H,Y){var W=It(H,2),nt=W[0],C=W[1],k=(M.get(nt)||[]).filter(function(P){return a.isSameDate(P.start,O)||a.isSameDate(P.end,O)});return D.createElement(dr,{key:"resource_".concat(nt,"_").concat(Y),isAllDay:!0,rtl:b,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[O],events:k,resourceId:C&&nt,className:"rbc-allday-cell",selectable:x,selected:i.props.selected,components:y,accessors:v,getters:_,localizer:a,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:w})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,s=r.rtl,a=r.range,o=r.scrollRef,l=r.isOverflowing,c=r.components.timeGutterHeader,u={};return l&&(u[s?"marginLeft":"marginRight"]="".concat(Yc()-1,"px")),D.createElement("div",{style:u,ref:o,className:at("rbc-time-header",l&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},c&&D.createElement(c,null)),this.renderHeaderCells(a))}}])})(D.Component);function nE(n){var t=n.min,e=n.max,r=n.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(e)?{start:r.add(t,-1,"day"),end:r.add(e,-1,"day")}:{start:t,end:e}}var rE=function(t){var e=t.min,r=t.max,i=t.timeslots,s=t.step,a=t.localizer,o=t.getNow,l=t.resource,c=t.components,u=t.getters,f=t.gutterRef,h=c.timeGutterWrapper,d=$.useMemo(function(){return nE({min:e,max:r,localizer:a})},[e==null?void 0:e.toISOString(),r==null?void 0:r.toISOString(),a]),g=d.start,p=d.end,v=$.useState(du({min:g,max:p,timeslots:i,step:s,localizer:a})),m=It(v,2),b=m[0],x=m[1];$.useEffect(function(){b&&x(b.update({min:g,max:p,timeslots:i,step:s,localizer:a}))},[g==null?void 0:g.toISOString(),p==null?void 0:p.toISOString(),i,s]);var y=$.useCallback(function(_,w){if(w)return null;var S=b.dateIsInGroup(o(),w);return D.createElement("span",{className:at("rbc-label",S&&"rbc-now")},a.format(_,"timeGutterFormat"))},[b,a,o]);return D.createElement(h,{slotMetrics:b},D.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},b.groups.map(function(_,w){return D.createElement(rb,{key:w,group:_,resource:l,components:c,renderSlot:y,getters:u})})))},iE=D.forwardRef(function(n,t){return D.createElement(rE,Object.assign({gutterRef:t},n))}),Wl={};function sE(n,t){return{map:function(r){return n?n.map(function(i,s){return r([t.resourceId(i),i],s)}):[r([Wl,null],0)]},groupEvents:function(r){var i=new Map;return n?(r.forEach(function(s){var a=t.resource(s)||Wl;if(Array.isArray(a))a.forEach(function(l){var c=i.get(l)||[];c.push(s),i.set(l,c)});else{var o=i.get(a)||[];o.push(s),i.set(a,o)}}),i):(i.set(Wl,r),i)}}}var Sn=(function(n){function t(e){var r;return ht(this,t),r=wt(this,t,[e]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){Dh(r.rafHandle),r.rafHandle=xm(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];it(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];it(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];it(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,a,o,l){var c=r.props,u=c.popup,f=c.onDrillDown,h=c.onShowMore,d=c.getDrilldownView,g=c.doShowMoreDrillDown;if(r.clearSelection(),u){var p=_m(a,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:et(et({},p),{},{width:"200px"}),target:l}})}else g&&it(f,[s,d(s)||St.DAY]);it(h,[i,s,o])},r.handleSelectAllDaySlot=function(i,s){var a=r.props.onSelectSlot,o=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),it(a,{slots:i,start:o,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=ev(function(i,s){return sE(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=D.createRef(),r.contentRef=D.createRef(),r.containerRef=D.createRef(),r._scrollRatio=null,r.gutterRef=$.createRef(),r}return xt(t,n),ft(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Dh(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,s,a,o,l,c,u,f,h){var d=this.props,g=d.min,p=d.max,v=(a.get(i)||[]).filter(function(b){return l.inRange(r,c.start(b),c.end(b),"day")}),m=(o.get(i)||[]).filter(function(b){return l.inRange(r,c.start(b),c.end(b),"day")});return D.createElement(ib,Object.assign({},this.props,{localizer:l,min:l.merge(r,g),max:l.merge(r,p),resource:s&&i,components:u,isNow:l.isSameDate(r,h),key:"".concat(i,"-").concat(r),date:r,events:v,backgroundEvents:m,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(r,i,s,a,o,l,c,u,f){var h=this;return i.map(function(d){var g=It(d,2),p=g[0],v=g[1];return r.map(function(m){return h.renderDayColumn(m,p,v,s,a,o,l,u,f,c)})})}},{key:"renderRangeFirst",value:function(r,i,s,a,o,l,c,u,f){var h=this;return r.map(function(d){return D.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:d},i.map(function(g){var p=It(g,2),v=p[0],m=p[1];return D.createElement("div",{style:{flex:1},key:l.resourceId(m)},h.renderDayColumn(d,v,m,s,a,o,l,u,f,c))}))})}},{key:"renderEvents",value:function(r,i,s,a){var o=this.props,l=o.accessors,c=o.localizer,u=o.resourceGroupingLayout,f=o.components,h=o.dayLayoutAlgorithm,d=this.memoizedResources(this.props.resources,l),g=d.groupEvents(i),p=d.groupEvents(s);return u?this.renderRangeFirst(r,d,g,p,c,l,a,f,h):this.renderResourcesFirst(r,d,g,p,c,l,a,f,h)}},{key:"render",value:function(){var r,i=this.props,s=i.events,a=i.backgroundEvents,o=i.range,l=i.width,c=i.rtl,u=i.selected,f=i.getNow,h=i.resources,d=i.components,g=i.accessors,p=i.getters,v=i.localizer,m=i.min,b=i.max,x=i.showMultiDayTimes,y=i.longPressThreshold,_=i.resizable,w=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var S=o[0],M=o[o.length-1];this.slots=o.length;var O=[],R=[],E=[];s.forEach(function(A){if(hr(A,S,M,g,v)){var N=g.start(A),q=g.end(A);g.allDay(A)||v.startAndEndAreDateOnly(N,q)||!x&&!v.isSameDate(N,q)?O.push(A):R.push(A)}}),a.forEach(function(A){hr(A,S,M,g,v)&&E.push(A)}),O.sort(function(A,N){return fc(A,N,g,v)});var T={range:o,events:O,width:l,rtl:c,getNow:f,localizer:v,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(h,g),selectable:this.props.selectable,accessors:g,getters:p,components:d,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:y,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:_};return D.createElement("div",{className:at("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&w?D.createElement(eE,T):D.createElement(tE,T),this.props.popup&&this.renderOverlay(),D.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},D.createElement(iE,{date:S,ref:this.gutterRef,localizer:v,min:v.merge(S,m),max:v.merge(S,b),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:d,className:"rbc-time-gutter",getters:p}),this.renderEvents(o,R,E,f())))}},{key:"renderOverlay",value:function(){var r,i,s=this,a=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},o=this.props,l=o.accessors,c=o.localizer,u=o.components,f=o.getters,h=o.selected,d=o.popupOffset,g=o.handleDragStart,p=function(){return s.setState({overlay:null})};return D.createElement(fu,{overlay:a,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?lc(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,a=r.scrollToTime,o=r.localizer,l=o.diff(o.merge(a,i),a,"milliseconds"),c=o.diff(i,s,"milliseconds");this._scrollRatio=l/c}}])})($.Component);Sn.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var aE=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Yi=(function(n){function t(){return ht(this,t),wt(this,t,arguments)}return xt(t,n),ft(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,a=r.min,o=a===void 0?s.startOf(new Date,"day"):a,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,u=r.scrollToTime,f=u===void 0?s.startOf(new Date,"day"):u,h=r.enableAutoScroll,d=h===void 0?!0:h,g=Xt(r,aE),p=t.range(i,{localizer:s});return D.createElement(Sn,Object.assign({},g,{range:p,eventOffset:10,localizer:s,min:o,max:c,scrollToTime:f,enableAutoScroll:d}))}}])})(D.Component);Yi.range=function(n,t){var e=t.localizer;return[e.startOf(n,"day")]};Yi.navigate=function(n,t,e){var r=e.localizer;switch(t){case Rt.PREVIOUS:return r.add(n,-1,"day");case Rt.NEXT:return r.add(n,1,"day");default:return n}};Yi.title=function(n,t){var e=t.localizer;return e.format(n,"dayHeaderFormat")};var oE=["date","localizer","min","max","scrollToTime","enableAutoScroll"],De=(function(n){function t(){return ht(this,t),wt(this,t,arguments)}return xt(t,n),ft(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,a=r.min,o=a===void 0?s.startOf(new Date,"day"):a,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,u=r.scrollToTime,f=u===void 0?s.startOf(new Date,"day"):u,h=r.enableAutoScroll,d=h===void 0?!0:h,g=Xt(r,oE),p=t.range(i,this.props);return D.createElement(Sn,Object.assign({},g,{range:p,eventOffset:15,localizer:s,min:o,max:c,scrollToTime:f,enableAutoScroll:d}))}}])})(D.Component);De.defaultProps=Sn.defaultProps;De.navigate=function(n,t,e){var r=e.localizer;switch(t){case Rt.PREVIOUS:return r.add(n,-1,"week");case Rt.NEXT:return r.add(n,1,"week");default:return n}};De.range=function(n,t){var e=t.localizer,r=e.startOfWeek(),i=e.startOf(n,"week",r),s=e.endOf(n,"week",r);return e.range(i,s)};De.title=function(n,t){var e=t.localizer,r=De.range(n,{localizer:e}),i=Nm(r),s=i[0],a=i.slice(1);return e.format({start:s,end:a.pop()},"dayRangeHeaderFormat")};var lE=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function pu(n,t){return De.range(n,t).filter(function(e){return[6,0].indexOf(e.getDay())===-1})}var Or=(function(n){function t(){return ht(this,t),wt(this,t,arguments)}return xt(t,n),ft(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,a=r.min,o=a===void 0?s.startOf(new Date,"day"):a,l=r.max,c=l===void 0?s.endOf(new Date,"day"):l,u=r.scrollToTime,f=u===void 0?s.startOf(new Date,"day"):u,h=r.enableAutoScroll,d=h===void 0?!0:h,g=Xt(r,lE),p=pu(i,this.props);return D.createElement(Sn,Object.assign({},g,{range:p,eventOffset:15,localizer:s,min:o,max:c,scrollToTime:f,enableAutoScroll:d}))}}])})(D.Component);Or.defaultProps=Sn.defaultProps;Or.range=pu;Or.navigate=De.navigate;Or.title=function(n,t){var e=t.localizer,r=pu(n,{localizer:e}),i=Nm(r),s=i[0],a=i.slice(1);return e.format({start:s,end:a.pop()},"dayRangeHeaderFormat")};var Ui=30;function Ki(n){var t=n.accessors,e=n.components,r=n.date,i=n.events,s=n.getters,a=n.length,o=a===void 0?Ui:a,l=n.localizer,c=n.onDoubleClickEvent,u=n.onSelectEvent,f=n.selected,h=$.useRef(null),d=$.useRef(null),g=$.useRef(null),p=$.useRef(null),v=$.useRef(null);$.useEffect(function(){x()});var m=function(M,O,R){var E=e.event,T=e.date;return O=O.filter(function(A){return hr(A,l.startOf(M,"day"),l.endOf(M,"day"),t,l)}),O.map(function(A,N){var q=t.title(A),L=t.end(A),H=t.start(A),Y=s.eventProp(A,H,L,Wi(A,f)),W=N===0&&l.format(M,"agendaDateFormat"),nt=N===0?D.createElement("td",{rowSpan:O.length,className:"rbc-agenda-date-cell"},T?D.createElement(T,{day:M,label:W}):W):!1;return D.createElement("tr",{key:R+"_"+N,className:Y.className,style:Y.style},nt,D.createElement("td",{className:"rbc-agenda-time-cell"},b(M,A)),D.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(k){return u&&u(A,k)},onDoubleClick:function(k){return c&&c(A,k)}},E?D.createElement(E,{event:A,title:q}):q))},[])},b=function(M,O){var R="",E=e.time,T=l.messages.allDay,A=t.end(O),N=t.start(O);return t.allDay(O)||(l.eq(N,A)?T=l.format(N,"agendaTimeFormat"):l.isSameDate(N,A)?T=l.format({start:N,end:A},"agendaTimeRangeFormat"):l.isSameDate(M,N)?T=l.format(N,"agendaTimeFormat"):l.isSameDate(M,A)&&(T=l.format(A,"agendaTimeFormat"))),l.gt(M,N,"day")&&(R="rbc-continues-prior"),l.lt(M,A,"day")&&(R+=" rbc-continues-after"),D.createElement("span",{className:R.trim()},E?D.createElement(E,{event:O,day:M,label:T}):T)},x=function(){if(v.current){var M=h.current,O=v.current.firstChild;if(O){var R=p.current.scrollHeight>p.current.clientHeight,E=[],T=E;E=[lc(O.children[0]),lc(O.children[1])],(T[0]!==E[0]||T[1]!==E[1])&&(d.current.style.width=E[0]+"px",g.current.style.width=E[1]+"px"),R?(Mb(M,"rbc-header-overflowing"),M.style.marginRight=Yc()+"px"):Db(M,"rbc-header-overflowing")}}},y=l.messages,_=l.add(r,o,"day"),w=l.range(r,_,"day");return i=i.filter(function(S){return hr(S,l.startOf(r,"day"),l.endOf(_,"day"),t,l)}),i.sort(function(S,M){return+t.start(S)-+t.start(M)}),D.createElement("div",{className:"rbc-agenda-view"},i.length!==0?D.createElement(D.Fragment,null,D.createElement("table",{ref:h,className:"rbc-agenda-table"},D.createElement("thead",null,D.createElement("tr",null,D.createElement("th",{className:"rbc-header",ref:d},y.date),D.createElement("th",{className:"rbc-header",ref:g},y.time),D.createElement("th",{className:"rbc-header"},y.event)))),D.createElement("div",{className:"rbc-agenda-content",ref:p},D.createElement("table",{className:"rbc-agenda-table"},D.createElement("tbody",{ref:v},w.map(function(S,M){return m(S,i,M)}))))):D.createElement("span",{className:"rbc-agenda-empty"},y.noEventsInRange))}Ki.range=function(n,t){var e=t.length,r=e===void 0?Ui:e,i=t.localizer,s=i.add(n,r,"day");return{start:n,end:s}};Ki.navigate=function(n,t,e){var r=e.length,i=r===void 0?Ui:r,s=e.localizer;switch(t){case Rt.PREVIOUS:return s.add(n,-i,"day");case Rt.NEXT:return s.add(n,i,"day");default:return n}};Ki.title=function(n,t){var e=t.length,r=e===void 0?Ui:e,i=t.localizer,s=i.add(n,r,"day");return i.format({start:n,end:s},"agendaHeaderFormat")};var oi=sn(sn(sn(sn(sn({},St.MONTH,Vi),St.WEEK,De),St.WORK_WEEK,Or),St.DAY,Yi),St.AGENDA,Ki),cE=["action","date","today"];function uE(n,t){var e=t.action,r=t.date,i=t.today,s=Xt(t,cE);switch(n=typeof n=="string"?oi[n]:n,e){case Rt.TODAY:r=i||new Date;break;case Rt.DATE:break;default:nr(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,e,s)}return r}function fE(n,t){var e=null;return typeof t=="function"?e=t(n):typeof t=="string"&&pc(n)==="object"&&n!=null&&t in n&&(e=n[t]),e}var re=function(t){return function(e){return fE(e,t)}},hE=["view","date","getNow","onNavigate"],dE=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function ab(n){if(Array.isArray(n))return n;for(var t=[],e=0,r=Object.entries(n);e<r.length;e++){var i=It(r[e],2),s=i[0],a=i[1];a&&t.push(s)}return t}function pE(n,t){var e=t.views,r=ab(e);return r.indexOf(n)!==-1}var ob=(function(n){function t(){var e;ht(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=wt(this,t,[].concat(i)),e.getViews=function(){var a=e.props.views;return Array.isArray(a)?ND(a,function(o,l){return o[l]=oi[l]},{}):pc(a)==="object"?oD(a,function(o,l){return o===!0?oi[l]:o}):oi},e.getView=function(){var a=e.getViews();return a[e.props.view]},e.getDrilldownView=function(a){var o=e.props,l=o.view,c=o.drilldownView,u=o.getDrilldownView;return u?u(a,l,Object.keys(e.getViews())):c},e.handleRangeChange=function(a,o,l){var c=e.props,u=c.onRangeChange,f=c.localizer;u&&o.range&&u(o.range(a,{localizer:f}),l)},e.handleNavigate=function(a,o){var l=e.props,c=l.view,u=l.date,f=l.getNow,h=l.onNavigate,d=Xt(l,hE),g=e.getView(),p=f();u=uE(g,et(et({},d),{},{action:a,date:o||u||p,today:p})),h(u,c,a),e.handleRangeChange(u,g)},e.handleViewChange=function(a){a!==e.props.view&&pE(a,e.props)&&e.props.onView(a);var o=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),o[a],a)},e.handleSelectEvent=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];it(e.props.onSelectEvent,o)},e.handleDoubleClickEvent=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];it(e.props.onDoubleClickEvent,o)},e.handleKeyPressEvent=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];it(e.props.onKeyPressEvent,o)},e.handleSelectSlot=function(a){it(e.props.onSelectSlot,a)},e.handleDrillDown=function(a,o){var l=e.props.onDrillDown;if(l){l(a,o,e.drilldownView);return}o&&e.handleViewChange(o),e.handleNavigate(Rt.DATE,a)},e.state={context:t.getContext(e.props)},e}return xt(t,n),ft(t,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,a=r.events,o=r.backgroundEvents,l=r.resourceGroupingLayout,c=r.style,u=r.className,f=r.elementProps,h=r.date,d=r.getNow,g=r.length,p=r.showMultiDayTimes,v=r.onShowMore,m=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var b=Xt(r,dE);h=h||d();var x=this.getView(),y=this.state.context,_=y.accessors,w=y.components,S=y.getters,M=y.localizer,O=y.viewNames,R=w.toolbar||mO,E=x.title(h,{localizer:M,length:g});return D.createElement("div",Object.assign({},f,{className:at(u,"rbc-calendar",b.rtl&&"rbc-rtl"),style:c}),s&&D.createElement(R,{date:h,view:i,views:O,label:E,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:M}),D.createElement(x,Object.assign({},b,{events:a,backgroundEvents:o,date:h,getNow:d,length:g,localizer:M,getters:S,components:w,accessors:_,showMultiDayTimes:p,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:v,doShowMoreDrillDown:m,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,a=r.allDayAccessor,o=r.tooltipAccessor,l=r.titleAccessor,c=r.resourceAccessor,u=r.resourceIdAccessor,f=r.resourceTitleAccessor,h=r.eventIdAccessor,d=r.eventPropGetter,g=r.backgroundEventPropGetter,p=r.slotPropGetter,v=r.slotGroupPropGetter,m=r.dayPropGetter,b=r.view,x=r.views,y=r.localizer,_=r.culture,w=r.messages,S=w===void 0?{}:w,M=r.components,O=M===void 0?{}:M,R=r.formats,E=R===void 0?{}:R,T=ab(x),A=yO(S);return{viewNames:T,localizer:vO(y,_,E,A),getters:{eventProp:function(){return d&&d.apply(void 0,arguments)||{}},backgroundEventProp:function(){return g&&g.apply(void 0,arguments)||{}},slotProp:function(){return p&&p.apply(void 0,arguments)||{}},slotGroupProp:function(){return v&&v.apply(void 0,arguments)||{}},dayProp:function(){return m&&m.apply(void 0,arguments)||{}}},components:iD(O[b]||{},LD(O,T),{eventWrapper:Yt,backgroundEventWrapper:Yt,eventContainerWrapper:Yt,dateCellWrapper:Yt,weekWrapper:Yt,timeSlotWrapper:Yt,timeGutterWrapper:Yt,timeIndicatorWrapper:Yt}),accessors:{start:re(i),end:re(s),allDay:re(a),tooltip:re(o),title:re(l),resource:re(c),resourceId:re(u),resourceTitle:re(f),eventId:re(h)}}}}])})(D.Component);ob.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:St.MONTH,views:[St.MONTH,St.WEEK,St.DAY,St.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:St.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var gE=sm(ob,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),vE=function(t,e,r){var i=t.start,s=t.end;return r.format(i,"MMMM DD",e)+"  "+r.format(s,r.eq(i,s,"month")?"DD":"MMMM DD",e)},mE=function(t,e,r){var i=t.start,s=t.end;return r.format(i,"L",e)+"  "+r.format(s,"L",e)},Vl=function(t,e,r){var i=t.start,s=t.end;return r.format(i,"LT",e)+"  "+r.format(s,"LT",e)},bE=function(t,e,r){var i=t.start;return r.format(i,"LT",e)+"  "},yE=function(t,e,r){var i=t.end;return"  "+r.format(i,"LT",e)},_E={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Vl,eventTimeRangeFormat:Vl,eventTimeRangeStartFormat:bE,eventTimeRangeEndFormat:yE,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:vE,agendaHeaderFormat:mE,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Vl};function me(n){var t=n&&n.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function xE(n){var t=function(k,P){return P?k.locale(P):k};function e(C){return n(C).toDate().getTimezoneOffset()}function r(C,k){var P,F,z=n(C).local(),j=n(k).local();if(!n.tz)return z.toDate().getTimezoneOffset()-j.toDate().getTimezoneOffset();var tt=(P=z==null||(F=z._z)===null||F===void 0?void 0:F.name)!==null&&P!==void 0?P:n.tz.guess(),X=n.tz.zone(tt).utcOffset(+z),Tt=n.tz.zone(tt).utcOffset(+j);return X-Tt}function i(C){var k=n(C).startOf("day");return r(k,C)}function s(C,k,P){var F=me(P),z=F?n(C).startOf(F):n(C),j=F?n(k).startOf(F):n(k);return[z,j,F]}function a(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,k=arguments.length>1?arguments[1]:void 0,P=me(k);return P?n(C).startOf(P).toDate():n(C).toDate()}function o(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,k=arguments.length>1?arguments[1]:void 0,P=me(k);return P?n(C).endOf(P).toDate():n(C).toDate()}function l(C,k,P){var F=s(C,k,P),z=It(F,3),j=z[0],tt=z[1],X=z[2];return j.isSame(tt,X)}function c(C,k,P){return!l(C,k,P)}function u(C,k,P){var F=s(C,k,P),z=It(F,3),j=z[0],tt=z[1],X=z[2];return j.isAfter(tt,X)}function f(C,k,P){var F=s(C,k,P),z=It(F,3),j=z[0],tt=z[1],X=z[2];return j.isBefore(tt,X)}function h(C,k,P){var F=s(C,k,P),z=It(F,3),j=z[0],tt=z[1],X=z[2];return j.isSameOrBefore(tt,X)}function d(C,k,P){var F=s(C,k,P),z=It(F,3),j=z[0],tt=z[1],X=z[2];return j.isSameOrBefore(tt,X)}function g(C,k,P){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",z=me(F),j=n(C),tt=n(k),X=n(P);return j.isBetween(tt,X,z,"[]")}function p(C,k){var P=n(C),F=n(k),z=n.min(P,F);return z.toDate()}function v(C,k){var P=n(C),F=n(k),z=n.max(P,F);return z.toDate()}function m(C,k){if(!C&&!k)return null;var P=n(k).format("HH:mm:ss"),F=n(C).startOf("day").format("MM/DD/YYYY");return n("".concat(F," ").concat(P),"MM/DD/YYYY HH:mm:ss").toDate()}function b(C,k,P){var F=me(P);return n(C).add(k,F).toDate()}function x(C,k){for(var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",F=me(P),z=n(C).toDate(),j=[];d(z,k);)j.push(z),z=b(z,1,F);return j}function y(C,k){var P=me(k),F=a(C,P);return l(F,C)?F:b(F,1,P)}function _(C,k){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",F=me(P),z=n(C),j=n(k);return j.diff(z,F)}function w(C){var k=n(C);return k.minutes()}function S(C){var k=C?n.localeData(C):n.localeData();return k?k.firstDayOfWeek():0}function M(C){return n(C).startOf("month").startOf("week").toDate()}function O(C){return n(C).endOf("month").endOf("week").toDate()}function R(C){for(var k=M(C),P=O(C),F=[];d(k,P);)F.push(k),k=b(k,1,"d");return F}function E(C,k,P){return n(C).startOf("day").minute(k+P).toDate()}function T(C,k){return _(C,k,"minutes")}function A(C){var k=n(C).startOf("day"),P=n(C);return P.diff(k,"minutes")+i(C)}function N(C,k){var P=n(C),F=n(k);return P.isBefore(F,"day")}function q(C,k,P){var F=n(k),z=n(P);return F.isSameOrAfter(z,"minutes")}function L(C,k){var P=n(C),F=n(k),z=n.duration(F.diff(P));return z.days()}function H(C){var k=C.evtA,P=k.start,F=k.end,z=k.allDay,j=C.evtB,tt=j.start,X=j.end,Tt=j.allDay,he=+a(P,"day")-+a(tt,"day"),Jt=L(P,F),Te=L(tt,X);return he||Te-Jt||!!Tt-!!z||+P-+tt||+F-+X}function Y(C){var k=C.event,P=k.start,F=k.end,z=C.range,j=z.start,tt=z.end,X=n(P).startOf("day"),Tt=n(F),he=n(j),Jt=n(tt),Te=X.isSameOrBefore(Jt,"day"),en=!X.isSame(Tt,"minutes"),Mn=en?Tt.isAfter(he,"minutes"):Tt.isSameOrAfter(he,"minutes");return Te&&Mn}function W(C,k){var P=n(C),F=n(k);return P.isSame(F,"day")}function nt(){var C=new Date,k=/-/.test(C.toString())?"-":"",P=C.getTimezoneOffset(),F=Number("".concat(k).concat(Math.abs(P))),z=n().utcOffset();return z>F?1:0}return new gO({formats:_E,firstOfWeek:S,firstVisibleDay:M,lastVisibleDay:O,visibleDays:R,format:function(k,P,F){return t(n(k),F).format(P)},lt:f,lte:d,gt:u,gte:h,eq:l,neq:c,merge:m,inRange:g,startOf:a,endOf:o,range:x,add:b,diff:_,ceil:y,min:p,max:v,minutes:w,getSlotDate:E,getTimezoneOffset:e,getDstOffset:r,getTotalMin:T,getMinutesFromMidnight:A,continuesPrior:N,continuesAfter:q,sortEvents:H,inEventRange:Y,isSameDate:W,daySpan:L,browserTZOffset:nt})}const wE=xE(_b),WE=()=>{const[n,t]=$.useState([]),[e,r]=$.useState(!0);$.useEffect(()=>{i()},[]);const i=async()=>{try{r(!0);const a=localStorage.getItem("rts_user_uuid");if(!a){Gi.error("User session not found. Please login again."),r(!1);return}const l=(await xb("rts/dashboard/interviews",{user_uuid:a})).data;l.code===200?t(l.data||[]):Gi.error(l.message||"Failed to fetch interviews")}catch(a){console.error("Error fetching interviews:",a),Gi.error("Error loading interview schedule")}finally{r(!1)}},s=n.map(a=>({start:new Date(a.from),end:new Date(a.to),title:`${a.candidate_name} - ${a.job_title}`}));return e?vt.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden h-full flex items-center justify-center",children:vt.jsx(wb,{})}):vt.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden h-full flex flex-col",children:[vt.jsxs("div",{className:"p-5 border-b border-gray-100",children:[vt.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[vt.jsx(yu,{className:"text-emerald-600"}),vt.jsx("span",{children:"Interview Schedule"})]}),vt.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upcoming interviews & events"})]}),vt.jsx("div",{className:"flex-1 p-4 overflow-hidden custom-scroll",children:n.length===0?vt.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[vt.jsx(yu,{size:48,className:"mb-3 text-gray-300"}),vt.jsx("p",{className:"text-sm font-medium",children:"No upcoming interviews scheduled"}),vt.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Interviews will appear here when scheduled"})]}):vt.jsx(gE,{localizer:wE,events:s,startAccessor:"start",endAccessor:"end",views:{day:!0},defaultView:"day",style:{height:500},className:"responsive-calendar rounded-lg",eventPropGetter:a=>({style:{backgroundColor:"rgb(99, 102, 241)",color:"white",borderRadius:"6px",border:"none",padding:"2px 4px",fontSize:"11px",fontWeight:"600"}}),min:new Date(0,0,0,10,0,0),max:new Date(0,0,0,19,0,0),dayLayoutAlgorithm:"overlap"})})]})};export{Br as A,$E as B,Nc as C,HE as D,WE as I,Wf as L,jE as P,Hf as a,cs as b,as as c,ze as d,zE as e,qE as f,BE as g,FE as i,NE as p};
