import{j as r,L as n}from"./index-COwHQbsL.js";import{f as b,J as x}from"./JobStatusScreen-CtxqNb-c.js";import{G as h}from"./GetAPI-C0R9K2iB.js";import{f as v,e as S,r as e}from"./react-vendor-DWPARcIf.js";import{y as i}from"./ui-vendor-TdGwSbkz.js";import{S as w}from"./Sidebar-B-2OmSXX.js";import"./react-lifecycles-compat.es-Bz2kNPGS.js";import"./Interviews-XW6KdzvB.js";import"./config-BbshSSl6.js";import"./index-DucPhvMM.js";import"./icons-vendor-iI49wpkt.js";import"./ButtonMini-CaOGSc3V.js";import"./PostAPI-Dm7qi3aC.js";import"./rtsApi-Dl_EsLra.js";import"./moment-BndZFSQF.js";import"./memoize-one.esm-DQq2xVVF.js";import"./react-select.esm-BGwzlP6T.js";import"./proxy-CicwmFvx.js";import"./useEventCallback-xcI9g-7C.js";import"./chart-vendor-DMhujEC7.js";import"./inheritsLoose-MEHl_3-6.js";const Q=()=>{const{uuid:s}=v(),t=S(),[f,y]=e.useState(b),[m,c]=e.useState({}),[d,a]=e.useState(!0),[l,u]=e.useState(null),p=(o,C)=>{o==="logout"?(localStorage.clear(),t("/rts/login")):t("/rts/"+o)};e.useEffect(()=>{if(!localStorage.getItem("rts_user_uuid")){i.error("Please login to view job details"),t("/rts/login");return}s&&j()},[s,t]);const j=async()=>{a(!0);try{const o=await h(`rts/jobs/uuid/${s}`);o.code===200&&o.job?(c(o.job),u(o.job.job_id)):(i.error("Failed to load job details"),t("/rts/jobs"))}catch(o){console.error("Error fetching job details:",o),i.error("Error loading job details"),t("/rts/jobs")}finally{a(!1)}},g=()=>{t("/rts/jobs")};return d?r.jsx(n,{}):l?r.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 w-full",children:[r.jsx(w,{activeComponent:"jobs",onMenuClick:p}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden w-full",children:r.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50",children:r.jsx("div",{className:"w-full h-full",children:r.jsx(x,{primID:l,onBack:g,formConfig:f,formData:m})})})})]}):r.jsx(n,{})};export{Q as default};
