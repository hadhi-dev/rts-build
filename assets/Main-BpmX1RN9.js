import{j as e}from"./index-DNa0Yil1.js";import{L as oe}from"./Loading-D3nLJ_fK.js";import{c as ne}from"./config-BbshSSl6.js";import{M as de,S as ce,J as me,i as Y,f as xe,t as pe,c as ue}from"./JobStatusScreen-B1YecSgL.js";import{G as U}from"./GetAPI-C0R9K2iB.js";import{P as K}from"./PostAPI-Dm7qi3aC.js";import{r as h,g as ge,h as ae}from"./react-vendor-C96nFidc.js";import{y as I}from"./ui-vendor-CrwEJxT6.js";import{C as he,I as V,R as re,T as be}from"./TableView-BfFTfatC.js";import{B as fe,a as ye,b as je,d as le}from"./ProfileSharing-Bnl4EvtU.js";import{r as z,s as ee,l as Ne,t as ve,u as we,v as ke,w as Ce,b as _e,c as Se,x as Fe,y as Ie,z as Me,f as Ae,d as Te,e as Pe}from"./index-axgJKuQs.js";import{m as F}from"./proxy-CTgwcGH_.js";import{c as ie}from"./createLucideIcon-DV-zFfOT.js";import{A as $e}from"./index-DzeR3Iiq.js";import{Z as De}from"./zap-c_veqbZ3.js";import{B as Re}from"./ButtonMini-DVOq2F3I.js";import{C as Ve}from"./chevron-down-DO3aSX0V.js";import"./react-lifecycles-compat.es-Bz2kNPGS.js";import"./rtsApi-Dl_EsLra.js";import"./moment-bKu5bFg9.js";import"./icons-vendor-D-G97rvP.js";import"./useEventCallback-BDucWkjR.js";import"./chart-vendor-BxnJ_ABw.js";import"./memoize-one.esm-DQq2xVVF.js";import"./react-select.esm-DvMdT6fL.js";import"./inheritsLoose-MEHl_3-6.js";import"./eye-BQzLtrBS.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ee=ie("Sparkles",Le);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],te=ie("WandSparkles",Je),ze=({handleSubmit:_,clearForm:N,primID:l,formConfig:i,formData:c,handleChange:m,onBack:y,title:w,handleAiAutoFill:b})=>{const[d,s]=h.useState(!1),[j,f]=h.useState(""),[n,k]=h.useState(!1),T=async t=>{if(t.preventDefault(),!!j.trim()){k(!0);try{await b(j),s(!1),f("")}catch(o){console.error("AI Fill failed",o)}finally{k(!1)}}},v=i.filter(t=>t.type!=="checkbox"&&t.IsVisible&&["job_title","job_order","client_id","recruiter_id"].includes(t.fieldName)),u=i.filter(t=>t.type!=="checkbox"&&t.IsVisible&&["employment_type","salary_range","education_level","number_of_positions","experience_required"].includes(t.fieldName)),M=i.filter(t=>t.type!=="checkbox"&&t.IsVisible&&["job_priority","job_status","location","certifications"].includes(t.fieldName)),A=i.filter(t=>t.type!=="checkbox"&&t.IsVisible&&["required_skills"].includes(t.fieldName)),C=i.filter(t=>t.type!=="checkbox"&&t.IsVisible&&["job_description"].includes(t.fieldName)),g=i.filter(t=>t.type==="checkbox"&&t.IsVisible);return e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:_,className:"min-h-screen w-full bg-gray-50",children:[e.jsx(F.div,{className:"sticky top-0 z-40 border-b border-gray-200 bg-white shadow-sm",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 py-5",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{type:"button",className:"rounded-lg p-2.5 text-gray-600 transition-all hover:bg-gray-100 hover:text-emerald-600",onClick:()=>y("table"),title:"Go back",children:e.jsx(fe,{className:"text-xl"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[l?"Edit":"Create New"," ",w]}),e.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:l?"Update the job posting details":"Add a new job posting to your list"})]})]}),e.jsxs("div",{className:"hidden items-center space-x-3 md:flex",children:[e.jsxs("button",{type:"button",onClick:()=>s(!0),className:"flex items-center gap-2 rounded-lg bg-gradient-to-r from-indigo-600 to-blue-500 px-4 py-2.5 font-bold text-white transition-all hover:scale-105 hover:shadow-xl active:scale-95",children:[e.jsx(te,{size:18,className:"animate-pulse"}),e.jsx("span",{children:"Magic Fill"})]}),l?e.jsxs("button",{type:"button",onClick:()=>y("table"),className:"flex items-center gap-2 rounded-lg border-2 border-gray-200 px-4 py-2.5 font-semibold text-gray-700 transition-all hover:border-gray-300 hover:bg-gray-50",children:[e.jsx(z,{className:"text-lg"}),"Close"]}):e.jsxs("button",{type:"button",onClick:N,className:"flex items-center gap-2 rounded-lg border-2 border-gray-200 px-4 py-2.5 font-semibold text-gray-700 transition-all hover:border-gray-300 hover:bg-gray-50",children:[e.jsx(z,{className:"text-lg"}),"Clear"]}),e.jsxs("button",{type:"submit",className:"flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-600 px-4 py-2.5 font-semibold text-white transition-all hover:shadow-lg",children:[e.jsx(ee,{className:"text-lg"}),l>0?"Update":"Save"]})]})]})}),e.jsxs("div",{className:"mx-auto max-w-6xl space-y-4 p-4 pb-32 md:p-6",children:[g.length>0&&e.jsxs(F.div,{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm md:p-5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[e.jsxs("h3",{className:"mb-3 flex items-center gap-2 text-xs font-bold tracking-widest text-gray-900 uppercase",children:[e.jsx("span",{className:"h-4 w-1 rounded bg-emerald-600"}),"Options"]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:g.map(t=>e.jsx(he,{field:t,formData:c,handleChange:m},t.fieldName))})]}),v.length>0&&e.jsxs(F.div,{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm md:p-5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.15},children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-xs font-bold tracking-widest text-gray-900 uppercase",children:[e.jsx("span",{className:"h-4 w-1 rounded bg-emerald-600"}),"Basic Information"]}),e.jsx("div",{className:"grid w-full grid-cols-1 gap-6 md:grid-cols-2",children:v.map(t=>e.jsx("div",{className:"w-full min-w-0",children:e.jsx(V,{field:t,formData:c,handleChange:m})},`wrapper-${t.fieldName}`))})]}),u.length>0&&e.jsxs(F.div,{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm md:p-5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-xs font-bold tracking-widest text-gray-900 uppercase",children:[e.jsx("span",{className:"h-4 w-1 rounded bg-teal-600"}),"Employment Details"]}),e.jsx("div",{className:"grid w-full grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.map(t=>e.jsx("div",{className:"w-full min-w-0",children:e.jsx(V,{field:t,formData:c,handleChange:m})},`wrapper-${t.fieldName}`))})]}),M.length>0&&e.jsxs(F.div,{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm md:p-5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.25},children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-xs font-bold tracking-widest text-gray-900 uppercase",children:[e.jsx("span",{className:"h-4 w-1 rounded bg-orange-500"}),"Job Details"]}),e.jsx("div",{className:"grid w-full grid-cols-1 gap-6 md:grid-cols-2",children:M.map(t=>e.jsx("div",{className:"w-full min-w-0",children:e.jsx(V,{field:t,formData:c,handleChange:m})},`wrapper-${t.fieldName}`))})]}),A.length>0&&e.jsxs(F.div,{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm md:p-5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-xs font-bold tracking-widest text-gray-900 uppercase",children:[e.jsx("span",{className:"h-4 w-1 rounded bg-teal-600"}),"Required Skills"]}),e.jsx("div",{className:"space-y-4",children:A.map(t=>e.jsx(V,{field:t,formData:c,handleChange:m},t.fieldName))})]}),C.length>0&&e.jsxs(F.div,{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm md:p-5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.35},children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-xs font-bold tracking-widest text-gray-900 uppercase",children:[e.jsx("span",{className:"h-4 w-1 rounded bg-green-600"}),"Job Description"]}),e.jsx("div",{className:"space-y-4",children:C.map(t=>e.jsx(V,{field:t,formData:c,handleChange:m},t.fieldName))})]}),i.filter(t=>t.type!=="checkbox"&&t.IsVisible&&!v.some(o=>o.fieldName===t.fieldName)&&!u.some(o=>o.fieldName===t.fieldName)&&!M.some(o=>o.fieldName===t.fieldName)&&!A.some(o=>o.fieldName===t.fieldName)&&!C.some(o=>o.fieldName===t.fieldName)).length>0&&e.jsxs(F.div,{className:"rounded-xl border border-gray-100 bg-white p-4 shadow-sm md:p-5",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:[e.jsxs("h3",{className:"mb-6 flex items-center gap-2 text-xs font-bold tracking-widest text-gray-900 uppercase",children:[e.jsx("span",{className:"h-4 w-1 rounded bg-blue-600"}),"Additional Information"]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:i.filter(t=>t.type!=="checkbox"&&t.IsVisible&&!v.some(o=>o.fieldName===t.fieldName)&&!u.some(o=>o.fieldName===t.fieldName)&&!M.some(o=>o.fieldName===t.fieldName)&&!A.some(o=>o.fieldName===t.fieldName)&&!C.some(o=>o.fieldName===t.fieldName)).map(t=>e.jsx(V,{field:t,formData:c,handleChange:m},t.fieldName))})]})]}),e.jsxs(F.div,{className:"fixed right-0 bottom-0 left-0 flex justify-end gap-2 space-x-2 border-t border-gray-200 bg-white p-4 md:hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("button",{type:"button",onClick:()=>s(!0),className:"flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-2.5 font-semibold text-white transition-all hover:shadow-lg",children:[e.jsx(te,{className:"text-lg"}),"AI AutoFill"]}),l?e.jsxs("button",{type:"button",onClick:()=>y("table"),className:"flex items-center gap-2 rounded-lg border-2 border-gray-200 px-4 py-2.5 font-semibold text-gray-700 transition-all hover:bg-gray-50",children:[e.jsx(z,{className:"text-lg"}),"Close"]}):e.jsxs("button",{type:"button",onClick:N,className:"flex items-center gap-2 rounded-lg border-2 border-gray-200 px-4 py-2.5 font-semibold text-gray-700 transition-all hover:bg-gray-50",children:[e.jsx(z,{className:"text-lg"}),"Clear"]}),e.jsxs("button",{type:"submit",className:"flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-600 px-4 py-2.5 font-semibold text-white transition-all hover:shadow-lg",children:[e.jsx(ee,{className:"text-lg"}),l>0?"Update":"Save"]})]})]}),e.jsx($e,{children:d&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!n&&s(!1),className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),e.jsxs(F.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-lg rounded-2xl bg-white p-6 shadow-2xl",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-lg font-bold text-gray-900",children:[e.jsx(Ee,{className:"text-blue-600"}),"AI Smart Fill"]}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 transition-colors hover:text-gray-600",disabled:n,children:e.jsx(z,{})})]}),e.jsx("p",{className:"mb-4 text-sm text-gray-500",children:'Describe the job in plain text (e.g., "Need a React Dev in Chennai, 3 years exp, 10LPA"). Farhan will auto-fill the form for you.'}),e.jsxs("form",{onSubmit:T,children:[e.jsx("textarea",{autoFocus:!0,className:"min-h-[120px] w-full resize-none rounded-xl border-2 border-gray-100 p-4 transition-all focus:border-blue-500 focus:outline-none",placeholder:"Paste job details here...",value:j,onChange:t=>f(t.target.value),disabled:n}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>s(!1),className:"rounded-lg px-4 py-2 text-sm font-semibold text-gray-600 transition-colors hover:bg-gray-100",disabled:n,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n||!j.trim(),className:"flex items-center gap-2 rounded-lg bg-blue-600 px-6 py-2 text-sm font-bold text-white shadow-md transition-all hover:bg-blue-700 disabled:bg-blue-300",children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"animate-spin"}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{})," Generate Fields"]})})]})]})]})]})})]})},qe=({handleAdd:_,title:N,refresh:l,TotalCount:i,filterContent:c})=>e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 w-full bg-white rounded-lg shadow-sm border border-gray-100 p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-1.5 h-10 bg-gradient-to-b from-emerald-600 to-teal-600 rounded-full"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:N}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Total: ",e.jsx("span",{className:"text-emerald-600 font-semibold",children:i??0})," jobs"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 justify-center",children:[e.jsx("button",{title:"Refresh Data",onClick:l,className:"transition-all duration-200 text-gray-600 hover:text-emerald-600 mt-2 ",children:e.jsx("i",{class:"material-icons text-base",children:"refresh"})}),e.jsx(Re,{name:"Create New Job",onClick:_,color:"emerald",icon:"add",className:"shadow-sm hover:shadow-md transition-all duration-300"})]})]}),c&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-3",children:c})]}),Be=()=>e.jsxs(F.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},className:"flex flex-col items-center justify-center h-96 text-center",children:[e.jsx(ve,{className:"text-5xl mb-2 text-yellow-500"}),e.jsx("h5",{className:"text-lg text-gray-600",children:"No Records Found"})]}),Oe=({handleSearchChange:_,searchInput:N,toggleView:l,isCardView:i,handleItemsPerPageChange:c,itemsPerPage:m,pageCount:y,onPageChange:w,setCurrentPage:b,setDateRange:d,startDate:s,endDate:j,count:f})=>e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("div",{className:"flex w-full items-center space-x-2",children:[e.jsxs("form",{className:"flex w-1/3 items-center",children:[e.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("svg",{"aria-hidden":"true",className:"h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{placeholder:"Search ...",type:"text",id:"simple-search",className:"focus:ring-primary-500 focus:border-primary-500 block w-full rounded-lg border border-gray-300 bg-gray-50 p-2 pl-10 text-sm text-gray-900",onChange:_,value:N})]})]}),e.jsx("button",{onClick:l,title:i?"Table View":"Card View",className:"ml-1 flex items-center justify-center rounded-full border border-emerald-600 px-2 py-2 text-emerald-600 hover:border-emerald-700 hover:text-emerald-700 focus:outline-none",children:e.jsx("i",{className:"material-icons text-sm md:text-lg",children:i?"view_list":"view_module"})}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("select",{title:"Rows Per Page",id:"itemsPerPage",className:"appearance-none rounded-full border border-emerald-600 bg-white px-4 py-2 pr-8 text-emerald-600 hover:border-emerald-700 hover:text-emerald-700 focus:outline-none",onChange:c,value:m,children:[10,20,50,100].map(n=>e.jsx("option",{value:n,children:n},n))}),e.jsx(Ve,{size:18,className:"pointer-events-none absolute top-1/2 right-3 -translate-y-1/2 text-emerald-600"})]}),d&&e.jsxs("div",{className:"relative z-10 hidden items-center space-x-4 md:flex",children:[e.jsx(ye,{id:"date-range-picker",selectsRange:!0,startDate:s,endDate:j,onChange:n=>{d(n),b(0)},isClearable:!0,placeholderText:"Select date range",className:"focus:ring-primary-500 focus:border-primary-500 block w-full rounded-lg border border-gray-300 bg-gray-50 p-2 pl-10 text-sm text-gray-900"}),e.jsx("span",{className:"text-xs text-gray-700",children:f?`(${f} Inters)`:""})]})]}),w&&e.jsx("div",{className:"hidden items-center md:flex",children:e.jsx(re,{previousLabel:e.jsx(ke,{size:18,className:"text-emerald-600"}),nextLabel:e.jsx(we,{size:18,className:"text-emerald-600"}),breakLabel:"...",pageCount:y,marginPagesDisplayed:1,pageRangeDisplayed:2,onPageChange:w,containerClassName:"flex items-center space-x-1",pageClassName:"px-0",pageLinkClassName:"px-2 py-1 rounded-lg hover:bg-emerald-50 hover:text-emerald-600 block",activeClassName:"bg-emerald-700 text-white rounded-lg",previousClassName:"px-1 py-1 rounded-lg hover:bg-emerald-50 hover:text-emerald-600",nextClassName:"px-1 py-1 rounded-lg hover:bg-emerald-50 hover:text-emerald-600",disabledClassName:"opacity-50 cursor-not-allowed",breakClassName:"px-2 py-1 text-gray-500"})})]});var H={exports:{}},Ue=H.exports,se;function He(){return se||(se=1,(function(_,N){(function(l,i){_.exports=i()})(Ue,(function(){return function(l,i,c){l=l||{};var m=i.prototype,y={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function w(d,s,j,f){return m.fromToBase(d,s,j,f)}c.en.relativeTime=y,m.fromToBase=function(d,s,j,f,n){for(var k,T,v,u=j.$locale().relativeTime||y,M=l.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],A=M.length,C=0;C<A;C+=1){var g=M[C];g.d&&(k=f?c(d).diff(j,g.d,!0):j.diff(d,g.d,!0));var t=(l.rounding||Math.round)(Math.abs(k));if(v=k>0,t<=g.r||!g.r){t<=1&&C>0&&(g=M[C-1]);var o=u[g.l];n&&(t=n(""+t)),T=typeof o=="string"?o.replace("%d",t):o(t,s,g.l,v);break}}if(s)return T;var D=v?u.future:u.past;return typeof D=="function"?D(T):D.replace("%s",T)},m.to=function(d,s){return w(d,s,this,!0)},m.from=function(d,s){return w(d,s,this)};var b=function(d){return d.$u?c.utc():c()};m.toNow=function(d){return this.to(b(this),d)},m.fromNow=function(d){return this.from(b(this),d)}}}))})(H)),H.exports}var Ge=He();const We=ge(Ge);le.extend(We);const Ze={hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.1,staggerChildren:.08}}},Qe={hidden:{opacity:0,y:8},visible:{opacity:1,y:0,transition:{duration:.3}}},Xe=({data:_,handleEdit:N,handleView:l,IDPK:i,actionsBtn:c=[]})=>{const m=localStorage.getItem("rts_user_type"),y=ae(),w=s=>{switch(s){case"Open":return{bg:"bg-green-50",border:"border-green-200",badge:"bg-green-100 text-green-700"};case"Closed":return{bg:"bg-red-50",border:"border-red-200",badge:"bg-red-100 text-red-700"};default:return{bg:"bg-yellow-50",border:"border-yellow-200",badge:"bg-yellow-100 text-yellow-700"}}},b=s=>{switch(s){case"Open":return e.jsx(Pe,{className:"text-green-600"});case"Closed":return e.jsx(Te,{className:"text-red-600"});default:return e.jsx(Ae,{className:"text-yellow-600"})}},d=s=>{switch(s==null?void 0:s.toLowerCase()){case"high":return"bg-red-100 text-red-700 border-red-300";case"medium":return"bg-orange-100 text-orange-700 border-orange-300";case"low":return"bg-blue-100 text-blue-700 border-blue-300";default:return"bg-gray-100 text-gray-700"}};return e.jsx(F.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 w-full py-2 px-2 max-h-none overflow-auto custom-scroll",variants:Ze,initial:"hidden",animate:"visible",children:_.map((s,j)=>{const f=w(s.job_status);return e.jsxs(F.div,{onDoubleClick:()=>y(`/rts/jobs/${s.uuid}`),className:`group relative overflow-hidden rounded-xl border-2 ${f.border} ${f.bg} bg-white shadow-sm hover:shadow-lg hover:scale-102 transition-all duration-300 cursor-pointer p-3.5`,variants:Qe,children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-emerald-100 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-full -mr-10 -mt-10"}),e.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold backdrop-blur-sm",style:{backgroundColor:f.badge.split(" ")[0],color:f.badge.split(" ")[1]},children:[b(s.job_status),s.job_status]}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-bold rounded-full border ${d(s.job_priority)}`,children:[e.jsx(de,{className:"text-sm"}),s.job_priority]})}),e.jsxs("div",{className:"pt-6 relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2.5",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-emerald-600 transition-colors truncate",children:s.job_title}),m==="Recruiter"&&e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:s.client_name})]}),e.jsx("button",{onClick:()=>N(s[i]),className:"p-2 rounded-lg text-emerald-600 bg-emerald-50 hover:bg-emerald-100 transition-colors flex-shrink-0",title:"Edit Job",children:e.jsx(je,{className:"text-lg"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2.5 py-1.5 bg-white rounded-lg border border-gray-200",children:[e.jsx(Ce,{className:"text-emerald-600 text-sm flex-shrink-0"}),e.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:s.employment_type})]}),e.jsxs("div",{className:"flex items-center gap-2 px-2.5 py-1.5 bg-white rounded-lg border border-gray-200",children:[e.jsx(_e,{className:"text-orange-500 text-sm flex-shrink-0"}),e.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2 px-2.5 py-1.5 bg-white rounded-lg border border-gray-200",children:[e.jsx(Se,{className:"text-teal-600 text-sm flex-shrink-0"}),e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[s.experience_required," yrs"]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-2.5 py-1.5 bg-white rounded-lg border border-gray-200",children:[e.jsx(Fe,{className:"text-teal-600 text-sm flex-shrink-0"}),e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[s.applicantsCount," Apps"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2 pt-3 border-t border-gray-200",children:[e.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-1 flex-shrink-0",children:[e.jsx(Ie,{className:"text-xs"}),"Posted ",le(s.created_at).fromNow()]}),e.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[c.length>0&&c.slice(0,2).map((n,k)=>e.jsx("button",{title:n.title,onClick:()=>n.functionNeed(s[i],s),className:"p-2 rounded-lg transition-all duration-200 hover:scale-110 flex items-center justify-center",style:{backgroundColor:`rgb(from ${n.color==="indigo"?"#4f46e5":n.color==="orange"?"#f97316":"#3b82f6"} r g b / 0.15)`,color:n.color==="indigo"?"#4f46e5":n.color==="orange"?"#f97316":"#3b82f6"},children:e.jsx("i",{className:"material-icons text-base",children:n.icon})},k)),e.jsx("button",{onClick:()=>y(`/rts/jobs/${s.uuid}`),className:"p-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-lg text-xs font-semibold hover:shadow-md hover:scale-110 transition-all duration-200 flex items-center justify-center",children:e.jsx(Me,{className:"text-base"})})]})]})]})]},j)})})},Ye=({tableFields:_,cardViewFields:N,dataList:l,handleEdit:i,handleView:c,title:m,isCardView:y,setCardView:w,IDPK:b})=>{const d=ae(),[s,j]=h.useState(""),[f,n]=h.useState(0),[k,T]=h.useState(10),[v,u]=h.useState(!1),[M,A]=h.useState(null),C=p=>{const S=l.find(a=>a[b]===p);S&&S.uuid?d(`/rts/jobs/${S.uuid}`):I.error("Unable to open job details")},g=(p,S)=>{S(p.target.value),n(0)},t=()=>{w(!y),n(0)},o=({selected:p})=>{n(p)},D=p=>{g(p,T)},q=l.filter(p=>Object.values(p).join(" ").toLowerCase().includes(s.toLowerCase())),R=q.slice(f*k,(f+1)*k),B=Math.ceil(q.length/k),G=p=>{A(p),u(!0)},W=()=>{u(!1)},L=async(p,S)=>{u(!1),I.success("Job Description Shared to "+S);const a=await U(`rts/jobs/share/${p}/${S}`);I.success(a.message)},O=[{icon:"share",color:"indigo",title:"Share",functionNeed:G},{icon:"link",color:"orange",title:"Copy",functionNeed:p=>{const S=l.find(r=>r.job_id==p),a=`${globalThis.location.origin}/rts/apply/job_application/${S.uuid}`;navigator.clipboard.writeText(a).then(()=>{I.success("Job application link copied to clipboard!")}).catch(r=>{console.error("Failed to copy: ",r),I.error("Failed to copy link. Please try again.")})}}];return(l==null?void 0:l.length)===0?e.jsx(Be,{}):e.jsxs("div",{className:"py-2 space-y-2",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:e.jsx(Oe,{handleSearchChange:p=>g(p,j),searchInput:s,toggleView:t,isCardView:y,handleItemsPerPageChange:D,itemsPerPage:k,pageCount:B,onPageChange:o})}),e.jsx("section",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:y?e.jsx(Xe,{data:R,cardViewFields:N,handleEdit:i,handleView:C,title:m,IDPK:b,actionsBtn:O}):e.jsx(be,{tableFields:_,dataList:R,handleEdit:i,handleView:C,IDPK:b,actionsBtn:O})}),e.jsxs("div",{className:"relative md:hidden",children:[e.jsx("div",{className:"mb-16"}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex items-center justify-center space-x-2 p-3",children:e.jsx(re,{pageCount:B,pageRangeDisplayed:2,marginPagesDisplayed:1,onPageChange:o,containerClassName:"pagination flex space-x-1",activeClassName:"active",breakClassName:"break-me",breakLinkClassName:"break-link",pageClassName:"page",pageLinkClassName:"page-link px-3 py-2 rounded-lg text-sm font-medium",previousClassName:"previous",previousLinkClassName:"previous-link px-3 py-2 rounded-lg text-sm font-medium",nextClassName:"next",nextLinkClassName:"next-link px-3 py-2 rounded-lg text-sm font-medium",disabledClassName:"disabled opacity-50 cursor-not-allowed",onDoubleClick:p=>p.preventDefault()})})]}),e.jsx(ce,{open:v,onClose:W,onShare:L,currentItemId:M})]})},Ke=({formConfig:_,formData:N,primID:l,onBack:i,handleEdit:c,handleAdd:m,title:y})=>e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"bg-white w-full rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx(me,{primID:l,onBack:i,formConfig:_,formData:N})})}),Q="Job Postings",X="job_id",et="rts/jobs_save",tt="rts/jobs",It=_=>{const[N,l]=h.useState(Y),[i,c]=h.useState(xe),[m,y]=h.useState([]),[w,b]=h.useState("table"),[d,s]=h.useState(0),[j,f]=h.useState(!0),[n,k]=h.useState(""),[T,v]=h.useState(!0),u=localStorage.getItem("rts_user_type"),M=localStorage.getItem("rts_user_uuid"),[A,C]=h.useState([]),[g,t]=h.useState(null);h.useEffect(()=>{u==="Recruiter"&&(async()=>{try{const[r,x]=await Promise.all([U("rts/select/clients"),U("rts/select/recruiters")]);if(r.code===200||x.code===200){const $=r.code===200&&r.data.length>0?r.data:[],P=x.code===200&&x.data.length>0?x.data:[],E=i.map(J=>J.fieldID==="client_id"?{...J,options:$}:J.fieldID==="recruiter_id"?{...J,options:P}:J);c(E)}}catch(r){console.error("Error fetching dropdown data:",r)}})()},[]);const o=async a=>{if(a.trim())try{const{data:r}=await K("rts/form-ai/extract-job-fields",{prompt:a});l(x=>({...x,...r}))}catch(r){console.error("AI Fill failed:",r),alert("Could not process AI request. Limit Reached!")}};h.useEffect(()=>{if(u==="Client"){const a=i.map(r=>r.fieldID==="client_id"?{...r,IsVisible:0}:r.fieldName==="job_title"?{...r,className:"w-full"}:r);c(a)}R()},[]);const D=async()=>{try{v(!0);const{data:a}=await U("rts/jobs/client/dashboard");C(a)}catch(a){I.error("Error fetching data: "+a.message,"Title"),console.error("Error:",a)}finally{v(!1)}},q=(a,r)=>{R(a,r),t(a)},R=async(a=null,r=null)=>{try{v(!0);let x=`?user_uuid=${M}&user_type=${u}`;if(u==="Client"){const E=localStorage.getItem("rts_user_link_id");x+=`&client_id=${E}`}else a&&(x+=`&client_id=${a}`),r!==null&&(x+=`&job_status=${r}`);const $=await fetch(`${ne.API_URL}${tt}${x}`),P=await $.json();$.ok?(y(P.data),P.data.length===0&&I.warning("No Records Found","Title"),k(P.data.length)):(I.error(P.message||"Error fetching data","Title"),k(0))}catch(x){I.error("Error fetching data: "+x.message,"Title"),console.error("Error:",x)}finally{v(!1),u==="Recruiter"&&D()}},B=a=>{const{name:r,checked:x,type:$}=a.target;if($==="checkbox")l(P=>({...P,[r]:x}));else{const P=a.target.value;l(E=>({...E,[r]:P}))}},G=async a=>{try{if(v(!0),u==="Client"){const $=localStorage.getItem("rts_user_link_id");if($)a.client_id=$;else return I.error("Client ID not found in local storage!"),!1}if(!a.client_id||a.client_id===0)return I.error("Client is required to whom the Job is created!"),!1;const{status:r,data:x}=await K(et,{data:a});r===200&&x.code===200?(I.success(x.message),L(),b("table"),R()):I.warning(x.message)}catch(r){console.error("ðŸš€ ~ file: Main.js:71 ~ saveData ~ error:",r),I.error("Something went wrong!")}finally{v(!1)}},W=a=>{a.preventDefault(),G(N)},L=()=>{l(Y),s(0)},Z=a=>{const r=m.find(x=>x[X]===a);s(a),l(r),b("entry")},O=a=>{const r=m.find(x=>x[X]===a);s(a),l(r),b("view")},p=()=>{L(),b("entry")},S=()=>{switch(w){case"entry":return e.jsx(ze,{title:Q,primID:d,formData:N,formConfig:i,handleChange:B,handleSubmit:W,clearForm:L,onBack:()=>b("table"),handleAiAutoFill:o});case"view":return e.jsx(Ke,{title:Q,primID:d,formConfig:i,formData:N,onBack:()=>b("table"),handleEdit:Z,handleAdd:p});case"table":default:return e.jsx(Ye,{IDPK:X,cardViewFields:ue,tableFields:pe,dataList:m,handleEdit:Z,handleView:O,isCardView:j,setCardView:f})}};return e.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[T&&e.jsx(oe,{}),e.jsx("div",{className:"p-2",children:e.jsxs("div",{className:"space-y-2",children:[w==="table"&&e.jsx(qe,{title:Q,handleAdd:p,refresh:()=>R(g),TotalCount:n,filterContent:u==="Recruiter"?e.jsx("div",{children:e.jsx("div",{className:"flex overflow-x-auto gap-1 custom-scroll",children:A&&A.length>0&&A.map(a=>e.jsxs("button",{onClick:()=>q(a.client_id),className:`flex flex-col items-start px-3 py-2 rounded-lg text-xs transition-all whitespace-nowrap flex-shrink-0 border-2 ${g===a.client_id?"bg-emerald-600 text-white border-emerald-600":"bg-white text-gray-700 border-gray-200 hover:border-emerald-300 hover:bg-emerald-50"}`,children:[e.jsx("span",{className:"font-semibold",children:a.client_name}),e.jsxs("div",{className:"flex gap-1.5 mt-1.5 text-xs",children:[e.jsxs("span",{className:`px-1.5 py-0.5 rounded font-medium ${g===a.client_id?"bg-emerald-500":"bg-gray-100 text-gray-700"}`,children:[a.no_of_jobs," Total"]}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded font-medium ${g===a.client_id?"bg-amber-500":"bg-amber-100 text-amber-700"}`,children:[a.no_of_job_open," Open"]}),e.jsxs("span",{className:`px-1.5 py-0.5 rounded font-medium ${g===a.client_id?"bg-green-500":"bg-green-100 text-green-700"}`,children:[a.no_of_job_closed," Closed"]})]})]},a.client_id))})}):null}),w!=="table"&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100",children:S()}),w==="table"&&S()]})})]})};export{It as default};
